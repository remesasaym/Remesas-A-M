function Yj(a,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in a)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function Ih(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Kj(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var s=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var c=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return a[i]}})}),s}var Od={exports:{}},Er={};var Pg;function Xj(){if(Pg)return Er;Pg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:a,type:i,key:d,ref:c!==void 0?c:null,props:u}}return Er.Fragment=t,Er.jsx=s,Er.jsxs=s,Er}var Lg;function Wj(){return Lg||(Lg=1,Od.exports=Xj()),Od.exports}var o=Wj(),Dd={exports:{}},me={};var Bg;function Qj(){if(Bg)return me;Bg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(O,B,K){this.props=O,this.context=B,this.refs=_,this.updater=K||N}C.prototype.isReactComponent={},C.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=C.prototype;function A(O,B,K){this.props=O,this.context=B,this.refs=_,this.updater=K||N}var V=A.prototype=new T;V.constructor=A,S(V,C.prototype),V.isPureReactComponent=!0;var z=Array.isArray;function M(){}var $={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function Y(O,B,K){var Q=K.ref;return{$$typeof:a,type:O,key:B,ref:Q!==void 0?Q:null,props:K}}function ne(O,B){return Y(O.type,B,O.props)}function pe(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function Ae(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return B[K]})}var Ze=/\/+/g;function it(O,B){return typeof O=="object"&&O!==null&&O.key!=null?Ae(""+O.key):B.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(B){O.status==="pending"&&(O.status="fulfilled",O.value=B)},function(B){O.status==="pending"&&(O.status="rejected",O.reason=B)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,B,K,Q,re){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(fe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case a:case t:Ee=!0;break;case y:return Ee=O._init,H(Ee(O._payload),B,K,Q,re)}}if(Ee)return re=re(O),Ee=Q===""?"."+it(O,0):Q,z(re)?(K="",Ee!=null&&(K=Ee.replace(Ze,"$&/")+"/"),H(re,B,K,"",function(en){return en})):re!=null&&(pe(re)&&(re=ne(re,K+(re.key==null||O&&O.key===re.key?"":(""+re.key).replace(Ze,"$&/")+"/")+Ee)),B.push(re)),1;Ee=0;var $e=Q===""?".":Q+":";if(z(O))for(var He=0;He<O.length;He++)Q=O[He],fe=$e+it(Q,He),Ee+=H(Q,B,K,fe,re);else if(He=w(O),typeof He=="function")for(O=He.call(O),He=0;!(Q=O.next()).done;)Q=Q.value,fe=$e+it(Q,He++),Ee+=H(Q,B,K,fe,re);else if(fe==="object"){if(typeof O.then=="function")return H(De(O),B,K,Q,re);throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function W(O,B,K){if(O==null)return O;var Q=[],re=0;return H(O,Q,"","",function(fe){return B.call(K,fe,re++)}),Q}function J(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},we={map:W,forEach:function(O,B,K){W(O,function(){B.apply(this,arguments)},K)},count:function(O){var B=0;return W(O,function(){B++}),B},toArray:function(O){return W(O,function(B){return B})||[]},only:function(O){if(!pe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return me.Activity=x,me.Children=we,me.Component=C,me.Fragment=s,me.Profiler=c,me.PureComponent=A,me.StrictMode=i,me.Suspense=p,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return $.H.useMemoCache(O)}},me.cache=function(O){return function(){return O.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(O,B,K){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Q=S({},O.props),re=O.key;if(B!=null)for(fe in B.key!==void 0&&(re=""+B.key),B)!X.call(B,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&B.ref===void 0||(Q[fe]=B[fe]);var fe=arguments.length-2;if(fe===1)Q.children=K;else if(1<fe){for(var Ee=Array(fe),$e=0;$e<fe;$e++)Ee[$e]=arguments[$e+2];Q.children=Ee}return Y(O.type,re,Q)},me.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},me.createElement=function(O,B,K){var Q,re={},fe=null;if(B!=null)for(Q in B.key!==void 0&&(fe=""+B.key),B)X.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=B[Q]);var Ee=arguments.length-2;if(Ee===1)re.children=K;else if(1<Ee){for(var $e=Array(Ee),He=0;He<Ee;He++)$e[He]=arguments[He+2];re.children=$e}if(O&&O.defaultProps)for(Q in Ee=O.defaultProps,Ee)re[Q]===void 0&&(re[Q]=Ee[Q]);return Y(O,fe,re)},me.createRef=function(){return{current:null}},me.forwardRef=function(O){return{$$typeof:m,render:O}},me.isValidElement=pe,me.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:J}},me.memo=function(O,B){return{$$typeof:g,type:O,compare:B===void 0?null:B}},me.startTransition=function(O){var B=$.T,K={};$.T=K;try{var Q=O(),re=$.S;re!==null&&re(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(M,ve)}catch(fe){ve(fe)}finally{B!==null&&K.types!==null&&(B.types=K.types),$.T=B}},me.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},me.use=function(O){return $.H.use(O)},me.useActionState=function(O,B,K){return $.H.useActionState(O,B,K)},me.useCallback=function(O,B){return $.H.useCallback(O,B)},me.useContext=function(O){return $.H.useContext(O)},me.useDebugValue=function(){},me.useDeferredValue=function(O,B){return $.H.useDeferredValue(O,B)},me.useEffect=function(O,B){return $.H.useEffect(O,B)},me.useEffectEvent=function(O){return $.H.useEffectEvent(O)},me.useId=function(){return $.H.useId()},me.useImperativeHandle=function(O,B,K){return $.H.useImperativeHandle(O,B,K)},me.useInsertionEffect=function(O,B){return $.H.useInsertionEffect(O,B)},me.useLayoutEffect=function(O,B){return $.H.useLayoutEffect(O,B)},me.useMemo=function(O,B){return $.H.useMemo(O,B)},me.useOptimistic=function(O,B){return $.H.useOptimistic(O,B)},me.useReducer=function(O,B,K){return $.H.useReducer(O,B,K)},me.useRef=function(O){return $.H.useRef(O)},me.useState=function(O){return $.H.useState(O)},me.useSyncExternalStore=function(O,B,K){return $.H.useSyncExternalStore(O,B,K)},me.useTransition=function(){return $.H.useTransition()},me.version="19.2.0",me}var zg;function Gh(){return zg||(zg=1,Dd.exports=Qj()),Dd.exports}var E=Gh();const Ma=Ih(E);var Md={exports:{}},Tr={},Ud={exports:{}},Pd={};var Vg;function Jj(){return Vg||(Vg=1,(function(a){function t(H,W){var J=H.length;H.push(W);e:for(;0<J;){var ve=J-1>>>1,we=H[ve];if(0<c(we,W))H[ve]=W,H[J]=we,J=ve;else break e}}function s(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var W=H[0],J=H.pop();if(J!==W){H[0]=J;e:for(var ve=0,we=H.length,O=we>>>1;ve<O;){var B=2*(ve+1)-1,K=H[B],Q=B+1,re=H[Q];if(0>c(K,J))Q<we&&0>c(re,K)?(H[ve]=re,H[Q]=J,ve=Q):(H[ve]=K,H[B]=J,ve=B);else if(Q<we&&0>c(re,J))H[ve]=re,H[Q]=J,ve=Q;else break e}}return W}function c(H,W){var J=H.sortIndex-W.sortIndex;return J!==0?J:H.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],g=[],y=1,x=null,b=3,w=!1,N=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V(H){for(var W=s(g);W!==null;){if(W.callback===null)i(g);else if(W.startTime<=H)i(g),W.sortIndex=W.expirationTime,t(p,W);else break;W=s(g)}}function z(H){if(S=!1,V(H),!N)if(s(p)!==null)N=!0,M||(M=!0,Ae());else{var W=s(g);W!==null&&De(z,W.startTime-H)}}var M=!1,$=-1,X=5,Y=-1;function ne(){return _?!0:!(a.unstable_now()-Y<X)}function pe(){if(_=!1,M){var H=a.unstable_now();Y=H;var W=!0;try{e:{N=!1,S&&(S=!1,T($),$=-1),w=!0;var J=b;try{t:{for(V(H),x=s(p);x!==null&&!(x.expirationTime>H&&ne());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,b=x.priorityLevel;var we=ve(x.expirationTime<=H);if(H=a.unstable_now(),typeof we=="function"){x.callback=we,V(H),W=!0;break t}x===s(p)&&i(p),V(H)}else i(p);x=s(p)}if(x!==null)W=!0;else{var O=s(g);O!==null&&De(z,O.startTime-H),W=!1}}break e}finally{x=null,b=J,w=!1}W=void 0}}finally{W?Ae():M=!1}}}var Ae;if(typeof A=="function")Ae=function(){A(pe)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,it=Ze.port2;Ze.port1.onmessage=pe,Ae=function(){it.postMessage(null)}}else Ae=function(){C(pe,0)};function De(H,W){$=C(function(){H(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(H){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var J=b;b=W;try{return H()}finally{b=J}},a.unstable_requestPaint=function(){_=!0},a.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=b;b=H;try{return W()}finally{b=J}},a.unstable_scheduleCallback=function(H,W,J){var ve=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ve+J:ve):J=ve,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=J+we,H={id:y++,callback:W,priorityLevel:H,startTime:J,expirationTime:we,sortIndex:-1},J>ve?(H.sortIndex=J,t(g,H),s(p)===null&&H===s(g)&&(S?(T($),$=-1):S=!0,De(z,J-ve))):(H.sortIndex=we,t(p,H),N||w||(N=!0,M||(M=!0,Ae()))),H},a.unstable_shouldYield=ne,a.unstable_wrapCallback=function(H){var W=b;return function(){var J=b;b=W;try{return H.apply(this,arguments)}finally{b=J}}}})(Pd)),Pd}var qg;function Zj(){return qg||(qg=1,Ud.exports=Jj()),Ud.exports}var Ld={exports:{}},Tt={};var Hg;function eS(){if(Hg)return Tt;Hg=1;var a=Gh();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:p,containerInfo:g,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,y)},Tt.flushSync=function(p){var g=d.T,y=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=y,i.d.f()}},Tt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Tt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Tt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,x=m(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(p,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Tt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=m(y,g.crossOrigin);i.d.L(p,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tt.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Tt.requestFormReset=function(p){i.d.r(p)},Tt.unstable_batchedUpdates=function(p,g){return p(g)},Tt.useFormState=function(p,g,y){return d.H.useFormState(p,g,y)},Tt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var Fg;function tS(){if(Fg)return Ld.exports;Fg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ld.exports=eS(),Ld.exports}var $g;function nS(){if($g)return Tr;$g=1;var a=Zj(),t=Gh(),s=tS();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),e;if(f===l)return p(h),n;f=f.sibling}throw Error(i(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,j=h.child;j;){if(j===r){v=!0,r=h,l=f;break}if(j===l){v=!0,l=h,r=f;break}j=j.sibling}if(!v){for(j=f.child;j;){if(j===r){v=!0,r=f,l=h;break}if(j===l){v=!0,l=f,r=h;break}j=j.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case z:return"Suspense";case M:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case A:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:it(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return it(e(n))}catch{}}return null}var De=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ve=[],we=-1;function O(e){return{current:e}}function B(e){0>we||(e.current=ve[we],ve[we]=null,we--)}function K(e,n){we++,ve[we]=e.current,e.current=n}var Q=O(null),re=O(null),fe=O(null),Ee=O(null);function $e(e,n){switch(K(fe,n),K(re,e),K(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ig(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ig(n),e=rg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Q),K(Q,e)}function He(){B(Q),B(re),B(fe)}function en(e){e.memoizedState!==null&&K(Ee,e);var n=Q.current,r=rg(n,e.type);n!==r&&(K(re,e),K(Q,r))}function tn(e){re.current===e&&(B(Q),B(re)),Ee.current===e&&(B(Ee),Sr._currentValue=J)}var Pn,ra;function mt(e){if(Pn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pn=n&&n[1]||"",ra=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+e+ra}var Nn=!1;function kn(e,n){if(!e||Nn)return"";Nn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(q){var L=q}Reflect.construct(e,[],G)}else{try{G.call()}catch(q){L=q}e.call(G.prototype)}}else{try{throw Error()}catch(q){L=q}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(q){if(q&&L&&typeof q.stack=="string")return[q.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],j=f[1];if(v&&j){var k=v.split(`
`),P=j.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===P.length)for(l=k.length-1,h=P.length-1;1<=l&&0<=h&&k[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==P[h]){var F=`
`+k[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Nn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?mt(r):""}function zf(e,n){switch(e.tag){case 26:case 27:case 5:return mt(e.type);case 16:return mt("Lazy");case 13:return e.child!==n&&n!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return kn(e.type,!1);case 11:return kn(e.type.render,!1);case 1:return kn(e.type,!0);case 31:return mt("Activity");default:return""}}function ao(e){try{var n="",r=null;do n+=zf(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var qa=Object.prototype.hasOwnProperty,Mi=a.unstable_scheduleCallback,Ui=a.unstable_cancelCallback,pc=a.unstable_shouldYield,gc=a.unstable_requestPaint,Et=a.unstable_now,yc=a.unstable_getCurrentPriorityLevel,so=a.unstable_ImmediatePriority,io=a.unstable_UserBlockingPriority,bs=a.unstable_NormalPriority,vc=a.unstable_LowPriority,ro=a.unstable_IdlePriority,xc=a.log,se=a.unstable_setDisableYieldValue,he=null,oe=null;function xe(e){if(typeof xc=="function"&&se(e),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(he,e)}catch{}}var et=Math.clz32?Math.clz32:js,xt=Math.log,ws=Math.LN2;function js(e){return e>>>=0,e===0?32:31-(xt(e)/ws|0)|0}var Ln=256,nn=262144,En=4194304;function Ha(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oo(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~f,l!==0?h=Ha(l):(v&=j,v!==0?h=Ha(v):r||(r=j&~e,r!==0&&(h=Ha(r))))):(j=l&~f,j!==0?h=Ha(j):v!==0?h=Ha(v):r||(r=l&~e,r!==0&&(h=Ha(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mw(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var e=En;return En<<=1,(En&62914560)===0&&(En=4194304),e}function bc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Li(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uw(e,n,r,l,h,f){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var j=e.entanglements,k=e.expirationTimes,P=e.hiddenUpdates;for(r=v&~r;0<r;){var F=31-et(r),G=1<<F;j[F]=0,k[F]=-1;var L=P[F];if(L!==null)for(P[F]=null,F=0;F<L.length;F++){var q=L[F];q!==null&&(q.lane&=-536870913)}r&=~G}l!==0&&qf(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function qf(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-et(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Hf(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-et(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function Ff(e,n){var r=n&-n;return r=(r&42)!==0?1:wc(r),(r&(e.suspendedLanes|n))!==0?0:r}function wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $f(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Ag(e.type))}function If(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var oa=Math.random().toString(36).slice(2),bt="__reactFiber$"+oa,Mt="__reactProps$"+oa,Ss="__reactContainer$"+oa,Sc="__reactEvents$"+oa,Pw="__reactListeners$"+oa,Lw="__reactHandles$"+oa,Gf="__reactResources$"+oa,Bi="__reactMarker$"+oa;function _c(e){delete e[bt],delete e[Mt],delete e[Sc],delete e[Pw],delete e[Lw]}function _s(e){var n=e[bt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ss]||r[bt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=fg(e);e!==null;){if(r=e[bt])return r;e=fg(e)}return n}e=r,r=e.parentNode}return null}function Ns(e){if(e=e[bt]||e[Ss]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function zi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function ks(e){var n=e[Gf];return n||(n=e[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[Bi]=!0}var Yf=new Set,Kf={};function Fa(e,n){Es(e,n),Es(e+"Capture",n)}function Es(e,n){for(Kf[e]=n,e=0;e<n.length;e++)Yf.add(n[e])}var Bw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xf={},Wf={};function zw(e){return qa.call(Wf,e)?!0:qa.call(Xf,e)?!1:Bw.test(e)?Wf[e]=!0:(Xf[e]=!0,!1)}function lo(e,n,r){if(zw(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function co(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Bn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vw(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Nc(e){if(!e._valueTracker){var n=Qf(e)?"checked":"value";e._valueTracker=Vw(e,n,""+e[n])}}function Jf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Qf(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qw=/[\n"\\]/g;function sn(e){return e.replace(qw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kc(e,n,r,l,h,f,v,j){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ec(e,v,an(n)):r!=null?Ec(e,v,an(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+an(j):e.removeAttribute("name")}function Zf(e,n,r,l,h,f,v,j){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Nc(e);return}r=r!=null?""+an(r):"",n=n!=null?""+an(n):r,j||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Nc(e)}function Ec(e,n,r){n==="number"&&uo(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ts(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+an(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function em(e,n,r){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+an(r):""}function tm(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(i(92));if(De(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=an(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Nc(e)}function As(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Hw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nm(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||Hw.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function am(e,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&nm(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&nm(e,f,n[f])}function Tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$w=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return $w.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Ac=null;function Cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Rs=null;function sm(e){var n=Ns(e);if(n&&(e=n.stateNode)){var r=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(kc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Mt]||null;if(!h)throw Error(i(90));kc(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Jf(l)}break e;case"textarea":em(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ts(e,!!r.multiple,n,!1)}}}var Rc=!1;function im(e,n,r){if(Rc)return e(n,r);Rc=!0;try{var l=e(n);return l}finally{if(Rc=!1,(Cs!==null||Rs!==null)&&(Zo(),Cs&&(n=Cs,e=Rs,Rs=Cs=null,sm(n),e)))for(n=0;n<e.length;n++)sm(e[n])}}function Vi(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Mt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Vn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Oc=!1}var la=null,Dc=null,fo=null;function rm(){if(fo)return fo;var e,n=Dc,r=n.length,l,h="value"in la?la.value:la.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var v=r-e;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return fo=h.slice(e,1<l?1-l:void 0)}function mo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function om(){return!1}function Ut(e){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(r=e[j],this[j]=r?r(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?po:om,this.isPropagationStopped=om,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),n}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Ut($a),Hi=x({},$a,{view:0,detail:0}),Iw=Ut(Hi),Mc,Uc,Fi,yo=x({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(Mc=e.screenX-Fi.screenX,Uc=e.screenY-Fi.screenY):Uc=Mc=0,Fi=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Uc}}),lm=Ut(yo),Gw=x({},yo,{dataTransfer:0}),Yw=Ut(Gw),Kw=x({},Hi,{relatedTarget:0}),Pc=Ut(Kw),Xw=x({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Ww=Ut(Xw),Qw=x({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jw=Ut(Qw),Zw=x({},$a,{data:0}),cm=Ut(Zw),e1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=n1[e])?!!n[e]:!1}function Lc(){return a1}var s1=x({},Hi,{key:function(e){if(e.key){var n=e1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i1=Ut(s1),r1=x({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=Ut(r1),o1=x({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),l1=Ut(o1),c1=x({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),u1=Ut(c1),d1=x({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=Ut(d1),f1=x({},$a,{newState:0,oldState:0}),m1=Ut(f1),p1=[9,13,27,32],Bc=Vn&&"CompositionEvent"in window,$i=null;Vn&&"documentMode"in document&&($i=document.documentMode);var g1=Vn&&"TextEvent"in window&&!$i,dm=Vn&&(!Bc||$i&&8<$i&&11>=$i),hm=" ",fm=!1;function mm(e,n){switch(e){case"keyup":return p1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function y1(e,n){switch(e){case"compositionend":return pm(n);case"keypress":return n.which!==32?null:(fm=!0,hm);case"textInput":return e=n.data,e===hm&&fm?null:e;default:return null}}function v1(e,n){if(Os)return e==="compositionend"||!Bc&&mm(e,n)?(e=rm(),fo=Dc=la=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dm&&n.locale!=="ko"?null:n.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!x1[e.type]:n==="textarea"}function ym(e,n,r,l){Cs?Rs?Rs.push(l):Rs=[l]:Cs=l,n=rl(n,"onChange"),0<n.length&&(r=new go("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ii=null,Gi=null;function b1(e){Zp(e,0)}function vo(e){var n=zi(e);if(Jf(n))return e}function vm(e,n){if(e==="change")return n}var xm=!1;if(Vn){var zc;if(Vn){var Vc="oninput"in document;if(!Vc){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Vc=typeof bm.oninput=="function"}zc=Vc}else zc=!1;xm=zc&&(!document.documentMode||9<document.documentMode)}function wm(){Ii&&(Ii.detachEvent("onpropertychange",jm),Gi=Ii=null)}function jm(e){if(e.propertyName==="value"&&vo(Gi)){var n=[];ym(n,Gi,e,Cc(e)),im(b1,n)}}function w1(e,n,r){e==="focusin"?(wm(),Ii=n,Gi=r,Ii.attachEvent("onpropertychange",jm)):e==="focusout"&&wm()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Gi)}function S1(e,n){if(e==="click")return vo(n)}function _1(e,n){if(e==="input"||e==="change")return vo(n)}function N1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ht=typeof Object.is=="function"?Object.is:N1;function Yi(e,n){if(Ht(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!qa.call(n,h)||!Ht(e[h],n[h]))return!1}return!0}function Sm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,n){var r=Sm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sm(r)}}function Nm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=uo(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=uo(e.document)}return n}function qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k1=Vn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Hc=null,Ki=null,Fc=!1;function Em(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fc||Ds==null||Ds!==uo(l)||(l=Ds,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ki&&Yi(Ki,l)||(Ki=l,l=rl(Hc,"onSelect"),0<l.length&&(n=new go("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ds)))}function Ia(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ms={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},$c={},Tm={};Vn&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Ga(e){if($c[e])return $c[e];if(!Ms[e])return e;var n=Ms[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tm)return $c[e]=n[r];return e}var Am=Ga("animationend"),Cm=Ga("animationiteration"),Rm=Ga("animationstart"),E1=Ga("transitionrun"),T1=Ga("transitionstart"),A1=Ga("transitioncancel"),Om=Ga("transitionend"),Dm=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function yn(e,n){Dm.set(e,n),Fa(n,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],Us=0,Gc=0;function bo(){for(var e=Us,n=Gc=Us=0;n<e;){var r=rn[n];rn[n++]=null;var l=rn[n];rn[n++]=null;var h=rn[n];rn[n++]=null;var f=rn[n];if(rn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Mm(r,h,f)}}function wo(e,n,r,l){rn[Us++]=e,rn[Us++]=n,rn[Us++]=r,rn[Us++]=l,Gc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yc(e,n,r,l){return wo(e,n,r,l),jo(e)}function Ya(e,n){return wo(e,null,null,n),jo(e)}function Mm(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-et(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function jo(e){if(50<gr)throw gr=0,nd=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ps={};function C1(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,r,l){return new C1(e,n,r,l)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,n){var r=e.alternate;return r===null?(r=Ft(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Um(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function So(e,n,r,l,h,f){var v=0;if(l=e,typeof e=="function")Kc(e)&&(v=1);else if(typeof e=="string")v=Uj(e,r,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Ft(31,r,n,h),e.elementType=Y,e.lanes=f,e;case S:return Ka(r.children,h,f,n);case _:v=8,h|=24;break;case C:return e=Ft(12,r,n,h|2),e.elementType=C,e.lanes=f,e;case z:return e=Ft(13,r,n,h),e.elementType=z,e.lanes=f,e;case M:return e=Ft(19,r,n,h),e.elementType=M,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:v=10;break e;case T:v=9;break e;case V:v=11;break e;case $:v=14;break e;case X:v=16,l=null;break e}v=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=Ft(v,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ka(e,n,r,l){return e=Ft(7,e,l,n),e.lanes=r,e}function Xc(e,n,r){return e=Ft(6,e,null,n),e.lanes=r,e}function Pm(e){var n=Ft(18,null,null,0);return n.stateNode=e,n}function Wc(e,n,r){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lm=new WeakMap;function on(e,n){if(typeof e=="object"&&e!==null){var r=Lm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ao(n)},Lm.set(e,n),n)}return{value:e,source:n,stack:ao(n)}}var Ls=[],Bs=0,_o=null,Xi=0,ln=[],cn=0,ca=null,Tn=1,An="";function Hn(e,n){Ls[Bs++]=Xi,Ls[Bs++]=_o,_o=e,Xi=n}function Bm(e,n,r){ln[cn++]=Tn,ln[cn++]=An,ln[cn++]=ca,ca=e;var l=Tn;e=An;var h=32-et(l)-1;l&=~(1<<h),r+=1;var f=32-et(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Tn=1<<32-et(n)+h|r<<h|l,An=f+e}else Tn=1<<f|r<<h|l,An=e}function Qc(e){e.return!==null&&(Hn(e,1),Bm(e,1,0))}function Jc(e){for(;e===_o;)_o=Ls[--Bs],Ls[Bs]=null,Xi=Ls[--Bs],Ls[Bs]=null;for(;e===ca;)ca=ln[--cn],ln[cn]=null,An=ln[--cn],ln[cn]=null,Tn=ln[--cn],ln[cn]=null}function zm(e,n){ln[cn++]=Tn,ln[cn++]=An,ln[cn++]=ca,Tn=n.id,An=n.overflow,ca=e}var wt=null,Ie=null,Te=!1,ua=null,un=!1,Zc=Error(i(519));function da(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wi(on(n,e)),Zc}function Vm(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[bt]=e,n[Mt]=l,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(r=0;r<vr.length;r++)Se(vr[r],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),Zf(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),tm(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ag(n.textContent,r)?(l.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),l.onScroll!=null&&Se("scroll",n),l.onScrollEnd!=null&&Se("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||da(e,!0)}function qm(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:wt=wt.return}}function zs(e){if(e!==wt)return!1;if(!Te)return qm(e),Te=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||yd(e.type,e.memoizedProps)),r=!r),r&&Ie&&da(e),qm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ie=hg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ie=hg(e)}else n===27?(n=Ie,Na(e.type)?(e=jd,jd=null,Ie=e):Ie=n):Ie=wt?hn(e.stateNode.nextSibling):null;return!0}function Xa(){Ie=wt=null,Te=!1}function eu(){var e=ua;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),ua=null),e}function Wi(e){ua===null?ua=[e]:ua.push(e)}var tu=O(null),Wa=null,Fn=null;function ha(e,n,r){K(tu,n._currentValue),n._currentValue=r}function $n(e){e._currentValue=tu.current,B(tu)}function nu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function au(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var j=f;f=h;for(var k=0;k<n.length;k++)if(j.context===n[k]){f.lanes|=r,j=f.alternate,j!==null&&(j.lanes|=r),nu(f.return,r,e),l||(v=null);break e}f=j.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),nu(v,r,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vs(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var j=h.type;Ht(h.pendingProps.value,v.value)||(e!==null?e.push(j):e=[j])}}else if(h===Ee.current){if(v=h.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sr):e=[Sr])}h=h.return}e!==null&&au(n,e,r,l),n.flags|=262144}function No(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qa(e){Wa=e,Fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Hm(Wa,e)}function ko(e,n){return Wa===null&&Qa(e),Hm(e,n)}function Hm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fn===null){if(e===null)throw Error(i(308));Fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fn=Fn.next=n;return r}var R1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},O1=a.unstable_scheduleCallback,D1=a.unstable_NormalPriority,ct={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new R1,data:new Map,refCount:0}}function Qi(e){e.refCount--,e.refCount===0&&O1(D1,function(){e.controller.abort()})}var Ji=null,iu=0,qs=0,Hs=null;function M1(e,n){if(Ji===null){var r=Ji=[];iu=0,qs=ld(),Hs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return iu++,n.then(Fm,Fm),n}function Fm(){if(--iu===0&&Ji!==null){Hs!==null&&(Hs.status="fulfilled");var e=Ji;Ji=null,qs=0,Hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U1(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var $m=H.S;H.S=function(e,n){Ep=Et(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M1(e,n),$m!==null&&$m(e,n)};var Ja=O(null);function ru(){var e=Ja.current;return e!==null?e:qe.pooledCache}function Eo(e,n){n===null?K(Ja,Ja.current):K(Ja,n.pool)}function Im(){var e=ru();return e===null?null:{parent:ct._currentValue,pool:e}}var Fs=Error(i(460)),ou=Error(i(474)),To=Error(i(542)),Ao={then:function(){}};function Gm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e}throw es=n,Fs}}function Za(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(es=r,Fs):r}}var es=null;function Km(){if(es===null)throw Error(i(459));var e=es;return es=null,e}function Xm(e){if(e===Fs||e===To)throw Error(i(483))}var $s=null,Zi=0;function Co(e){var n=Zi;return Zi+=1,$s===null&&($s=[]),Ym($s,e,n)}function er(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ro(e,n){throw n.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wm(e){function n(D,R){if(e){var U=D.deletions;U===null?(D.deletions=[R],D.flags|=16):U.push(R)}}function r(D,R){if(!e)return null;for(;R!==null;)n(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function h(D,R){return D=qn(D,R),D.index=0,D.sibling=null,D}function f(D,R,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<R?(D.flags|=67108866,R):U):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function j(D,R,U,I){return R===null||R.tag!==6?(R=Xc(U,D.mode,I),R.return=D,R):(R=h(R,U),R.return=D,R)}function k(D,R,U,I){var ie=U.type;return ie===S?F(D,R,U.props.children,I,U.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===X&&Za(ie)===R.type)?(R=h(R,U.props),er(R,U),R.return=D,R):(R=So(U.type,U.key,U.props,null,D.mode,I),er(R,U),R.return=D,R)}function P(D,R,U,I){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Wc(U,D.mode,I),R.return=D,R):(R=h(R,U.children||[]),R.return=D,R)}function F(D,R,U,I,ie){return R===null||R.tag!==7?(R=Ka(U,D.mode,I,ie),R.return=D,R):(R=h(R,U),R.return=D,R)}function G(D,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Xc(""+R,D.mode,U),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return U=So(R.type,R.key,R.props,null,D.mode,U),er(U,R),U.return=D,U;case N:return R=Wc(R,D.mode,U),R.return=D,R;case X:return R=Za(R),G(D,R,U)}if(De(R)||Ae(R))return R=Ka(R,D.mode,U,null),R.return=D,R;if(typeof R.then=="function")return G(D,Co(R),U);if(R.$$typeof===A)return G(D,ko(D,R),U);Ro(D,R)}return null}function L(D,R,U,I){var ie=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ie!==null?null:j(D,R,""+U,I);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===ie?k(D,R,U,I):null;case N:return U.key===ie?P(D,R,U,I):null;case X:return U=Za(U),L(D,R,U,I)}if(De(U)||Ae(U))return ie!==null?null:F(D,R,U,I,null);if(typeof U.then=="function")return L(D,R,Co(U),I);if(U.$$typeof===A)return L(D,R,ko(D,U),I);Ro(D,U)}return null}function q(D,R,U,I,ie){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return D=D.get(U)||null,j(R,D,""+I,ie);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return D=D.get(I.key===null?U:I.key)||null,k(R,D,I,ie);case N:return D=D.get(I.key===null?U:I.key)||null,P(R,D,I,ie);case X:return I=Za(I),q(D,R,U,I,ie)}if(De(I)||Ae(I))return D=D.get(U)||null,F(R,D,I,ie,null);if(typeof I.then=="function")return q(D,R,U,Co(I),ie);if(I.$$typeof===A)return q(D,R,U,ko(R,I),ie);Ro(R,I)}return null}function Z(D,R,U,I){for(var ie=null,Ce=null,ee=R,ye=R=0,ke=null;ee!==null&&ye<U.length;ye++){ee.index>ye?(ke=ee,ee=null):ke=ee.sibling;var Re=L(D,ee,U[ye],I);if(Re===null){ee===null&&(ee=ke);break}e&&ee&&Re.alternate===null&&n(D,ee),R=f(Re,R,ye),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re,ee=ke}if(ye===U.length)return r(D,ee),Te&&Hn(D,ye),ie;if(ee===null){for(;ye<U.length;ye++)ee=G(D,U[ye],I),ee!==null&&(R=f(ee,R,ye),Ce===null?ie=ee:Ce.sibling=ee,Ce=ee);return Te&&Hn(D,ye),ie}for(ee=l(ee);ye<U.length;ye++)ke=q(ee,D,ye,U[ye],I),ke!==null&&(e&&ke.alternate!==null&&ee.delete(ke.key===null?ye:ke.key),R=f(ke,R,ye),Ce===null?ie=ke:Ce.sibling=ke,Ce=ke);return e&&ee.forEach(function(Ca){return n(D,Ca)}),Te&&Hn(D,ye),ie}function le(D,R,U,I){if(U==null)throw Error(i(151));for(var ie=null,Ce=null,ee=R,ye=R=0,ke=null,Re=U.next();ee!==null&&!Re.done;ye++,Re=U.next()){ee.index>ye?(ke=ee,ee=null):ke=ee.sibling;var Ca=L(D,ee,Re.value,I);if(Ca===null){ee===null&&(ee=ke);break}e&&ee&&Ca.alternate===null&&n(D,ee),R=f(Ca,R,ye),Ce===null?ie=Ca:Ce.sibling=Ca,Ce=Ca,ee=ke}if(Re.done)return r(D,ee),Te&&Hn(D,ye),ie;if(ee===null){for(;!Re.done;ye++,Re=U.next())Re=G(D,Re.value,I),Re!==null&&(R=f(Re,R,ye),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re);return Te&&Hn(D,ye),ie}for(ee=l(ee);!Re.done;ye++,Re=U.next())Re=q(ee,D,ye,Re.value,I),Re!==null&&(e&&Re.alternate!==null&&ee.delete(Re.key===null?ye:Re.key),R=f(Re,R,ye),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re);return e&&ee.forEach(function(Gj){return n(D,Gj)}),Te&&Hn(D,ye),ie}function ze(D,R,U,I){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var ie=U.key;R!==null;){if(R.key===ie){if(ie=U.type,ie===S){if(R.tag===7){r(D,R.sibling),I=h(R,U.props.children),I.return=D,D=I;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===X&&Za(ie)===R.type){r(D,R.sibling),I=h(R,U.props),er(I,U),I.return=D,D=I;break e}r(D,R);break}else n(D,R);R=R.sibling}U.type===S?(I=Ka(U.props.children,D.mode,I,U.key),I.return=D,D=I):(I=So(U.type,U.key,U.props,null,D.mode,I),er(I,U),I.return=D,D=I)}return v(D);case N:e:{for(ie=U.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){r(D,R.sibling),I=h(R,U.children||[]),I.return=D,D=I;break e}else{r(D,R);break}else n(D,R);R=R.sibling}I=Wc(U,D.mode,I),I.return=D,D=I}return v(D);case X:return U=Za(U),ze(D,R,U,I)}if(De(U))return Z(D,R,U,I);if(Ae(U)){if(ie=Ae(U),typeof ie!="function")throw Error(i(150));return U=ie.call(U),le(D,R,U,I)}if(typeof U.then=="function")return ze(D,R,Co(U),I);if(U.$$typeof===A)return ze(D,R,ko(D,U),I);Ro(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(r(D,R.sibling),I=h(R,U),I.return=D,D=I):(r(D,R),I=Xc(U,D.mode,I),I.return=D,D=I),v(D)):r(D,R)}return function(D,R,U,I){try{Zi=0;var ie=ze(D,R,U,I);return $s=null,ie}catch(ee){if(ee===Fs||ee===To)throw ee;var Ce=Ft(29,ee,null,D.mode);return Ce.lanes=I,Ce.return=D,Ce}finally{}}}var ts=Wm(!0),Qm=Wm(!1),fa=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=jo(e),Mm(e,null,r),n}return wo(e,l,n,r),jo(e)}function tr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Hf(e,r)}}function uu(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var du=!1;function nr(){if(du){var e=Hs;if(e!==null)throw e}}function ar(e,n,r,l){du=!1;var h=e.updateQueue;fa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var k=j,P=k.next;k.next=null,v===null?f=P:v.next=P,v=k;var F=e.alternate;F!==null&&(F=F.updateQueue,j=F.lastBaseUpdate,j!==v&&(j===null?F.firstBaseUpdate=P:j.next=P,F.lastBaseUpdate=k))}if(f!==null){var G=h.baseState;v=0,F=P=k=null,j=f;do{var L=j.lane&-536870913,q=L!==j.lane;if(q?(Ne&L)===L:(l&L)===L){L!==0&&L===qs&&(du=!0),F!==null&&(F=F.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Z=e,le=j;L=n;var ze=r;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){G=Z.call(ze,G,L);break e}G=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,L=typeof Z=="function"?Z.call(ze,G,L):Z,L==null)break e;G=x({},G,L);break e;case 2:fa=!0}}L=j.callback,L!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[L]:q.push(L))}else q={lane:L,tag:j.tag,payload:j.payload,callback:j.callback,next:null},F===null?(P=F=q,k=G):F=F.next=q,v|=L;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;q=j,j=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(k=G),h.baseState=k,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ba|=v,e.lanes=v,e.memoizedState=G}}function Jm(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Zm(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jm(r[e],n)}var Is=O(null),Oo=O(0);function e0(e,n){e=Zn,K(Oo,e),K(Is,n),Zn=e|n.baseLanes}function hu(){K(Oo,Zn),K(Is,Is.current)}function fu(){Zn=Oo.current,B(Is),B(Oo)}var $t=O(null),dn=null;function ga(e){var n=e.alternate;K(rt,rt.current&1),K($t,e),dn===null&&(n===null||Is.current!==null||n.memoizedState!==null)&&(dn=e)}function mu(e){K(rt,rt.current),K($t,e),dn===null&&(dn=e)}function t0(e){e.tag===22?(K(rt,rt.current),K($t,e),dn===null&&(dn=e)):ya()}function ya(){K(rt,rt.current),K($t,$t.current)}function It(e){B($t),dn===e&&(dn=null),B(rt)}var rt=O(0);function Do(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var In=0,ge=null,Le=null,ut=null,Mo=!1,Gs=!1,ns=!1,Uo=0,sr=0,Ys=null,P1=0;function tt(){throw Error(i(321))}function pu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ht(e[r],n[r]))return!1;return!0}function gu(e,n,r,l,h,f){return In=f,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?B0:Ru,ns=!1,f=r(l,h),ns=!1,Gs&&(f=a0(n,r,l,h)),n0(e),f}function n0(e){H.H=or;var n=Le!==null&&Le.next!==null;if(In=0,ut=Le=ge=null,Mo=!1,sr=0,Ys=null,n)throw Error(i(300));e===null||dt||(e=e.dependencies,e!==null&&No(e)&&(dt=!0))}function a0(e,n,r,l){ge=e;var h=0;do{if(Gs&&(Ys=null),sr=0,Gs=!1,25<=h)throw Error(i(301));if(h+=1,ut=Le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=z0,f=n(r,l)}while(Gs);return f}function L1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?ir(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ge.flags|=1024),n}function yu(){var e=Uo!==0;return Uo=0,e}function vu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function xu(e){if(Mo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mo=!1}In=0,ut=Le=ge=null,Gs=!1,sr=Uo=0,Ys=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ge.memoizedState=ut=e:ut=ut.next=e,ut}function ot(){if(Le===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=ut===null?ge.memoizedState:ut.next;if(n!==null)ut=n,Le=e;else{if(e===null)throw ge.alternate===null?Error(i(467)):Error(i(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ut===null?ge.memoizedState=ut=e:ut=ut.next=e}return ut}function Po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ir(e){var n=sr;return sr+=1,Ys===null&&(Ys=[]),e=Ym(Ys,e,n),n=ge,(ut===null?n.memoizedState:ut.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?B0:Ru),e}function Lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ir(e);if(e.$$typeof===A)return jt(e)}throw Error(i(438,String(e)))}function bu(e){var n=null,r=ge.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Po(),ge.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=ne;return n.index++,r}function Gn(e,n){return typeof n=="function"?n(e):n}function Bo(e){var n=ot();return wu(n,Le,e)}function wu(e,n,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var j=v=null,k=null,P=n,F=!1;do{var G=P.lane&-536870913;if(G!==P.lane?(Ne&G)===G:(In&G)===G){var L=P.revertLane;if(L===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),G===qs&&(F=!0);else if((In&L)===L){P=P.next,L===qs&&(F=!0);continue}else G={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},k===null?(j=k=G,v=f):k=k.next=G,ge.lanes|=L,ba|=L;G=P.action,ns&&r(f,G),f=P.hasEagerState?P.eagerState:r(f,G)}else L={lane:G,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},k===null?(j=k=L,v=f):k=k.next=L,ge.lanes|=G,ba|=G;P=P.next}while(P!==null&&P!==n);if(k===null?v=f:k.next=j,!Ht(f,e.memoizedState)&&(dt=!0,F&&(r=Hs,r!==null)))throw r;e.memoizedState=f,e.baseState=v,e.baseQueue=k,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ju(e){var n=ot(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);Ht(f,n.memoizedState)||(dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function s0(e,n,r){var l=ge,h=ot(),f=Te;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=n();var v=!Ht((Le||h).memoizedState,r);if(v&&(h.memoizedState=r,dt=!0),h=h.queue,Nu(o0.bind(null,l,h,e),[e]),h.getSnapshot!==n||v||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,Ks(9,{destroy:void 0},r0.bind(null,l,h,r,n),null),qe===null)throw Error(i(349));f||(In&127)!==0||i0(l,n,r)}return r}function i0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ge.updateQueue,n===null?(n=Po(),ge.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function r0(e,n,r,l){n.value=r,n.getSnapshot=l,l0(n)&&c0(e)}function o0(e,n,r){return r(function(){l0(n)&&c0(e)})}function l0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ht(e,r)}catch{return!0}}function c0(e){var n=Ya(e,2);n!==null&&Vt(n,e,2)}function Su(e){var n=Dt();if(typeof e=="function"){var r=e;if(e=r(),ns){xe(!0);try{r()}finally{xe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function u0(e,n,r,l){return e.baseState=r,wu(e,Le,typeof l=="function"?l:Gn)}function B1(e,n,r,l,h){if(qo(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,d0(n,f)):(f.next=r.next,n.pending=r.next=f)}}function d0(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var j=r(h,l),k=H.S;k!==null&&k(v,j),h0(e,n,j)}catch(P){_u(e,n,P)}finally{f!==null&&v.types!==null&&(f.types=v.types),H.T=f}}else try{f=r(h,l),h0(e,n,f)}catch(P){_u(e,n,P)}}function h0(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){f0(e,n,l)},function(l){return _u(e,n,l)}):f0(e,n,r)}function f0(e,n,r){n.status="fulfilled",n.value=r,m0(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,d0(e,r)))}function _u(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,m0(n),n=n.next;while(n!==l)}e.action=null}function m0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function p0(e,n){return n}function g0(e,n){if(Te){var r=qe.formState;if(r!==null){e:{var l=ge;if(Te){if(Ie){t:{for(var h=Ie,f=un;h.nodeType!==8;){if(!f){h=null;break t}if(h=hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Ie=hn(h.nextSibling),l=h.data==="F!";break e}}da(l)}l=!1}l&&(n=r[0])}}return r=Dt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:n},r.queue=l,r=U0.bind(null,ge,l),l.dispatch=r,l=Su(!1),f=Cu.bind(null,ge,!1,l.queue),l=Dt(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=B1.bind(null,ge,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function y0(e){var n=ot();return v0(n,Le,e)}function v0(e,n,r){if(n=wu(e,n,p0)[0],e=Bo(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ir(n)}catch(v){throw v===Fs?To:v}else l=n;n=ot();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(ge.flags|=2048,Ks(9,{destroy:void 0},z1.bind(null,h,r),null)),[l,f,e]}function z1(e,n){e.action=n}function x0(e){var n=ot(),r=Le;if(r!==null)return v0(n,r,e);ot(),n=n.memoizedState,r=ot();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ks(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=ge.updateQueue,n===null&&(n=Po(),ge.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function b0(){return ot().memoizedState}function zo(e,n,r,l){var h=Dt();ge.flags|=e,h.memoizedState=Ks(1|n,{destroy:void 0},r,l===void 0?null:l)}function Vo(e,n,r,l){var h=ot();l=l===void 0?null:l;var f=h.memoizedState.inst;Le!==null&&l!==null&&pu(l,Le.memoizedState.deps)?h.memoizedState=Ks(n,f,r,l):(ge.flags|=e,h.memoizedState=Ks(1|n,f,r,l))}function w0(e,n){zo(8390656,8,e,n)}function Nu(e,n){Vo(2048,8,e,n)}function V1(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=Po(),ge.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function j0(e){var n=ot().memoizedState;return V1({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function S0(e,n){return Vo(4,2,e,n)}function _0(e,n){return Vo(4,4,e,n)}function N0(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function k0(e,n,r){r=r!=null?r.concat([e]):null,Vo(4,4,N0.bind(null,n,e),r)}function ku(){}function E0(e,n){var r=ot();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pu(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function T0(e,n){var r=ot();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pu(n,l[1]))return l[0];if(l=e(),ns){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[l,n],l}function Eu(e,n,r){return r===void 0||(In&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ap(),ge.lanes|=e,ba|=e,r)}function A0(e,n,r,l){return Ht(r,n)?r:Is.current!==null?(e=Eu(e,r,l),Ht(e,n)||(dt=!0),e):(In&42)===0||(In&1073741824)!==0&&(Ne&261930)===0?(dt=!0,e.memoizedState=r):(e=Ap(),ge.lanes|=e,ba|=e,n)}function C0(e,n,r,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var v=H.T,j={};H.T=j,Cu(e,!1,n,r);try{var k=h(),P=H.S;if(P!==null&&P(j,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var F=U1(k,l);rr(e,n,F,Kt(e))}else rr(e,n,l,Kt(e))}catch(G){rr(e,n,{then:function(){},status:"rejected",reason:G},Kt())}finally{W.p=f,v!==null&&j.types!==null&&(v.types=j.types),H.T=v}}function q1(){}function Tu(e,n,r,l){if(e.tag!==5)throw Error(i(476));var h=R0(e).queue;C0(e,h,n,J,r===null?q1:function(){return O0(e),r(l)})}function R0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:J},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function O0(e){var n=R0(e);n.next===null&&(n=e.alternate.memoizedState),rr(e,n.next.queue,{},Kt())}function Au(){return jt(Sr)}function D0(){return ot().memoizedState}function M0(){return ot().memoizedState}function H1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Kt();e=ma(r);var l=pa(n,e,r);l!==null&&(Vt(l,n,r),tr(l,n,r)),n={cache:su()},e.payload=n;return}n=n.return}}function F1(e,n,r){var l=Kt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qo(e)?P0(n,r):(r=Yc(e,n,r,l),r!==null&&(Vt(r,e,l),L0(r,n,l)))}function U0(e,n,r){var l=Kt();rr(e,n,r,l)}function rr(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qo(e))P0(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,j=f(v,r);if(h.hasEagerState=!0,h.eagerState=j,Ht(j,v))return wo(e,n,h,0),qe===null&&bo(),!1}catch{}finally{}if(r=Yc(e,n,h,l),r!==null)return Vt(r,e,l),L0(r,n,l),!0}return!1}function Cu(e,n,r,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qo(e)){if(n)throw Error(i(479))}else n=Yc(e,r,l,2),n!==null&&Vt(n,e,2)}function qo(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function P0(e,n){Gs=Mo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function L0(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Hf(e,r)}}var or={readContext:jt,use:Lo,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};or.useEffectEvent=tt;var B0={readContext:jt,use:Lo,useCallback:function(e,n){return Dt().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:w0,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,zo(4194308,4,N0.bind(null,n,e),r)},useLayoutEffect:function(e,n){return zo(4194308,4,e,n)},useInsertionEffect:function(e,n){zo(4,2,e,n)},useMemo:function(e,n){var r=Dt();n=n===void 0?null:n;var l=e();if(ns){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=Dt();if(r!==void 0){var h=r(n);if(ns){xe(!0);try{r(n)}finally{xe(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=F1.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var n=Dt();return e={current:e},n.memoizedState=e},useState:function(e){e=Su(e);var n=e.queue,r=U0.bind(null,ge,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ku,useDeferredValue:function(e,n){var r=Dt();return Eu(r,e,n)},useTransition:function(){var e=Su(!1);return e=C0.bind(null,ge,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=ge,h=Dt();if(Te){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),qe===null)throw Error(i(349));(Ne&127)!==0||i0(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,w0(o0.bind(null,l,f,e),[e]),l.flags|=2048,Ks(9,{destroy:void 0},r0.bind(null,l,f,r,n),null),r},useId:function(){var e=Dt(),n=qe.identifierPrefix;if(Te){var r=An,l=Tn;r=(l&~(1<<32-et(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=P1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Au,useFormState:g0,useActionState:g0,useOptimistic:function(e){var n=Dt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cu.bind(null,ge,!0,r),r.dispatch=n,[e,n]},useMemoCache:bu,useCacheRefresh:function(){return Dt().memoizedState=H1.bind(null,ge)},useEffectEvent:function(e){var n=Dt(),r={impl:e};return n.memoizedState=r,function(){if((Oe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Ru={readContext:jt,use:Lo,useCallback:E0,useContext:jt,useEffect:Nu,useImperativeHandle:k0,useInsertionEffect:S0,useLayoutEffect:_0,useMemo:T0,useReducer:Bo,useRef:b0,useState:function(){return Bo(Gn)},useDebugValue:ku,useDeferredValue:function(e,n){var r=ot();return A0(r,Le.memoizedState,e,n)},useTransition:function(){var e=Bo(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:ir(e),n]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:Au,useFormState:y0,useActionState:y0,useOptimistic:function(e,n){var r=ot();return u0(r,Le,e,n)},useMemoCache:bu,useCacheRefresh:M0};Ru.useEffectEvent=j0;var z0={readContext:jt,use:Lo,useCallback:E0,useContext:jt,useEffect:Nu,useImperativeHandle:k0,useInsertionEffect:S0,useLayoutEffect:_0,useMemo:T0,useReducer:ju,useRef:b0,useState:function(){return ju(Gn)},useDebugValue:ku,useDeferredValue:function(e,n){var r=ot();return Le===null?Eu(r,e,n):A0(r,Le.memoizedState,e,n)},useTransition:function(){var e=ju(Gn)[0],n=ot().memoizedState;return[typeof e=="boolean"?e:ir(e),n]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:Au,useFormState:x0,useActionState:x0,useOptimistic:function(e,n){var r=ot();return Le!==null?u0(r,Le,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:bu,useCacheRefresh:M0};z0.useEffectEvent=j0;function Ou(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Du={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Kt(),h=ma(l);h.payload=n,r!=null&&(h.callback=r),n=pa(e,h,l),n!==null&&(Vt(n,e,l),tr(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Kt(),h=ma(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=pa(e,h,l),n!==null&&(Vt(n,e,l),tr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Kt(),l=ma(r);l.tag=2,n!=null&&(l.callback=n),n=pa(e,l,r),n!==null&&(Vt(n,e,r),tr(n,e,r))}};function V0(e,n,r,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Yi(r,l)||!Yi(h,f):!0}function q0(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Du.enqueueReplaceState(n,n.state,null)}function as(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=x({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function H0(e){xo(e)}function F0(e){console.error(e)}function $0(e){xo(e)}function Ho(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function I0(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mu(e,n,r){return r=ma(r),r.tag=3,r.payload={element:null},r.callback=function(){Ho(e,n)},r}function G0(e){return e=ma(e),e.tag=3,e}function Y0(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){I0(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){I0(n,r,l),typeof h!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function $1(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Vs(n,r,h,!0),r=$t.current,r!==null){switch(r.tag){case 31:case 13:return dn===null?el():r.alternate===null&&nt===0&&(nt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Ao?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return r.flags|=65536,l===Ao?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),id(e,l,h)),!1}throw Error(i(435,r.tag))}return id(e,l,h),el(),!1}if(Te)return n=$t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zc&&(e=Error(i(422),{cause:l}),Wi(on(e,r)))):(l!==Zc&&(n=Error(i(423),{cause:l}),Wi(on(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=on(l,r),h=Mu(e.stateNode,l,h),uu(e,h),nt!==4&&(nt=2)),!1;var f=Error(i(520),{cause:l});if(f=on(f,r),pr===null?pr=[f]:pr.push(f),nt!==4&&(nt=2),n===null)return!0;l=on(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Mu(r.stateNode,l,e),uu(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wa===null||!wa.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=G0(h),Y0(h,e,r,l),uu(r,h),!1}r=r.return}while(r!==null);return!1}var Uu=Error(i(461)),dt=!1;function St(e,n,r,l){n.child=e===null?Qm(n,null,r,l):ts(n,e.child,r,l)}function K0(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var j in l)j!=="ref"&&(v[j]=l[j])}else v=l;return Qa(n),l=gu(e,n,r,v,f,h),j=yu(),e!==null&&!dt?(vu(e,n,h),Yn(e,n,h)):(Te&&j&&Qc(n),n.flags|=1,St(e,n,l,h),n.child)}function X0(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,W0(e,n,f,l,h)):(e=So(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Fu(e,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yi,r(v,l)&&e.ref===n.ref)return Yn(e,n,h)}return n.flags|=1,e=qn(f,l),e.ref=n.ref,e.return=n,n.child=e}function W0(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Yi(f,l)&&e.ref===n.ref)if(dt=!1,n.pendingProps=l=f,Fu(e,h))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,Yn(e,n,h)}return Pu(e,n,r,l,h)}function Q0(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return J0(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eo(n,f!==null?f.cachePool:null),f!==null?e0(n,f):hu(),t0(n);else return l=n.lanes=536870912,J0(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Eo(n,f.cachePool),e0(n,f),ya(),n.memoizedState=null):(e!==null&&Eo(n,null),hu(),ya());return St(e,n,h,r),n.child}function lr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function J0(e,n,r,l,h){var f=ru();return f=f===null?null:{parent:ct._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Eo(n,null),hu(),t0(n),e!==null&&Vs(e,n,l,!0),n.childLanes=h,null}function Fo(e,n){return n=Io({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Z0(e,n,r){return ts(n,e.child,null,r),e=Fo(n,n.pendingProps),e.flags|=2,It(n),n.memoizedState=null,e}function I1(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=Fo(n,l),n.lanes=536870912,lr(null,e);if(mu(n),(e=Ie)?(e=dg(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},r=Pm(e),r.return=n,n.child=r,wt=n,Ie=null)):e=null,e===null)throw da(n);return n.lanes=536870912,null}return Fo(n,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(mu(n),h)if(n.flags&256)n.flags&=-257,n=Z0(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(dt||Vs(e,n,r,!1),h=(r&e.childLanes)!==0,dt||h){if(l=qe,l!==null&&(v=Ff(l,r),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ya(e,v),Vt(l,e,v),Uu;el(),n=Z0(e,n,r)}else e=f.treeContext,Ie=hn(v.nextSibling),wt=n,Te=!0,ua=null,un=!1,e!==null&&zm(n,e),n=Fo(n,l),n.flags|=4096;return n}return e=qn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $o(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Pu(e,n,r,l,h){return Qa(n),r=gu(e,n,r,l,void 0,h),l=yu(),e!==null&&!dt?(vu(e,n,h),Yn(e,n,h)):(Te&&l&&Qc(n),n.flags|=1,St(e,n,r,h),n.child)}function ep(e,n,r,l,h,f){return Qa(n),n.updateQueue=null,r=a0(n,l,r,h),n0(e),l=yu(),e!==null&&!dt?(vu(e,n,f),Yn(e,n,f)):(Te&&l&&Qc(n),n.flags|=1,St(e,n,r,f),n.child)}function tp(e,n,r,l,h){if(Qa(n),n.stateNode===null){var f=Ps,v=r.contextType;typeof v=="object"&&v!==null&&(f=jt(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Du,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lu(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?jt(v):Ps,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ou(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Du.enqueueReplaceState(f,f.state,null),ar(n,l,f,h),nr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var j=n.memoizedProps,k=as(r,j);f.props=k;var P=f.context,F=r.contextType;v=Ps,typeof F=="object"&&F!==null&&(v=jt(F));var G=r.getDerivedStateFromProps;F=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(j||P!==v)&&q0(n,f,l,v),fa=!1;var L=n.memoizedState;f.state=L,ar(n,l,f,h),nr(),P=n.memoizedState,j||L!==P||fa?(typeof G=="function"&&(Ou(n,r,G,l),P=n.memoizedState),(k=fa||V0(n,r,k,l,L,P,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=v,l=k):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,cu(e,n),v=n.memoizedProps,F=as(r,v),f.props=F,G=n.pendingProps,L=f.context,P=r.contextType,k=Ps,typeof P=="object"&&P!==null&&(k=jt(P)),j=r.getDerivedStateFromProps,(P=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==G||L!==k)&&q0(n,f,l,k),fa=!1,L=n.memoizedState,f.state=L,ar(n,l,f,h),nr();var q=n.memoizedState;v!==G||L!==q||fa||e!==null&&e.dependencies!==null&&No(e.dependencies)?(typeof j=="function"&&(Ou(n,r,j,l),q=n.memoizedState),(F=fa||V0(n,r,F,l,L,q,k)||e!==null&&e.dependencies!==null&&No(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,k)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=k,l=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$o(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ts(n,e.child,null,h),n.child=ts(n,null,r,h)):St(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Yn(e,n,h),e}function np(e,n,r,l){return Xa(),n.flags|=256,St(e,n,r,l),n.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bu(e){return{baseLanes:e,cachePool:Im()}}function zu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Yt),e}function ap(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Te){if(h?ga(n):ya(),(e=Ie)?(e=dg(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ca!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},r=Pm(e),r.return=n,n.child=r,wt=n,Ie=null)):e=null,e===null)throw da(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var j=l.children;return l=l.fallback,h?(ya(),h=n.mode,j=Io({mode:"hidden",children:j},h),l=Ka(l,h,r,null),j.return=n,l.return=n,j.sibling=l,n.child=j,l=n.child,l.memoizedState=Bu(r),l.childLanes=zu(e,v,r),n.memoizedState=Lu,lr(null,l)):(ga(n),Vu(n,j))}var k=e.memoizedState;if(k!==null&&(j=k.dehydrated,j!==null)){if(f)n.flags&256?(ga(n),n.flags&=-257,n=qu(e,n,r)):n.memoizedState!==null?(ya(),n.child=e.child,n.flags|=128,n=null):(ya(),j=l.fallback,h=n.mode,l=Io({mode:"visible",children:l.children},h),j=Ka(j,h,r,null),j.flags|=2,l.return=n,j.return=n,l.sibling=j,n.child=l,ts(n,e.child,null,r),l=n.child,l.memoizedState=Bu(r),l.childLanes=zu(e,v,r),n.memoizedState=Lu,n=lr(null,l));else if(ga(n),wd(j)){if(v=j.nextSibling&&j.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(i(419)),l.stack="",l.digest=v,Wi({value:l,source:null,stack:null}),n=qu(e,n,r)}else if(dt||Vs(e,n,r,!1),v=(r&e.childLanes)!==0,dt||v){if(v=qe,v!==null&&(l=Ff(v,r),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ya(e,l),Vt(v,e,l),Uu;bd(j)||el(),n=qu(e,n,r)}else bd(j)?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,Ie=hn(j.nextSibling),wt=n,Te=!0,ua=null,un=!1,e!==null&&zm(n,e),n=Vu(n,l.children),n.flags|=4096);return n}return h?(ya(),j=l.fallback,h=n.mode,k=e.child,P=k.sibling,l=qn(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,P!==null?j=qn(P,j):(j=Ka(j,h,r,null),j.flags|=2),j.return=n,l.return=n,l.sibling=j,n.child=l,lr(null,l),l=n.child,j=e.child.memoizedState,j===null?j=Bu(r):(h=j.cachePool,h!==null?(k=ct._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Im(),j={baseLanes:j.baseLanes|r,cachePool:h}),l.memoizedState=j,l.childLanes=zu(e,v,r),n.memoizedState=Lu,lr(e.child,l)):(ga(n),r=e.child,e=r.sibling,r=qn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function Vu(e,n){return n=Io({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Io(e,n){return e=Ft(22,e,null,n),e.lanes=0,e}function qu(e,n,r){return ts(n,e.child,null,r),e=Vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sp(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),nu(e.return,n,r)}function Hu(e,n,r,l,h,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=h,v.treeForkCount=f)}function ip(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=rt.current,j=(v&2)!==0;if(j?(v=v&1|2,n.flags|=128):v&=1,K(rt,v),St(e,n,l,r),l=Te?Xi:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sp(e,r,n);else if(e.tag===19)sp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Do(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hu(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Do(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Hu(n,!0,r,null,f,l);break;case"together":Hu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Yn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ba|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Vs(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=qn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Fu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&No(e)))}function G1(e,n,r){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),ha(n,ct,e.memoizedState.cache),Xa();break;case 27:case 5:en(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:ha(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ga(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ap(e,n,r):(ga(n),e=Yn(e,n,r),e!==null?e.sibling:null);ga(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Vs(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ip(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(rt,rt.current),l)break;return null;case 22:return n.lanes=0,Q0(e,n,r,n.pendingProps);case 24:ha(n,ct,e.memoizedState.cache)}return Yn(e,n,r)}function rp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!Fu(e,r)&&(n.flags&128)===0)return dt=!1,G1(e,n,r);dt=(e.flags&131072)!==0}else dt=!1,Te&&(n.flags&1048576)!==0&&Bm(n,Xi,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Za(n.elementType),n.type=e,typeof e=="function")Kc(e)?(l=as(e,l),n.tag=1,n=tp(null,n,e,l,r)):(n.tag=0,n=Pu(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===V){n.tag=11,n=K0(null,n,e,l,r);break e}else if(h===$){n.tag=14,n=X0(null,n,e,l,r);break e}}throw n=it(e)||e,Error(i(306,n,""))}}return n;case 0:return Pu(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=as(l,n.pendingProps),tp(e,n,l,h,r);case 3:e:{if($e(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,cu(e,n),ar(n,l,null,r);var v=n.memoizedState;if(l=v.cache,ha(n,ct,l),l!==f.cache&&au(n,[ct],r,!0),nr(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=np(e,n,l,r);break e}else if(l!==h){h=on(Error(i(424)),n),Wi(h),n=np(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=hn(e.firstChild),wt=n,Te=!0,ua=null,un=!0,r=Qm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xa(),l===h){n=Yn(e,n,r);break e}St(e,n,l,r)}n=n.child}return n;case 26:return $o(e,n),e===null?(r=yg(n.type,null,n.pendingProps,null))?n.memoizedState=r:Te||(r=n.type,e=n.pendingProps,l=ol(fe.current).createElement(r),l[bt]=n,l[Mt]=e,_t(l,r,e),yt(l),n.stateNode=l):n.memoizedState=yg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return en(n),e===null&&Te&&(l=n.stateNode=mg(n.type,n.pendingProps,fe.current),wt=n,un=!0,h=Ie,Na(n.type)?(jd=h,Ie=hn(l.firstChild)):Ie=h),St(e,n,n.pendingProps.children,r),$o(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Te&&((h=l=Ie)&&(l=jj(l,n.type,n.pendingProps,un),l!==null?(n.stateNode=l,wt=n,Ie=hn(l.firstChild),un=!1,h=!0):h=!1),h||da(n)),en(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,yd(h,f)?l=null:v!==null&&yd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=gu(e,n,L1,null,null,r),Sr._currentValue=h),$o(e,n),St(e,n,l,r),n.child;case 6:return e===null&&Te&&((e=r=Ie)&&(r=Sj(r,n.pendingProps,un),r!==null?(n.stateNode=r,wt=n,Ie=null,e=!0):e=!1),e||da(n)),null;case 13:return ap(e,n,r);case 4:return $e(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ts(n,null,l,r):St(e,n,l,r),n.child;case 11:return K0(e,n,n.type,n.pendingProps,r);case 7:return St(e,n,n.pendingProps,r),n.child;case 8:return St(e,n,n.pendingProps.children,r),n.child;case 12:return St(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ha(n,n.type,l.value),St(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Qa(n),h=jt(h),l=l(h),n.flags|=1,St(e,n,l,r),n.child;case 14:return X0(e,n,n.type,n.pendingProps,r);case 15:return W0(e,n,n.type,n.pendingProps,r);case 19:return ip(e,n,r);case 31:return I1(e,n,r);case 22:return Q0(e,n,r,n.pendingProps);case 24:return Qa(n),l=jt(ct),e===null?(h=ru(),h===null&&(h=qe,f=su(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},lu(n),ha(n,ct,h)):((e.lanes&r)!==0&&(cu(e,n),ar(n,null,null,r),nr()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ha(n,ct,l)):(l=f.cache,ha(n,ct,l),l!==h.cache&&au(n,[ct],r,!0))),St(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Kn(e){e.flags|=4}function $u(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dp())e.flags|=8192;else throw es=Ao,ou}else e.flags&=-16777217}function op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jg(n))if(Dp())e.flags|=8192;else throw es=Ao,ou}function Go(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Vf():536870912,e.lanes|=n,Js|=n)}function cr(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function Y1(e,n,r){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),$n(ct),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(n)?Kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,eu())),Ge(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Kn(n),f!==null?(Ge(n),op(n,f)):(Ge(n),$u(n,h,null,l,r))):f?f!==e.memoizedState?(Kn(n),Ge(n),op(n,f)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Kn(n),Ge(n),$u(n,h,e,l,r)),null;case 27:if(tn(n),r=fe.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Ge(n),null}e=Q.current,zs(n)?Vm(n):(e=mg(h,l,r),n.stateNode=e,Kn(n))}return Ge(n),null;case 5:if(tn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return Ge(n),null}if(f=Q.current,zs(n))Vm(n);else{var v=ol(fe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[bt]=n,f[Mt]=l;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(_t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Kn(n)}}return Ge(n),$u(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Kn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=fe.current,zs(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[bt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ag(e.nodeValue,r)),e||da(n,!0)}else e=ol(e).createTextNode(l),e[bt]=n,n.stateNode=e}return Ge(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=zs(n),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[bt]=n}else Xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else r=eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(It(n),n):(It(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=zs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[bt]=n}else Xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),h=!1}else h=eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(It(n),n):(It(n),null)}return It(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Go(n,n.updateQueue),Ge(n),null);case 4:return He(),e===null&&hd(n.stateNode.containerInfo),Ge(n),null;case 10:return $n(n.type),Ge(n),null;case 19:if(B(rt),l=n.memoizedState,l===null)return Ge(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)cr(l,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Do(e),f!==null){for(n.flags|=128,cr(l,!1),e=f.updateQueue,n.updateQueue=e,Go(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Um(r,e),r=r.sibling;return K(rt,rt.current&1|2),Te&&Hn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Et()>Qo&&(n.flags|=128,h=!0,cr(l,!1),n.lanes=4194304)}else{if(!h)if(e=Do(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Go(n,e),cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Te)return Ge(n),null}else 2*Et()-l.renderingStartTime>Qo&&r!==536870912&&(n.flags|=128,h=!0,cr(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Et(),e.sibling=null,r=rt.current,K(rt,h?r&1|2:r&1),Te&&Hn(n,l.treeForkCount),e):(Ge(n),null);case 22:case 23:return It(n),fu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),r=n.updateQueue,r!==null&&Go(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&B(Ja),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$n(ct),Ge(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function K1(e,n){switch(Jc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $n(ct),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return tn(n),null;case 31:if(n.memoizedState!==null){if(It(n),n.alternate===null)throw Error(i(340));Xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(It(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(rt),null;case 4:return He(),null;case 10:return $n(n.type),null;case 22:case 23:return It(n),fu(),e!==null&&B(Ja),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $n(ct),null;case 25:return null;default:return null}}function lp(e,n){switch(Jc(n),n.tag){case 3:$n(ct),He();break;case 26:case 27:case 5:tn(n);break;case 4:He();break;case 31:n.memoizedState!==null&&It(n);break;case 13:It(n);break;case 19:B(rt);break;case 10:$n(n.type);break;case 22:case 23:It(n),fu(),e!==null&&B(Ja);break;case 24:$n(ct)}}function ur(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(j){Ue(n,n.return,j)}}function va(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var v=l.inst,j=v.destroy;if(j!==void 0){v.destroy=void 0,h=n;var k=r,P=j;try{P()}catch(F){Ue(h,k,F)}}}l=l.next}while(l!==f)}}catch(F){Ue(n,n.return,F)}}function cp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Zm(n,r)}catch(l){Ue(e,e.return,l)}}}function up(e,n,r){r.props=as(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ue(e,n,l)}}function dr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Ue(e,n,h)}}function Cn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ue(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ue(e,n,h)}else r.current=null}function dp(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ue(e,e.return,h)}}function Iu(e,n,r){try{var l=e.stateNode;gj(l,e.type,r,n),l[Mt]=n}catch(h){Ue(e,e.return,h)}}function hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&Na(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yu(e,n,r),e=e.sibling;e!==null;)Yu(e,n,r),e=e.sibling}function Yo(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Na(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Yo(e,n,r),e=e.sibling;e!==null;)Yo(e,n,r),e=e.sibling}function fp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);_t(n,l,r),n[bt]=e,n[Mt]=r}catch(f){Ue(e,e.return,f)}}var Xn=!1,ht=!1,Ku=!1,mp=typeof WeakSet=="function"?WeakSet:Set,vt=null;function X1(e,n){if(e=e.containerInfo,pd=ml,e=km(e),qc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var v=0,j=-1,k=-1,P=0,F=0,G=e,L=null;t:for(;;){for(var q;G!==r||h!==0&&G.nodeType!==3||(j=v+h),G!==f||l!==0&&G.nodeType!==3||(k=v+l),G.nodeType===3&&(v+=G.nodeValue.length),(q=G.firstChild)!==null;)L=G,G=q;for(;;){if(G===e)break t;if(L===r&&++P===h&&(j=v),L===f&&++F===l&&(k=v),(q=G.nextSibling)!==null)break;G=L,L=G.parentNode}G=q}r=j===-1||k===-1?null:{start:j,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},ml=!1,vt=n;vt!==null;)if(n=vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vt=e;else for(;vt!==null;){switch(n=vt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Z=as(r.type,h);e=l.getSnapshotBeforeUpdate(Z,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ue(r,r.return,le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)xd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,vt=e;break}vt=n.return}}function pp(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Qn(e,r),l&4&&ur(5,r);break;case 1:if(Qn(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(v){Ue(r,r.return,v)}else{var h=as(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ue(r,r.return,v)}}l&64&&cp(r),l&512&&dr(r,r.return);break;case 3:if(Qn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zm(e,n)}catch(v){Ue(r,r.return,v)}}break;case 27:n===null&&l&4&&fp(r);case 26:case 5:Qn(e,r),n===null&&l&4&&dp(r),l&512&&dr(r,r.return);break;case 12:Qn(e,r);break;case 31:Qn(e,r),l&4&&vp(e,r);break;case 13:Qn(e,r),l&4&&xp(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=sj.bind(null,r),_j(e,r))));break;case 22:if(l=r.memoizedState!==null||Xn,!l){n=n!==null&&n.memoizedState!==null||ht,h=Xn;var f=ht;Xn=l,(ht=n)&&!f?Jn(e,r,(r.subtreeFlags&8772)!==0):Qn(e,r),Xn=h,ht=f}break;case 30:break;default:Qn(e,r)}}function gp(e){var n=e.alternate;n!==null&&(e.alternate=null,gp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&_c(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Pt=!1;function Wn(e,n,r){for(r=r.child;r!==null;)yp(e,n,r),r=r.sibling}function yp(e,n,r){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(he,r)}catch{}switch(r.tag){case 26:ht||Cn(r,n),Wn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||Cn(r,n);var l=Xe,h=Pt;Na(r.type)&&(Xe=r.stateNode,Pt=!1),Wn(e,n,r),br(r.stateNode),Xe=l,Pt=h;break;case 5:ht||Cn(r,n);case 6:if(l=Xe,h=Pt,Xe=null,Wn(e,n,r),Xe=l,Pt=h,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(f){Ue(r,n,f)}else try{Xe.removeChild(r.stateNode)}catch(f){Ue(r,n,f)}break;case 18:Xe!==null&&(Pt?(e=Xe,cg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ri(e)):cg(Xe,r.stateNode));break;case 4:l=Xe,h=Pt,Xe=r.stateNode.containerInfo,Pt=!0,Wn(e,n,r),Xe=l,Pt=h;break;case 0:case 11:case 14:case 15:va(2,r,n),ht||va(4,r,n),Wn(e,n,r);break;case 1:ht||(Cn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&up(r,n,l)),Wn(e,n,r);break;case 21:Wn(e,n,r);break;case 22:ht=(l=ht)||r.memoizedState!==null,Wn(e,n,r),ht=l;break;default:Wn(e,n,r)}}function vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ri(e)}catch(r){Ue(n,n.return,r)}}}function xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ri(e)}catch(r){Ue(n,n.return,r)}}function W1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mp),n;default:throw Error(i(435,e.tag))}}function Ko(e,n){var r=W1(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ij.bind(null,e,l);l.then(h,h)}})}function Lt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,v=n,j=v;e:for(;j!==null;){switch(j.tag){case 27:if(Na(j.type)){Xe=j.stateNode,Pt=!1;break e}break;case 5:Xe=j.stateNode,Pt=!1;break e;case 3:case 4:Xe=j.stateNode.containerInfo,Pt=!0;break e}j=j.return}if(Xe===null)throw Error(i(160));yp(f,v,h),Xe=null,Pt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)bp(n,e),n=n.sibling}var vn=null;function bp(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(n,e),Bt(e),l&4&&(va(3,e,e.return),ur(3,e),va(5,e,e.return));break;case 1:Lt(n,e),Bt(e),l&512&&(ht||r===null||Cn(r,r.return)),l&64&&Xn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=vn;if(Lt(n,e),Bt(e),l&512&&(ht||r===null||Cn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Bi]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),_t(f,l,r),f[bt]=e,yt(f),l=f;break e;case"link":var v=bg("link","href",h).get(l+(r.href||""));if(v){for(var j=0;j<v.length;j++)if(f=v[j],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(j,1);break t}}f=h.createElement(l),_t(f,l,r),h.head.appendChild(f);break;case"meta":if(v=bg("meta","content",h).get(l+(r.content||""))){for(j=0;j<v.length;j++)if(f=v[j],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(j,1);break t}}f=h.createElement(l),_t(f,l,r),h.head.appendChild(f);break;default:throw Error(i(468,l))}f[bt]=e,yt(f),l=f}e.stateNode=l}else wg(h,e.type,e.stateNode);else e.stateNode=xg(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?wg(h,e.type,e.stateNode):xg(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Lt(n,e),Bt(e),l&512&&(ht||r===null||Cn(r,r.return)),r!==null&&l&4&&Iu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Lt(n,e),Bt(e),l&512&&(ht||r===null||Cn(r,r.return)),e.flags&32){h=e.stateNode;try{As(h,"")}catch(Z){Ue(e,e.return,Z)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Iu(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Ku=!0);break;case 6:if(Lt(n,e),Bt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(Z){Ue(e,e.return,Z)}}break;case 3:if(ul=null,h=vn,vn=ll(n.containerInfo),Lt(n,e),vn=h,Bt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ri(n.containerInfo)}catch(Z){Ue(e,e.return,Z)}Ku&&(Ku=!1,wp(e));break;case 4:l=vn,vn=ll(e.stateNode.containerInfo),Lt(n,e),Bt(e),vn=l;break;case 12:Lt(n,e),Bt(e);break;case 31:Lt(n,e),Bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ko(e,l)));break;case 13:Lt(n,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wo=Et()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ko(e,l)));break;case 22:h=e.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,P=Xn,F=ht;if(Xn=P||h,ht=F||k,Lt(n,e),ht=F,Xn=P,Bt(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||k||Xn||ht||ss(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){k=r=n;try{if(f=k.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{j=k.stateNode;var G=k.memoizedProps.style,L=G!=null&&G.hasOwnProperty("display")?G.display:null;j.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Z){Ue(k,k.return,Z)}}}else if(n.tag===6){if(r===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(Z){Ue(k,k.return,Z)}}}else if(n.tag===18){if(r===null){k=n;try{var q=k.stateNode;h?ug(q,!0):ug(k.stateNode,!1)}catch(Z){Ue(k,k.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ko(e,r))));break;case 19:Lt(n,e),Bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ko(e,l)));break;case 30:break;case 21:break;default:Lt(n,e),Bt(e)}}function Bt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(hp(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var h=r.stateNode,f=Gu(e);Yo(e,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(As(v,""),r.flags&=-33);var j=Gu(e);Yo(e,j,v);break;case 3:case 4:var k=r.stateNode.containerInfo,P=Gu(e);Yu(e,P,k);break;default:throw Error(i(161))}}catch(F){Ue(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(e,n.alternate,n),n=n.sibling}function ss(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:va(4,n,n.return),ss(n);break;case 1:Cn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&up(n,n.return,r),ss(n);break;case 27:br(n.stateNode);case 26:case 5:Cn(n,n.return),ss(n);break;case 22:n.memoizedState===null&&ss(n);break;case 30:ss(n);break;default:ss(n)}e=e.sibling}}function Jn(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Jn(h,f,r),ur(4,f);break;case 1:if(Jn(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ue(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var j=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Jm(k[h],j)}catch(P){Ue(l,l.return,P)}}r&&v&64&&cp(f),dr(f,f.return);break;case 27:fp(f);case 26:case 5:Jn(h,f,r),r&&l===null&&v&4&&dp(f),dr(f,f.return);break;case 12:Jn(h,f,r);break;case 31:Jn(h,f,r),r&&v&4&&vp(h,f);break;case 13:Jn(h,f,r),r&&v&4&&xp(h,f);break;case 22:f.memoizedState===null&&Jn(h,f,r),dr(f,f.return);break;case 30:break;default:Jn(h,f,r)}n=n.sibling}}function Xu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Qi(r))}function Wu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qi(e))}function xn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jp(e,n,r,l),n=n.sibling}function jp(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n,r,l),h&2048&&ur(9,n);break;case 1:xn(e,n,r,l);break;case 3:xn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qi(e)));break;case 12:if(h&2048){xn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,j=f.onPostCommit;typeof j=="function"&&j(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ue(n,n.return,k)}}else xn(e,n,r,l);break;case 31:xn(e,n,r,l);break;case 13:xn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?xn(e,n,r,l):hr(e,n):f._visibility&2?xn(e,n,r,l):(f._visibility|=2,Xs(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xu(v,n);break;case 24:xn(e,n,r,l),h&2048&&Wu(n.alternate,n);break;default:xn(e,n,r,l)}}function Xs(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,v=n,j=r,k=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Xs(f,v,j,k,h),ur(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Xs(f,v,j,k,h):hr(f,v):(F._visibility|=2,Xs(f,v,j,k,h)),h&&P&2048&&Xu(v.alternate,v);break;case 24:Xs(f,v,j,k,h),h&&P&2048&&Wu(v.alternate,v);break;default:Xs(f,v,j,k,h)}n=n.sibling}}function hr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:hr(r,l),h&2048&&Xu(l.alternate,l);break;case 24:hr(r,l),h&2048&&Wu(l.alternate,l);break;default:hr(r,l)}n=n.sibling}}var fr=8192;function Ws(e,n,r){if(e.subtreeFlags&fr)for(e=e.child;e!==null;)Sp(e,n,r),e=e.sibling}function Sp(e,n,r){switch(e.tag){case 26:Ws(e,n,r),e.flags&fr&&e.memoizedState!==null&&Pj(r,vn,e.memoizedState,e.memoizedProps);break;case 5:Ws(e,n,r);break;case 3:case 4:var l=vn;vn=ll(e.stateNode.containerInfo),Ws(e,n,r),vn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fr,fr=16777216,Ws(e,n,r),fr=l):Ws(e,n,r));break;default:Ws(e,n,r)}}function _p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function mr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];vt=l,kp(l,e)}_p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Np(e),e=e.sibling}function Np(e){switch(e.tag){case 0:case 11:case 15:mr(e),e.flags&2048&&va(9,e,e.return);break;case 3:mr(e);break;case 12:mr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xo(e)):mr(e);break;default:mr(e)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];vt=l,kp(l,e)}_p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:va(8,n,n.return),Xo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Xo(n));break;default:Xo(n)}e=e.sibling}}function kp(e,n){for(;vt!==null;){var r=vt;switch(r.tag){case 0:case 11:case 15:va(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qi(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,vt=l;else e:for(r=e;vt!==null;){l=vt;var h=l.sibling,f=l.return;if(gp(l),l===r){vt=null;break e}if(h!==null){h.return=f,vt=h;break e}vt=f}}}var Q1={getCacheForType:function(e){var n=jt(ct),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return jt(ct).controller.signal}},J1=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,je=null,Ne=0,Me=0,Gt=null,xa=!1,Qs=!1,Qu=!1,Zn=0,nt=0,ba=0,is=0,Ju=0,Yt=0,Js=0,pr=null,zt=null,Zu=!1,Wo=0,Ep=0,Qo=1/0,Jo=null,wa=null,pt=0,ja=null,Zs=null,ea=0,ed=0,td=null,Tp=null,gr=0,nd=null;function Kt(){return(Oe&2)!==0&&Ne!==0?Ne&-Ne:H.T!==null?ld():$f()}function Ap(){if(Yt===0)if((Ne&536870912)===0||Te){var e=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),Yt=e}else Yt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Yt}function Vt(e,n,r){(e===qe&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(ei(e,0),Sa(e,Ne,Yt,!1)),Li(e,r),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(is|=r),nt===4&&Sa(e,Ne,Yt,!1)),Rn(e))}function Cp(e,n,r){if((Oe&6)!==0)throw Error(i(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pi(e,n),h=l?tj(e,n):sd(e,n,!0),f=l;do{if(h===0){Qs&&!l&&Sa(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Z1(r)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var j=e;h=pr;var k=j.current.memoizedState.isDehydrated;if(k&&(ei(j,v).flags|=256),v=sd(j,v,!1),v!==2){if(Qu&&!k){j.errorRecoveryDisabledLanes|=f,is|=f,h=4;break e}f=zt,zt=h,f!==null&&(zt===null?zt=f:zt.push.apply(zt,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ei(e,0),Sa(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Sa(l,n,Yt,!xa);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=Wo+300-Et(),10<h)){if(Sa(l,n,Yt,!xa),oo(l,0,!0)!==0)break e;ea=n,l.timeoutHandle=og(Rp.bind(null,l,r,zt,Jo,Zu,n,Yt,is,Js,xa,f,"Throttled",-0,0),h);break e}Rp(l,r,zt,Jo,Zu,n,Yt,is,Js,xa,f,null,-0,0)}}break}while(!0);Rn(e)}function Rp(e,n,r,l,h,f,v,j,k,P,F,G,L,q){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Sp(n,f,G);var Z=(f&62914560)===f?Wo-Et():(f&4194048)===f?Ep-Et():0;if(Z=Lj(G,Z),Z!==null){ea=f,e.cancelPendingCommit=Z(zp.bind(null,e,n,f,r,l,h,v,j,k,F,G,null,L,q)),Sa(e,f,v,!P);return}}zp(e,n,f,r,l,h,v,j,k)}function Z1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Ht(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sa(e,n,r,l){n&=~Ju,n&=~is,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-et(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&qf(e,r,n)}function Zo(){return(Oe&6)===0?(yr(0),!1):!0}function ad(){if(je!==null){if(Me===0)var e=je.return;else e=je,Fn=Wa=null,xu(e),$s=null,Zi=0,e=je;for(;e!==null;)lp(e.alternate,e),e=e.return;je=null}}function ei(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,xj(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ea=0,ad(),qe=e,je=r=qn(e.current,null),Ne=n,Me=0,Gt=null,xa=!1,Qs=Pi(e,n),Qu=!1,Js=Yt=Ju=is=ba=nt=0,zt=pr=null,Zu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-et(l),f=1<<h;n|=e[h],l&=~f}return Zn=n,bo(),r}function Op(e,n){ge=null,H.H=or,n===Fs||n===To?(n=Km(),Me=3):n===ou?(n=Km(),Me=4):Me=n===Uu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,je===null&&(nt=1,Ho(e,on(n,e.current)))}function Dp(){var e=$t.current;return e===null?!0:(Ne&4194048)===Ne?dn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===dn:!1}function Mp(){var e=H.H;return H.H=or,e===null?or:e}function Up(){var e=H.A;return H.A=Q1,e}function el(){nt=4,xa||(Ne&4194048)!==Ne&&$t.current!==null||(Qs=!0),(ba&134217727)===0&&(is&134217727)===0||qe===null||Sa(qe,Ne,Yt,!1)}function sd(e,n,r){var l=Oe;Oe|=2;var h=Mp(),f=Up();(qe!==e||Ne!==n)&&(Jo=null,ei(e,n)),n=!1;var v=nt;e:do try{if(Me!==0&&je!==null){var j=je,k=Gt;switch(Me){case 8:ad(),v=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(n=!0);var P=Me;if(Me=0,Gt=null,ti(e,j,k,P),r&&Qs){v=0;break e}break;default:P=Me,Me=0,Gt=null,ti(e,j,k,P)}}ej(),v=nt;break}catch(F){Op(e,F)}while(!0);return n&&e.shellSuspendCounter++,Fn=Wa=null,Oe=l,H.H=h,H.A=f,je===null&&(qe=null,Ne=0,bo()),v}function ej(){for(;je!==null;)Pp(je)}function tj(e,n){var r=Oe;Oe|=2;var l=Mp(),h=Up();qe!==e||Ne!==n?(Jo=null,Qo=Et()+500,ei(e,n)):Qs=Pi(e,n);e:do try{if(Me!==0&&je!==null){n=je;var f=Gt;t:switch(Me){case 1:Me=0,Gt=null,ti(e,n,f,1);break;case 2:case 9:if(Gm(f)){Me=0,Gt=null,Lp(n);break}n=function(){Me!==2&&Me!==9||qe!==e||(Me=7),Rn(e)},f.then(n,n);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Gm(f)?(Me=0,Gt=null,Lp(n)):(Me=0,Gt=null,ti(e,n,f,7));break;case 5:var v=null;switch(je.tag){case 26:v=je.memoizedState;case 5:case 27:var j=je;if(v?jg(v):j.stateNode.complete){Me=0,Gt=null;var k=j.sibling;if(k!==null)je=k;else{var P=j.return;P!==null?(je=P,tl(P)):je=null}break t}}Me=0,Gt=null,ti(e,n,f,5);break;case 6:Me=0,Gt=null,ti(e,n,f,6);break;case 8:ad(),nt=6;break e;default:throw Error(i(462))}}nj();break}catch(F){Op(e,F)}while(!0);return Fn=Wa=null,H.H=l,H.A=h,Oe=r,je!==null?0:(qe=null,Ne=0,bo(),nt)}function nj(){for(;je!==null&&!pc();)Pp(je)}function Pp(e){var n=rp(e.alternate,e,Zn);e.memoizedProps=e.pendingProps,n===null?tl(e):je=n}function Lp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ep(r,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=ep(r,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:xu(n);default:lp(r,n),n=je=Um(n,Zn),n=rp(r,n,Zn)}e.memoizedProps=e.pendingProps,n===null?tl(e):je=n}function ti(e,n,r,l){Fn=Wa=null,xu(n),$s=null,Zi=0;var h=n.return;try{if($1(e,h,n,r,Ne)){nt=1,Ho(e,on(r,e.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;nt=1,Ho(e,on(r,e.current)),je=null;return}n.flags&32768?(Te||l===1?e=!0:Qs||(Ne&536870912)!==0?e=!1:(xa=e=!0,(l===2||l===9||l===3||l===6)&&(l=$t.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bp(n,e)):tl(n)}function tl(e){var n=e;do{if((n.flags&32768)!==0){Bp(n,xa);return}e=n.return;var r=Y1(n.alternate,n,Zn);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=e}while(n!==null);nt===0&&(nt=5)}function Bp(e,n){do{var r=K1(e.alternate,e);if(r!==null){r.flags&=32767,je=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){je=e;return}je=e=r}while(e!==null);nt=6,je=null}function zp(e,n,r,l,h,f,v,j,k){e.cancelPendingCommit=null;do nl();while(pt!==0);if((Oe&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=Gc,Uw(e,r,f,v,j,k),e===qe&&(je=qe=null,Ne=0),Zs=n,ja=e,ea=r,ed=f,td=h,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rj(bs,function(){return $p(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=W.p,W.p=2,v=Oe,Oe|=4;try{X1(e,n,r)}finally{Oe=v,W.p=h,H.T=l}}pt=1,Vp(),qp(),Hp()}}function Vp(){if(pt===1){pt=0;var e=ja,n=Zs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=W.p;W.p=2;var h=Oe;Oe|=4;try{bp(n,e);var f=gd,v=km(e.containerInfo),j=f.focusedElem,k=f.selectionRange;if(v!==j&&j&&j.ownerDocument&&Nm(j.ownerDocument.documentElement,j)){if(k!==null&&qc(j)){var P=k.start,F=k.end;if(F===void 0&&(F=P),"selectionStart"in j)j.selectionStart=P,j.selectionEnd=Math.min(F,j.value.length);else{var G=j.ownerDocument||document,L=G&&G.defaultView||window;if(L.getSelection){var q=L.getSelection(),Z=j.textContent.length,le=Math.min(k.start,Z),ze=k.end===void 0?le:Math.min(k.end,Z);!q.extend&&le>ze&&(v=ze,ze=le,le=v);var D=_m(j,le),R=_m(j,ze);if(D&&R&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var U=G.createRange();U.setStart(D.node,D.offset),q.removeAllRanges(),le>ze?(q.addRange(U),q.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),q.addRange(U))}}}}for(G=[],q=j;q=q.parentNode;)q.nodeType===1&&G.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<G.length;j++){var I=G[j];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ml=!!pd,gd=pd=null}finally{Oe=h,W.p=l,H.T=r}}e.current=n,pt=2}}function qp(){if(pt===2){pt=0;var e=ja,n=Zs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=W.p;W.p=2;var h=Oe;Oe|=4;try{pp(e,n.alternate,n)}finally{Oe=h,W.p=l,H.T=r}}pt=3}}function Hp(){if(pt===4||pt===3){pt=0,gc();var e=ja,n=Zs,r=ea,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pt=5:(pt=0,Zs=ja=null,Fp(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wa=null),jc(r),n=n.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(he,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var j=l[v];f(j.value,{componentStack:j.stack})}}finally{H.T=n,W.p=h}}(ea&3)!==0&&nl(),Rn(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===nd?gr++:(gr=0,nd=e):gr=0,yr(0)}}function Fp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qi(n)))}function nl(){return Vp(),qp(),Hp(),$p()}function $p(){if(pt!==5)return!1;var e=ja,n=ed;ed=0;var r=jc(ea),l=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=td,td=null;var f=ja,v=ea;if(pt=0,Zs=ja=null,ea=0,(Oe&6)!==0)throw Error(i(331));var j=Oe;if(Oe|=4,Np(f.current),jp(f,f.current,v,r),Oe=j,yr(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(he,f)}catch{}return!0}finally{W.p=h,H.T=l,Fp(e,n)}}function Ip(e,n,r){n=on(r,n),n=Mu(e.stateNode,n,2),e=pa(e,n,2),e!==null&&(Li(e,2),Rn(e))}function Ue(e,n,r){if(e.tag===3)Ip(e,e,r);else for(;n!==null;){if(n.tag===3){Ip(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wa===null||!wa.has(l))){e=on(r,e),r=G0(2),l=pa(n,r,2),l!==null&&(Y0(r,l,n,e),Li(l,2),Rn(l));break}}n=n.return}}function id(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new J1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Qu=!0,h.add(r),e=aj.bind(null,e,n,r),n.then(e,e))}function aj(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,qe===e&&(Ne&r)===r&&(nt===4||nt===3&&(Ne&62914560)===Ne&&300>Et()-Wo?(Oe&2)===0&&ei(e,0):Ju|=r,Js===Ne&&(Js=0)),Rn(e)}function Gp(e,n){n===0&&(n=Vf()),e=Ya(e,n),e!==null&&(Li(e,n),Rn(e))}function sj(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Gp(e,r)}function ij(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),Gp(e,r)}function rj(e,n){return Mi(e,n)}var al=null,ni=null,rd=!1,sl=!1,od=!1,_a=0;function Rn(e){e!==ni&&e.next===null&&(ni===null?al=ni=e:ni=ni.next=e),sl=!0,rd||(rd=!0,lj())}function yr(e,n){if(!od&&sl){od=!0;do for(var r=!1,l=al;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,j=l.pingedLanes;f=(1<<31-et(42|e)+1)-1,f&=h&~(v&~j),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wp(l,f))}else f=Ne,f=oo(l,l===qe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pi(l,f)||(r=!0,Wp(l,f));l=l.next}while(r);od=!1}}function oj(){Yp()}function Yp(){sl=rd=!1;var e=0;_a!==0&&vj()&&(e=_a);for(var n=Et(),r=null,l=al;l!==null;){var h=l.next,f=Kp(l,n);f===0?(l.next=null,r===null?al=h:r.next=h,h===null&&(ni=r)):(r=l,(e!==0||(f&3)!==0)&&(sl=!0)),l=h}pt!==0&&pt!==5||yr(e),_a!==0&&(_a=0)}function Kp(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-et(f),j=1<<v,k=h[v];k===-1?((j&r)===0||(j&l)!==0)&&(h[v]=Mw(j,n)):k<=n&&(e.expiredLanes|=j),f&=~j}if(n=qe,r=Ne,r=oo(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ui(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Ui(l),jc(r)){case 2:case 8:r=io;break;case 32:r=bs;break;case 268435456:r=ro;break;default:r=bs}return l=Xp.bind(null,e),r=Mi(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Ui(l),e.callbackPriority=2,e.callbackNode=null,2}function Xp(e,n){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(nl()&&e.callbackNode!==r)return null;var l=Ne;return l=oo(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cp(e,l,n),Kp(e,Et()),e.callbackNode!=null&&e.callbackNode===r?Xp.bind(null,e):null)}function Wp(e,n){if(nl())return null;Cp(e,n,!0)}function lj(){bj(function(){(Oe&6)!==0?Mi(so,oj):Yp()})}function ld(){if(_a===0){var e=qs;e===0&&(e=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),_a=e}return _a}function Qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Jp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function cj(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Qp((h[Mt]||null).action),v=l.submitter;v&&(n=(n=v[Mt]||null)?Qp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var j=new go("action","action",null,l,h);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var k=v?Jp(h,v):new FormData(h);Tu(r,{pending:!0,data:k,method:h.method,action:f},null,k)}}else typeof f=="function"&&(j.preventDefault(),k=v?Jp(h,v):new FormData(h),Tu(r,{pending:!0,data:k,method:h.method,action:f},f,k))},currentTarget:h}]})}}for(var cd=0;cd<Ic.length;cd++){var ud=Ic[cd],uj=ud.toLowerCase(),dj=ud[0].toUpperCase()+ud.slice(1);yn(uj,"on"+dj)}yn(Am,"onAnimationEnd"),yn(Cm,"onAnimationIteration"),yn(Rm,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(E1,"onTransitionRun"),yn(T1,"onTransitionStart"),yn(A1,"onTransitionCancel"),yn(Om,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function Zp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var j=l[v],k=j.instance,P=j.currentTarget;if(j=j.listener,k!==f&&h.isPropagationStopped())break e;f=j,h.currentTarget=P;try{f(h)}catch(F){xo(F)}h.currentTarget=null,f=k}else for(v=0;v<l.length;v++){if(j=l[v],k=j.instance,P=j.currentTarget,j=j.listener,k!==f&&h.isPropagationStopped())break e;f=j,h.currentTarget=P;try{f(h)}catch(F){xo(F)}h.currentTarget=null,f=k}}}}function Se(e,n){var r=n[Sc];r===void 0&&(r=n[Sc]=new Set);var l=e+"__bubble";r.has(l)||(eg(n,e,2,!1),r.add(l))}function dd(e,n,r){var l=0;n&&(l|=4),eg(r,e,l,n)}var il="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[il]){e[il]=!0,Yf.forEach(function(r){r!=="selectionchange"&&(hj.has(r)||dd(r,!1,e),dd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[il]||(n[il]=!0,dd("selectionchange",!1,n))}}function eg(e,n,r,l){switch(Ag(n)){case 2:var h=Vj;break;case 8:h=qj;break;default:h=Ed}r=h.bind(null,n,r,e),h=void 0,!Oc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function fd(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var j=l.stateNode.containerInfo;if(j===h)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;j!==null;){if(v=_s(j),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=f=v;continue e}j=j.parentNode}}l=l.return}im(function(){var P=f,F=Cc(r),G=[];e:{var L=Dm.get(e);if(L!==void 0){var q=go,Z=e;switch(e){case"keypress":if(mo(r)===0)break e;case"keydown":case"keyup":q=i1;break;case"focusin":Z="focus",q=Pc;break;case"focusout":Z="blur",q=Pc;break;case"beforeblur":case"afterblur":q=Pc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=l1;break;case Am:case Cm:case Rm:q=Ww;break;case Om:q=u1;break;case"scroll":case"scrollend":q=Iw;break;case"wheel":q=h1;break;case"copy":case"cut":case"paste":q=Jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=um;break;case"toggle":case"beforetoggle":q=m1}var le=(n&4)!==0,ze=!le&&(e==="scroll"||e==="scrollend"),D=le?L!==null?L+"Capture":null:L;le=[];for(var R=P,U;R!==null;){var I=R;if(U=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||U===null||D===null||(I=Vi(R,D),I!=null&&le.push(xr(R,I,U))),ze)break;R=R.return}0<le.length&&(L=new q(L,Z,null,r,F),G.push({event:L,listeners:le}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",L&&r!==Ac&&(Z=r.relatedTarget||r.fromElement)&&(_s(Z)||Z[Ss]))break e;if((q||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,q?(Z=r.relatedTarget||r.toElement,q=P,Z=Z?_s(Z):null,Z!==null&&(ze=u(Z),le=Z.tag,Z!==ze||le!==5&&le!==27&&le!==6)&&(Z=null)):(q=null,Z=P),q!==Z)){if(le=lm,I="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(le=um,I="onPointerLeave",D="onPointerEnter",R="pointer"),ze=q==null?L:zi(q),U=Z==null?L:zi(Z),L=new le(I,R+"leave",q,r,F),L.target=ze,L.relatedTarget=U,I=null,_s(F)===P&&(le=new le(D,R+"enter",Z,r,F),le.target=U,le.relatedTarget=ze,I=le),ze=I,q&&Z)t:{for(le=fj,D=q,R=Z,U=0,I=D;I;I=le(I))U++;I=0;for(var ie=R;ie;ie=le(ie))I++;for(;0<U-I;)D=le(D),U--;for(;0<I-U;)R=le(R),I--;for(;U--;){if(D===R||R!==null&&D===R.alternate){le=D;break t}D=le(D),R=le(R)}le=null}else le=null;q!==null&&tg(G,L,q,le,!1),Z!==null&&ze!==null&&tg(G,ze,Z,le,!0)}}e:{if(L=P?zi(P):window,q=L.nodeName&&L.nodeName.toLowerCase(),q==="select"||q==="input"&&L.type==="file")var Ce=vm;else if(gm(L))if(xm)Ce=_1;else{Ce=j1;var ee=w1}else q=L.nodeName,!q||q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?P&&Tc(P.elementType)&&(Ce=vm):Ce=S1;if(Ce&&(Ce=Ce(e,P))){ym(G,Ce,r,F);break e}ee&&ee(e,L,P),e==="focusout"&&P&&L.type==="number"&&P.memoizedProps.value!=null&&Ec(L,"number",L.value)}switch(ee=P?zi(P):window,e){case"focusin":(gm(ee)||ee.contentEditable==="true")&&(Ds=ee,Hc=P,Ki=null);break;case"focusout":Ki=Hc=Ds=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Em(G,r,F);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Em(G,r,F)}var ye;if(Bc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Os?mm(e,r)&&(ke="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(dm&&r.locale!=="ko"&&(Os||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Os&&(ye=rm()):(la=F,Dc="value"in la?la.value:la.textContent,Os=!0)),ee=rl(P,ke),0<ee.length&&(ke=new cm(ke,e,null,r,F),G.push({event:ke,listeners:ee}),ye?ke.data=ye:(ye=pm(r),ye!==null&&(ke.data=ye)))),(ye=g1?y1(e,r):v1(e,r))&&(ke=rl(P,"onBeforeInput"),0<ke.length&&(ee=new cm("onBeforeInput","beforeinput",null,r,F),G.push({event:ee,listeners:ke}),ee.data=ye)),cj(G,e,P,r,F)}Zp(G,n)})}function xr(e,n,r){return{instance:e,listener:n,currentTarget:r}}function rl(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Vi(e,r),h!=null&&l.unshift(xr(e,h,f)),h=Vi(e,n),h!=null&&l.push(xr(e,h,f))),e.tag===3)return l;e=e.return}return[]}function fj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tg(e,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var j=r,k=j.alternate,P=j.stateNode;if(j=j.tag,k!==null&&k===l)break;j!==5&&j!==26&&j!==27||P===null||(k=P,h?(P=Vi(r,f),P!=null&&v.unshift(xr(r,P,k))):h||(P=Vi(r,f),P!=null&&v.push(xr(r,P,k)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var mj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function ng(e){return(typeof e=="string"?e:""+e).replace(mj,`
`).replace(pj,"")}function ag(e,n){return n=ng(n),ng(e)===n}function Be(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||As(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&As(e,""+l);break;case"className":co(e,"class",l);break;case"tabIndex":co(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":co(e,r,l);break;case"style":am(e,l,f);break;case"data":if(n!=="object"){co(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ho(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Be(e,n,"name",h.name,h,null),Be(e,n,"formEncType",h.formEncType,h,null),Be(e,n,"formMethod",h.formMethod,h,null),Be(e,n,"formTarget",h.formTarget,h,null)):(Be(e,n,"encType",h.encType,h,null),Be(e,n,"method",h.method,h,null),Be(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ho(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=zn);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ho(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),lo(e,"popover",l);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lo(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Fw.get(r)||r,lo(e,r,l))}}function md(e,n,r,l,h,f){switch(r){case"style":am(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?As(e,l):(typeof l=="number"||typeof l=="bigint")&&As(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Mt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):lo(e,r,l)}}}function _t(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Be(e,n,f,v,r,null)}}h&&Be(e,n,"srcSet",r.srcSet,r,null),l&&Be(e,n,"src",r.src,r,null);return;case"input":Se("invalid",e);var j=f=v=h=null,k=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":k=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":j=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:Be(e,n,l,F,r,null)}}Zf(e,f,j,k,P,v,h,!1);return;case"select":Se("invalid",e),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(j=r[h],j!=null))switch(h){case"value":f=j;break;case"defaultValue":v=j;break;case"multiple":l=j;default:Be(e,n,h,j,r,null)}n=f,r=v,e.multiple=!!l,n!=null?Ts(e,!!l,n,!1):r!=null&&Ts(e,!!l,r,!0);return;case"textarea":Se("invalid",e),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(j=r[v],j!=null))switch(v){case"value":l=j;break;case"defaultValue":h=j;break;case"children":f=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:Be(e,n,v,j,r,null)}tm(e,l,h,f);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,n,k,l,r,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<vr.length;l++)Se(vr[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Be(e,n,P,l,r,null)}return;default:if(Tc(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&md(e,n,F,l,r,void 0));return}}for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!=null&&Be(e,n,j,l,r,null))}function gj(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,j=null,k=null,P=null,F=null;for(q in r){var G=r[q];if(r.hasOwnProperty(q)&&G!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":k=G;default:l.hasOwnProperty(q)||Be(e,n,q,null,l,G)}}for(var L in l){var q=l[L];if(G=r[L],l.hasOwnProperty(L)&&(q!=null||G!=null))switch(L){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":j=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,n));break;default:q!==G&&Be(e,n,L,q,l,G)}}kc(e,v,j,k,P,F,f,h);return;case"select":q=v=j=L=null;for(f in r)if(k=r[f],r.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":q=k;default:l.hasOwnProperty(f)||Be(e,n,f,null,l,k)}for(h in l)if(f=l[h],k=r[h],l.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":L=f;break;case"defaultValue":j=f;break;case"multiple":v=f;default:f!==k&&Be(e,n,h,f,l,k)}n=j,r=v,l=q,L!=null?Ts(e,!!r,L,!1):!!l!=!!r&&(n!=null?Ts(e,!!r,n,!0):Ts(e,!!r,r?[]:"",!1));return;case"textarea":q=L=null;for(j in r)if(h=r[j],r.hasOwnProperty(j)&&h!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Be(e,n,j,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":L=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&Be(e,n,v,h,l,f)}em(e,L,q);return;case"option":for(var Z in r)if(L=r[Z],r.hasOwnProperty(Z)&&L!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Be(e,n,Z,null,l,L)}for(k in l)if(L=l[k],q=r[k],l.hasOwnProperty(k)&&L!==q&&(L!=null||q!=null))switch(k){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Be(e,n,k,L,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)L=r[le],r.hasOwnProperty(le)&&L!=null&&!l.hasOwnProperty(le)&&Be(e,n,le,null,l,L);for(P in l)if(L=l[P],q=r[P],l.hasOwnProperty(P)&&L!==q&&(L!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,n));break;default:Be(e,n,P,L,l,q)}return;default:if(Tc(n)){for(var ze in r)L=r[ze],r.hasOwnProperty(ze)&&L!==void 0&&!l.hasOwnProperty(ze)&&md(e,n,ze,void 0,l,L);for(F in l)L=l[F],q=r[F],!l.hasOwnProperty(F)||L===q||L===void 0&&q===void 0||md(e,n,F,L,l,q);return}}for(var D in r)L=r[D],r.hasOwnProperty(D)&&L!=null&&!l.hasOwnProperty(D)&&Be(e,n,D,null,l,L);for(G in l)L=l[G],q=r[G],!l.hasOwnProperty(G)||L===q||L==null&&q==null||Be(e,n,G,L,l,q)}function sg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,v=h.initiatorType,j=h.duration;if(f&&j&&sg(v)){for(v=0,j=h.responseEnd,l+=1;l<r.length;l++){var k=r[l],P=k.startTime;if(P>j)break;var F=k.transferSize,G=k.initiatorType;F&&sg(G)&&(k=k.responseEnd,v+=F*(k<j?1:(j-P)/(k-P)))}if(--l,n+=8*(f+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function ol(e){return e.nodeType===9?e:e.ownerDocument}function ig(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function vj(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var og=typeof setTimeout=="function"?setTimeout:void 0,xj=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,bj=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(e){return lg.resolve(null).then(e).catch(wj)}:og;function wj(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function cg(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),ri(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")br(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,br(r);for(var f=r.firstChild;f;){var v=f.nextSibling,j=f.nodeName;f[Bi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=v}}else r==="body"&&br(e.ownerDocument.body);r=h}while(r);ri(n)}function ug(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),_c(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function jj(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function Sj(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=hn(e.nextSibling),e===null))return null;return e}function dg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _j(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jd=null;function hg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return hn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function fg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function mg(e,n,r){switch(n=ol(r),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function br(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);_c(e)}var fn=new Map,pg=new Set;function ll(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ta=W.d;W.d={f:Nj,r:kj,D:Ej,C:Tj,L:Aj,m:Cj,X:Oj,S:Rj,M:Dj};function Nj(){var e=ta.f(),n=Zo();return e||n}function kj(e){var n=Ns(e);n!==null&&n.tag===5&&n.type==="form"?O0(n):ta.r(e)}var ai=typeof document>"u"?null:document;function gg(e,n,r){var l=ai;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),pg.has(h)||(pg.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),_t(n,"link",e),yt(n),l.head.appendChild(n)))}}function Ej(e){ta.D(e),gg("dns-prefetch",e,null)}function Tj(e,n){ta.C(e,n),gg("preconnect",e,n)}function Aj(e,n,r){ta.L(e,n,r);var l=ai;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=si(e);break;case"script":f=ii(e)}fn.has(f)||(e=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),fn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(wr(f))||n==="script"&&l.querySelector(jr(f))||(n=l.createElement("link"),_t(n,"link",e),yt(n),l.head.appendChild(n)))}}function Cj(e,n){ta.m(e,n);var r=ai;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ii(e)}if(!fn.has(f)&&(e=x({rel:"modulepreload",href:e},n),fn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jr(f)))return}l=r.createElement("link"),_t(l,"link",e),yt(l),r.head.appendChild(l)}}}function Rj(e,n,r){ta.S(e,n,r);var l=ai;if(l&&e){var h=ks(l).hoistableStyles,f=si(e);n=n||"default";var v=h.get(f);if(!v){var j={loading:0,preload:null};if(v=l.querySelector(wr(f)))j.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},r),(r=fn.get(f))&&Sd(e,r);var k=v=l.createElement("link");yt(k),_t(k,"link",e),k._p=new Promise(function(P,F){k.onload=P,k.onerror=F}),k.addEventListener("load",function(){j.loading|=1}),k.addEventListener("error",function(){j.loading|=2}),j.loading|=4,cl(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:j},h.set(f,v)}}}function Oj(e,n){ta.X(e,n);var r=ai;if(r&&e){var l=ks(r).hoistableScripts,h=ii(e),f=l.get(h);f||(f=r.querySelector(jr(h)),f||(e=x({src:e,async:!0},n),(n=fn.get(h))&&_d(e,n),f=r.createElement("script"),yt(f),_t(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Dj(e,n){ta.M(e,n);var r=ai;if(r&&e){var l=ks(r).hoistableScripts,h=ii(e),f=l.get(h);f||(f=r.querySelector(jr(h)),f||(e=x({src:e,async:!0,type:"module"},n),(n=fn.get(h))&&_d(e,n),f=r.createElement("script"),yt(f),_t(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yg(e,n,r,l){var h=(h=fe.current)?ll(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=si(r.href),r=ks(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=si(r.href);var f=ks(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(wr(e)))&&!f._p&&(v.instance=f,v.state.loading=5),fn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},fn.set(e,r),f||Mj(h,e,r,v.state))),n&&l===null)throw Error(i(528,""));return v}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(r),r=ks(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function si(e){return'href="'+sn(e)+'"'}function wr(e){return'link[rel="stylesheet"]['+e+"]"}function vg(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Mj(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),_t(n,"link",r),yt(n),e.head.appendChild(n))}function ii(e){return'[src="'+sn(e)+'"]'}function jr(e){return"script[async]"+e}function xg(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,yt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),yt(l),_t(l,"style",h),cl(l,r.precedence,e),n.instance=l;case"stylesheet":h=si(r.href);var f=e.querySelector(wr(h));if(f)return n.state.loading|=4,n.instance=f,yt(f),f;l=vg(r),(h=fn.get(h))&&Sd(l,h),f=(e.ownerDocument||e).createElement("link"),yt(f);var v=f;return v._p=new Promise(function(j,k){v.onload=j,v.onerror=k}),_t(f,"link",l),n.state.loading|=4,cl(f,r.precedence,e),n.instance=f;case"script":return f=ii(r.src),(h=e.querySelector(jr(f)))?(n.instance=h,yt(h),h):(l=r,(h=fn.get(f))&&(l=x({},r),_d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),yt(h),_t(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,cl(l,r.precedence,e));return n.instance}function cl(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var j=l[v];if(j.dataset.precedence===n)f=j;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ul=null;function bg(e,n,r){if(ul===null){var l=new Map,h=ul=new Map;h.set(r,l)}else h=ul,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Bi]||f[bt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var j=l.get(v);j?j.push(f):l.set(v,[f])}}return l}function wg(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Uj(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Pj(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=si(l.href),f=n.querySelector(wr(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dl.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,yt(f);return}f=n.ownerDocument||n,l=vg(l),(h=fn.get(h))&&Sd(l,h),f=f.createElement("link"),yt(f);var v=f;v._p=new Promise(function(j,k){v.onload=j,v.onerror=k}),_t(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=dl.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function Lj(e,n){return e.stylesheets&&e.count===0&&fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&fl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*yj());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hl=null;function fl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hl=new Map,n.forEach(Bj,e),hl=null,dl.call(e))}function Bj(e,n){if(!(n.state.loading&4)){var r=hl.get(e);if(r)var l=r.get(null);else{r=new Map,hl.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=dl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Sr={$$typeof:A,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function zj(e,n,r,l,h,f,v,j,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.hiddenUpdates=bc(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Sg(e,n,r,l,h,f,v,j,k,P,F,G){return e=new zj(e,n,r,v,k,P,F,G,j),n=1,f===!0&&(n|=24),f=Ft(3,null,null,n),e.current=f,f.stateNode=e,n=su(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},lu(f),e}function _g(e){return e?(e=Ps,e):Ps}function Ng(e,n,r,l,h,f){h=_g(h),l.context===null?l.context=h:l.pendingContext=h,l=ma(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=pa(e,l,n),r!==null&&(Vt(r,e,n),tr(r,e,n))}function kg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function kd(e,n){kg(e,n),(e=e.alternate)&&kg(e,n)}function Eg(e){if(e.tag===13||e.tag===31){var n=Ya(e,67108864);n!==null&&Vt(n,e,67108864),kd(e,67108864)}}function Tg(e){if(e.tag===13||e.tag===31){var n=Kt();n=wc(n);var r=Ya(e,n);r!==null&&Vt(r,e,n),kd(e,n)}}var ml=!0;function Vj(e,n,r,l){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Ed(e,n,r,l)}finally{W.p=f,H.T=h}}function qj(e,n,r,l){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Ed(e,n,r,l)}finally{W.p=f,H.T=h}}function Ed(e,n,r,l){if(ml){var h=Td(l);if(h===null)fd(e,n,l,pl,r),Cg(e,l);else if(Fj(h,e,n,r,l))l.stopPropagation();else if(Cg(e,l),n&4&&-1<Hj.indexOf(e)){for(;h!==null;){var f=Ns(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ha(f.pendingLanes);if(v!==0){var j=f;for(j.pendingLanes|=2,j.entangledLanes|=2;v;){var k=1<<31-et(v);j.entanglements[1]|=k,v&=~k}Rn(f),(Oe&6)===0&&(Qo=Et()+500,yr(0))}}break;case 31:case 13:j=Ya(f,2),j!==null&&Vt(j,f,2),Zo(),kd(f,2)}if(f=Td(l),f===null&&fd(e,n,l,pl,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(e,n,l,null,r)}}function Td(e){return e=Cc(e),Ad(e)}var pl=null;function Ad(e){if(pl=null,e=_s(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pl=e,null}function Ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yc()){case so:return 2;case io:return 8;case bs:case vc:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Cd=!1,ka=null,Ea=null,Ta=null,_r=new Map,Nr=new Map,Aa=[],Hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cg(e,n){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":_r.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(n.pointerId)}}function kr(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ns(n),n!==null&&Eg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Fj(e,n,r,l,h){switch(n){case"focusin":return ka=kr(ka,e,n,r,l,h),!0;case"dragenter":return Ea=kr(Ea,e,n,r,l,h),!0;case"mouseover":return Ta=kr(Ta,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return _r.set(f,kr(_r.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Nr.set(f,kr(Nr.get(f)||null,e,n,r,l,h)),!0}return!1}function Rg(e){var n=_s(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,If(e.priority,function(){Tg(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,If(e.priority,function(){Tg(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ac=l,r.target.dispatchEvent(l),Ac=null}else return n=Ns(r),n!==null&&Eg(n),e.blockedOn=r,!1;n.shift()}return!0}function Og(e,n,r){gl(e)&&r.delete(n)}function $j(){Cd=!1,ka!==null&&gl(ka)&&(ka=null),Ea!==null&&gl(Ea)&&(Ea=null),Ta!==null&&gl(Ta)&&(Ta=null),_r.forEach(Og),Nr.forEach(Og)}function yl(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$j)))}var vl=null;function Dg(e){vl!==e&&(vl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){vl===e&&(vl=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||r)===null)continue;break}var f=Ns(r);f!==null&&(e.splice(n,3),n-=3,Tu(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ri(e){function n(k){return yl(k,e)}ka!==null&&yl(ka,e),Ea!==null&&yl(Ea,e),Ta!==null&&yl(Ta,e),_r.forEach(n),Nr.forEach(n);for(var r=0;r<Aa.length;r++){var l=Aa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)Rg(r),r.blockedOn===null&&Aa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[Mt]||null;if(typeof f=="function")v||Dg(r);else if(v){var j=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Mt]||null)j=v.formAction;else if(Ad(h)!==null)continue}else j=v.action;typeof j=="function"?r[l+1]=j:(r.splice(l,3),l-=3),Dg(r)}}}function Mg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}xl.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,l=Kt();Ng(r,l,e,n,null,null)},xl.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ng(e.current,2,null,e,null,null),Zo(),n[Ss]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$f();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Aa.length&&n!==0&&n<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&Rg(e)}};var Ug=t.version;if(Ug!=="19.2.0")throw Error(i(527,Ug,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Ij={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{he=bl.inject(Ij),oe=bl}catch{}}return Tr.createRoot=function(e,n){if(!c(e))throw Error(i(299));var r=!1,l="",h=H0,f=F0,v=$0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Sg(e,1,!1,null,null,r,l,null,h,f,v,Mg),e[Ss]=n.current,hd(e),new Rd(n)},Tr.hydrateRoot=function(e,n,r){if(!c(e))throw Error(i(299));var l=!1,h="",f=H0,v=F0,j=$0,k=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),n=Sg(e,1,!0,n,r??null,l,h,k,f,v,j,Mg),n.context=_g(null),r=n.current,l=Kt(),l=wc(l),h=ma(l),h.callback=null,pa(r,h,l),r=l,n.current.lanes=r,Li(n,r),Rn(n),e[Ss]=n.current,hd(e),new xl(n)},Tr.version="19.2.0",Tr}var Ig;function aS(){if(Ig)return Md.exports;Ig=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Md.exports=nS(),Md.exports}var sS=aS();const iS=Ih(sS),Wv=({className:a})=>o.jsx("img",{src:"/brand-logo.png",alt:"Logo de Remesas A&M",className:a}),Yh=E.createContext({});function Kh(a){const t=E.useRef(null);return t.current===null&&(t.current=a()),t.current}const ac=E.createContext(null),Xh=E.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class rS extends E.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oS({children:a,isPresent:t}){const s=E.useId(),i=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=E.useContext(Xh);return E.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:g}=c.current;if(t||!i.current||!d||!m)return;i.current.dataset.motionPopId=s;const y=document.createElement("style");return u&&(y.nonce=u),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),o.jsx(rS,{isPresent:t,childRef:i,sizeRef:c,children:E.cloneElement(a,{ref:i})})}const lS=({children:a,initial:t,isPresent:s,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:d})=>{const m=Kh(cS),p=E.useId(),g=E.useCallback(x=>{m.set(x,!0);for(const b of m.values())if(!b)return;i&&i()},[m,i]),y=E.useMemo(()=>({id:p,initial:t,isPresent:s,custom:c,onExitComplete:g,register:x=>(m.set(x,!1),()=>m.delete(x))}),u?[Math.random(),g]:[s,g]);return E.useMemo(()=>{m.forEach((x,b)=>m.set(b,!1))},[s]),E.useEffect(()=>{!s&&!m.size&&i&&i()},[s]),d==="popLayout"&&(a=o.jsx(oS,{isPresent:s,children:a})),o.jsx(ac.Provider,{value:y,children:a})};function cS(){return new Map}function Qv(a=!0){const t=E.useContext(ac);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:c}=t,u=E.useId();E.useEffect(()=>{a&&c(u)},[a]);const d=E.useCallback(()=>a&&i&&i(u),[u,i,a]);return!s&&i?[!1,d]:[!0]}const wl=a=>a.key||"";function Gg(a){const t=[];return E.Children.forEach(a,s=>{E.isValidElement(s)&&t.push(s)}),t}const Wh=typeof window<"u",Jv=Wh?E.useLayoutEffect:E.useEffect,qt=({children:a,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1})=>{const[m,p]=Qv(d),g=E.useMemo(()=>Gg(a),[a]),y=d&&!m?[]:g.map(wl),x=E.useRef(!0),b=E.useRef(g),w=Kh(()=>new Map),[N,S]=E.useState(g),[_,C]=E.useState(g);Jv(()=>{x.current=!1,b.current=g;for(let V=0;V<_.length;V++){const z=wl(_[V]);y.includes(z)?w.delete(z):w.get(z)!==!0&&w.set(z,!1)}},[_,y.length,y.join("-")]);const T=[];if(g!==N){let V=[...g];for(let z=0;z<_.length;z++){const M=_[z],$=wl(M);y.includes($)||(V.splice(z,0,M),T.push(M))}u==="wait"&&T.length&&(V=T),C(Gg(V)),S(g);return}const{forceRender:A}=E.useContext(Yh);return o.jsx(o.Fragment,{children:_.map(V=>{const z=wl(V),M=d&&!m?!1:g===_||y.includes(z),$=()=>{if(w.has(z))w.set(z,!0);else return;let X=!0;w.forEach(Y=>{Y||(X=!1)}),X&&(A?.(),C(b.current),d&&p?.(),i&&i())};return o.jsx(lS,{isPresent:M,initial:!x.current||s?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:c,mode:u,onExitComplete:M?void 0:$,children:V},z)})})},Jt=a=>a;let Zv=Jt;function Qh(a){let t;return()=>(t===void 0&&(t=a()),t)}const _i=(a,t,s)=>{const i=t-a;return i===0?1:(s-a)/i},aa=a=>a*1e3,sa=a=>a/1e3,uS={useManualTiming:!1};function dS(a){let t=new Set,s=new Set,i=!1,c=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),a()),g(d)}const p={schedule:(g,y=!1,x=!1)=>{const w=x&&i?t:s;return y&&u.add(g),w.has(g)||w.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,i){c=!0;return}i=!0,[t,s]=[s,t],t.forEach(m),t.clear(),i=!1,c&&(c=!1,p.process(g))}};return p}const jl=["read","resolveKeyframes","update","preRender","render","postRender"],hS=40;function ex(a,t){let s=!1,i=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=jl.reduce((C,T)=>(C[T]=dS(u),C),{}),{read:m,resolveKeyframes:p,update:g,preRender:y,render:x,postRender:b}=d,w=()=>{const C=performance.now();s=!1,c.delta=i?1e3/60:Math.max(Math.min(C-c.timestamp,hS),1),c.timestamp=C,c.isProcessing=!0,m.process(c),p.process(c),g.process(c),y.process(c),x.process(c),b.process(c),c.isProcessing=!1,s&&t&&(i=!1,a(w))},N=()=>{s=!0,i=!0,c.isProcessing||a(w)};return{schedule:jl.reduce((C,T)=>{const A=d[T];return C[T]=(V,z=!1,M=!1)=>(s||N(),A.schedule(V,z,M)),C},{}),cancel:C=>{for(let T=0;T<jl.length;T++)d[jl[T]].cancel(C)},state:c,steps:d}}const{schedule:Ke,cancel:Pa,state:kt,steps:Bd}=ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0),tx=E.createContext({strict:!1}),Yg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const a in Yg)Ni[a]={isEnabled:t=>Yg[a].some(s=>!!t[s])};function fS(a){for(const t in a)Ni[t]={...Ni[t],...a[t]}}const mS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vl(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||mS.has(a)}let nx=a=>!Vl(a);function pS(a){a&&(nx=t=>t.startsWith("on")?!Vl(t):a(t))}try{pS(require("@emotion/is-prop-valid").default)}catch{}function gS(a,t,s){const i={};for(const c in a)c==="values"&&typeof a.values=="object"||(nx(c)||s===!0&&Vl(c)||!t&&!Vl(c)||a.draggable&&c.startsWith("onDrag"))&&(i[c]=a[c]);return i}function yS(a){if(typeof Proxy>"u")return a;const t=new Map,s=(...i)=>a(...i);return new Proxy(s,{get:(i,c)=>c==="create"?a:(t.has(c)||t.set(c,a(c)),t.get(c))})}const sc=E.createContext({});function qr(a){return typeof a=="string"||Array.isArray(a)}function ic(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const Jh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zh=["initial",...Jh];function rc(a){return ic(a.animate)||Zh.some(t=>qr(a[t]))}function ax(a){return!!(rc(a)||a.variants)}function vS(a,t){if(rc(a)){const{initial:s,animate:i}=a;return{initial:s===!1||qr(s)?s:void 0,animate:qr(i)?i:void 0}}return a.inherit!==!1?t:{}}function xS(a){const{initial:t,animate:s}=vS(a,E.useContext(sc));return E.useMemo(()=>({initial:t,animate:s}),[Kg(t),Kg(s)])}function Kg(a){return Array.isArray(a)?a.join(" "):a}const bS=Symbol.for("motionComponentSymbol");function gi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function wS(a,t,s){return E.useCallback(i=>{i&&a.onMount&&a.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):gi(s)&&(s.current=i))},[t])}const ef=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jS="framerAppearId",sx="data-"+ef(jS),{schedule:tf}=ex(queueMicrotask,!1),ix=E.createContext({});function SS(a,t,s,i,c){var u,d;const{visualElement:m}=E.useContext(sc),p=E.useContext(tx),g=E.useContext(ac),y=E.useContext(Xh).reducedMotion,x=E.useRef(null);i=i||p.renderer,!x.current&&i&&(x.current=i(a,{visualState:t,parent:m,props:s,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const b=x.current,w=E.useContext(ix);b&&!b.projection&&c&&(b.type==="html"||b.type==="svg")&&_S(x.current,s,c,w);const N=E.useRef(!1);E.useInsertionEffect(()=>{b&&N.current&&b.update(s,g)});const S=s[sx],_=E.useRef(!!S&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,S))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,S)));return Jv(()=>{b&&(N.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),tf.render(b.render),_.current&&b.animationState&&b.animationState.animateChanges())}),E.useEffect(()=>{b&&(!_.current&&b.animationState&&b.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,S)}),_.current=!1))}),b}function _S(a,t,s,i){const{layoutId:c,layout:u,drag:d,dragConstraints:m,layoutScroll:p,layoutRoot:g}=t;a.projection=new s(a.latestValues,t["data-framer-portal-id"]?void 0:rx(a.parent)),a.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||m&&gi(m),visualElement:a,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function rx(a){if(a)return a.options.allowProjection!==!1?a.projection:rx(a.parent)}function NS({preloadedFeatures:a,createVisualElement:t,useRender:s,useVisualState:i,Component:c}){var u,d;a&&fS(a);function m(g,y){let x;const b={...E.useContext(Xh),...g,layoutId:kS(g)},{isStatic:w}=b,N=xS(g),S=i(g,w);if(!w&&Wh){ES();const _=TS(b);x=_.MeasureLayout,N.visualElement=SS(c,S,b,t,_.ProjectionNode)}return o.jsxs(sc.Provider,{value:N,children:[x&&N.visualElement?o.jsx(x,{visualElement:N.visualElement,...b}):null,s(c,g,wS(S,N.visualElement,y),S,w,N.visualElement)]})}m.displayName=`motion.${typeof c=="string"?c:`create(${(d=(u=c.displayName)!==null&&u!==void 0?u:c.name)!==null&&d!==void 0?d:""})`}`;const p=E.forwardRef(m);return p[bS]=c,p}function kS({layoutId:a}){const t=E.useContext(Yh).id;return t&&a!==void 0?t+"-"+a:a}function ES(a,t){E.useContext(tx).strict}function TS(a){const{drag:t,layout:s}=Ni;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t?.isEnabled(a)||s?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const AS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nf(a){return typeof a!="string"||a.includes("-")?!1:!!(AS.indexOf(a)>-1||/[A-Z]/u.test(a))}function Xg(a){const t=[{},{}];return a?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function af(a,t,s,i){if(typeof t=="function"){const[c,u]=Xg(i);t=t(s!==void 0?s:a.custom,c,u)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[c,u]=Xg(i);t=t(s!==void 0?s:a.custom,c,u)}return t}const dh=a=>Array.isArray(a),CS=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),RS=a=>dh(a)?a[a.length-1]||0:a,Ot=a=>!!(a&&a.getVelocity);function Ul(a){const t=Ot(a)?a.get():a;return CS(t)?t.toValue():t}function OS({scrapeMotionValuesFromProps:a,createRenderState:t,onUpdate:s},i,c,u){const d={latestValues:DS(i,c,u,a),renderState:t()};return s&&(d.onMount=m=>s({props:i,current:m,...d}),d.onUpdate=m=>s(m)),d}const ox=a=>(t,s)=>{const i=E.useContext(sc),c=E.useContext(ac),u=()=>OS(a,t,i,c);return s?u():Kh(u)};function DS(a,t,s,i){const c={},u=i(a,{});for(const b in u)c[b]=Ul(u[b]);let{initial:d,animate:m}=a;const p=rc(a),g=ax(a);t&&g&&!p&&a.inherit!==!1&&(d===void 0&&(d=t.initial),m===void 0&&(m=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const x=y?m:d;if(x&&typeof x!="boolean"&&!ic(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const N=af(a,b[w]);if(N){const{transitionEnd:S,transition:_,...C}=N;for(const T in C){let A=C[T];if(Array.isArray(A)){const V=y?A.length-1:0;A=A[V]}A!==null&&(c[T]=A)}for(const T in S)c[T]=S[T]}}}return c}const Ti=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xs=new Set(Ti),lx=a=>t=>typeof t=="string"&&t.startsWith(a),cx=lx("--"),MS=lx("var(--"),sf=a=>MS(a)?US.test(a.split("/*")[0].trim()):!1,US=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ux=(a,t)=>t&&typeof a=="number"?t.transform(a):a,ia=(a,t,s)=>s>t?t:s<a?a:s,Ai={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Hr={...Ai,transform:a=>ia(0,1,a)},Sl={...Ai,default:1},Qr=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),Da=Qr("deg"),Mn=Qr("%"),ue=Qr("px"),PS=Qr("vh"),LS=Qr("vw"),Wg={...Mn,parse:a=>Mn.parse(a)/100,transform:a=>Mn.transform(a*100)},BS={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue},zS={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:Sl,scaleX:Sl,scaleY:Sl,scaleZ:Sl,skew:Da,skewX:Da,skewY:Da,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Hr,originX:Wg,originY:Wg,originZ:ue},Qg={...Ai,transform:Math.round},rf={...BS,...zS,zIndex:Qg,size:ue,fillOpacity:Hr,strokeOpacity:Hr,numOctaves:Qg},VS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qS=Ti.length;function HS(a,t,s){let i="",c=!0;for(let u=0;u<qS;u++){const d=Ti[u],m=a[d];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(d.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||s){const g=ux(m,rf[d]);if(!p){c=!1;const y=VS[d]||d;i+=`${y}(${g}) `}s&&(t[d]=g)}}return i=i.trim(),s?i=s(t,c?"":i):c&&(i="none"),i}function of(a,t,s){const{style:i,vars:c,transformOrigin:u}=a;let d=!1,m=!1;for(const p in t){const g=t[p];if(xs.has(p)){d=!0;continue}else if(cx(p)){c[p]=g;continue}else{const y=ux(g,rf[p]);p.startsWith("origin")?(m=!0,u[p]=y):i[p]=y}}if(t.transform||(d||s?i.transform=HS(t,a.transform,s):i.transform&&(i.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:y=0}=u;i.transformOrigin=`${p} ${g} ${y}`}}const FS={offset:"stroke-dashoffset",array:"stroke-dasharray"},$S={offset:"strokeDashoffset",array:"strokeDasharray"};function IS(a,t,s=1,i=0,c=!0){a.pathLength=1;const u=c?FS:$S;a[u.offset]=ue.transform(-i);const d=ue.transform(t),m=ue.transform(s);a[u.array]=`${d} ${m}`}function Jg(a,t,s){return typeof a=="string"?a:ue.transform(t+s*a)}function GS(a,t,s){const i=Jg(t,a.x,a.width),c=Jg(s,a.y,a.height);return`${i} ${c}`}function lf(a,{attrX:t,attrY:s,attrScale:i,originX:c,originY:u,pathLength:d,pathSpacing:m=1,pathOffset:p=0,...g},y,x){if(of(a,g,x),y){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:w,dimensions:N}=a;b.transform&&(N&&(w.transform=b.transform),delete b.transform),N&&(c!==void 0||u!==void 0||w.transform)&&(w.transformOrigin=GS(N,c!==void 0?c:.5,u!==void 0?u:.5)),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),i!==void 0&&(b.scale=i),d!==void 0&&IS(b,d,m,p,!1)}const cf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dx=()=>({...cf(),attrs:{}}),uf=a=>typeof a=="string"&&a.toLowerCase()==="svg";function hx(a,{style:t,vars:s},i,c){Object.assign(a.style,t,c&&c.getProjectionStyles(i));for(const u in s)a.style.setProperty(u,s[u])}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mx(a,t,s,i){hx(a,t,void 0,i);for(const c in t.attrs)a.setAttribute(fx.has(c)?c:ef(c),t.attrs[c])}const ql={};function YS(a){Object.assign(ql,a)}function px(a,{layout:t,layoutId:s}){return xs.has(a)||a.startsWith("origin")||(t||s!==void 0)&&(!!ql[a]||a==="opacity")}function df(a,t,s){var i;const{style:c}=a,u={};for(const d in c)(Ot(c[d])||t.style&&Ot(t.style[d])||px(d,a)||((i=s?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=c[d]);return u}function gx(a,t,s){const i=df(a,t,s);for(const c in a)if(Ot(a[c])||Ot(t[c])){const u=Ti.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;i[u]=a[c]}return i}function KS(a,t){try{t.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Zg=["x","y","width","height","cx","cy","r"],XS={useVisualState:ox({scrapeMotionValuesFromProps:gx,createRenderState:dx,onUpdate:({props:a,prevProps:t,current:s,renderState:i,latestValues:c})=>{if(!s)return;let u=!!a.drag;if(!u){for(const m in c)if(xs.has(m)){u=!0;break}}if(!u)return;let d=!t;if(t)for(let m=0;m<Zg.length;m++){const p=Zg[m];a[p]!==t[p]&&(d=!0)}d&&Ke.read(()=>{KS(s,i),Ke.render(()=>{lf(i,c,uf(s.tagName),a.transformTemplate),mx(s,i)})})}})},WS={useVisualState:ox({scrapeMotionValuesFromProps:df,createRenderState:cf})};function yx(a,t,s){for(const i in t)!Ot(t[i])&&!px(i,s)&&(a[i]=t[i])}function QS({transformTemplate:a},t){return E.useMemo(()=>{const s=cf();return of(s,t,a),Object.assign({},s.vars,s.style)},[t])}function JS(a,t){const s=a.style||{},i={};return yx(i,s,a),Object.assign(i,QS(a,t)),i}function ZS(a,t){const s={},i=JS(a,t);return a.drag&&a.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(s.tabIndex=0),s.style=i,s}function e_(a,t,s,i){const c=E.useMemo(()=>{const u=dx();return lf(u,t,uf(i),a.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(a.style){const u={};yx(u,a.style,a),c.style={...u,...c.style}}return c}function t_(a=!1){return(s,i,c,{latestValues:u},d)=>{const p=(nf(s)?e_:ZS)(i,u,d,s),g=gS(i,typeof s=="string",a),y=s!==E.Fragment?{...g,...p,ref:c}:{},{children:x}=i,b=E.useMemo(()=>Ot(x)?x.get():x,[x]);return E.createElement(s,{...y,children:b})}}function n_(a,t){return function(i,{forwardMotionProps:c}={forwardMotionProps:!1}){const d={...nf(i)?XS:WS,preloadedFeatures:a,useRender:t_(c),createVisualElement:t,Component:i};return NS(d)}}function vx(a,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==a.length)return!1;for(let i=0;i<s;i++)if(t[i]!==a[i])return!1;return!0}function oc(a,t,s){const i=a.getProps();return af(i,t,s!==void 0?s:i.custom,a)}const a_=Qh(()=>window.ScrollTimeline!==void 0);class s_{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=s}attachTimeline(t,s){const i=this.animations.map(c=>{if(a_()&&c.attachTimeline)return c.attachTimeline(t);if(typeof s=="function")return s(c)});return()=>{i.forEach((c,u)=>{c&&c(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class i_ extends s_{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function hf(a,t){return a?a[t]||a.default||a:void 0}const hh=2e4;function xx(a){let t=0;const s=50;let i=a.next(t);for(;!i.done&&t<hh;)t+=s,i=a.next(t);return t>=hh?1/0:t}function ff(a){return typeof a=="function"}function ey(a,t){a.timeline=t,a.onfinish=null}const mf=a=>Array.isArray(a)&&typeof a[0]=="number",r_={linearEasing:void 0};function o_(a,t){const s=Qh(a);return()=>{var i;return(i=r_[t])!==null&&i!==void 0?i:s()}}const Hl=o_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bx=(a,t,s=10)=>{let i="";const c=Math.max(Math.round(t/s),2);for(let u=0;u<c;u++)i+=a(_i(0,c-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function wx(a){return!!(typeof a=="function"&&Hl()||!a||typeof a=="string"&&(a in fh||Hl())||mf(a)||Array.isArray(a)&&a.every(wx))}const Rr=([a,t,s,i])=>`cubic-bezier(${a}, ${t}, ${s}, ${i})`,fh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rr([0,.65,.55,1]),circOut:Rr([.55,0,1,.45]),backIn:Rr([.31,.01,.66,-.59]),backOut:Rr([.33,1.53,.69,.99])};function jx(a,t){if(a)return typeof a=="function"&&Hl()?bx(a,t):mf(a)?Rr(a):Array.isArray(a)?a.map(s=>jx(s,t)||fh.easeOut):fh[a]}const wn={x:!1,y:!1};function Sx(){return wn.x||wn.y}function l_(a,t,s){var i;if(a instanceof Element)return[a];if(typeof a=="string"){let c=document;const u=(i=void 0)!==null&&i!==void 0?i:c.querySelectorAll(a);return u?Array.from(u):[]}return Array.from(a)}function _x(a,t){const s=l_(a),i=new AbortController,c={passive:!0,...t,signal:i.signal};return[s,c,()=>i.abort()]}function ty(a){return t=>{t.pointerType==="touch"||Sx()||a(t)}}function c_(a,t,s={}){const[i,c,u]=_x(a,s),d=ty(m=>{const{target:p}=m,g=t(m);if(typeof g!="function"||!p)return;const y=ty(x=>{g(x),p.removeEventListener("pointerleave",y)});p.addEventListener("pointerleave",y,c)});return i.forEach(m=>{m.addEventListener("pointerenter",d,c)}),u}const Nx=(a,t)=>t?a===t?!0:Nx(a,t.parentElement):!1,pf=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,u_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d_(a){return u_.has(a.tagName)||a.tabIndex!==-1}const Or=new WeakSet;function ny(a){return t=>{t.key==="Enter"&&a(t)}}function zd(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const h_=(a,t)=>{const s=a.currentTarget;if(!s)return;const i=ny(()=>{if(Or.has(s))return;zd(s,"down");const c=ny(()=>{zd(s,"up")}),u=()=>zd(s,"cancel");s.addEventListener("keyup",c,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function ay(a){return pf(a)&&!Sx()}function f_(a,t,s={}){const[i,c,u]=_x(a,s),d=m=>{const p=m.currentTarget;if(!ay(m)||Or.has(p))return;Or.add(p);const g=t(m),y=(w,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!ay(w)||!Or.has(p))&&(Or.delete(p),typeof g=="function"&&g(w,{success:N}))},x=w=>{y(w,s.useGlobalTarget||Nx(p,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",x,c),window.addEventListener("pointercancel",b,c)};return i.forEach(m=>{!d_(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(s.useGlobalTarget?window:m).addEventListener("pointerdown",d,c),m.addEventListener("focus",g=>h_(g,c),c)}),u}function m_(a){return a==="x"||a==="y"?wn[a]?null:(wn[a]=!0,()=>{wn[a]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}const kx=new Set(["width","height","top","left","right","bottom",...Ti]);let Pl;function p_(){Pl=void 0}const Un={now:()=>(Pl===void 0&&Un.set(kt.isProcessing||uS.useManualTiming?kt.timestamp:performance.now()),Pl),set:a=>{Pl=a,queueMicrotask(p_)}};function gf(a,t){a.indexOf(t)===-1&&a.push(t)}function yf(a,t){const s=a.indexOf(t);s>-1&&a.splice(s,1)}class vf{constructor(){this.subscriptions=[]}add(t){return gf(this.subscriptions,t),()=>yf(this.subscriptions,t)}notify(t,s,i){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,s,i);else for(let u=0;u<c;u++){const d=this.subscriptions[u];d&&d(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ex(a,t){return t?a*(1e3/t):0}const sy=30,g_=a=>!isNaN(parseFloat(a));class y_{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,c=!0)=>{const u=Un.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=g_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new vf);const i=this.events[t].add(s);return t==="change"?()=>{i(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sy)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,sy);return Ex(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fr(a,t){return new y_(a,t)}function v_(a,t,s){a.hasValue(t)?a.getValue(t).set(s):a.addValue(t,Fr(s))}function x_(a,t){const s=oc(a,t);let{transitionEnd:i={},transition:c={},...u}=s||{};u={...u,...i};for(const d in u){const m=RS(u[d]);v_(a,d,m)}}function b_(a){return!!(Ot(a)&&a.add)}function mh(a,t){const s=a.getValue("willChange");if(b_(s))return s.add(t)}function Tx(a){return a.props[sx]}const Ax=(a,t,s)=>(((1-3*s+3*t)*a+(3*s-6*t))*a+3*t)*a,w_=1e-7,j_=12;function S_(a,t,s,i,c){let u,d,m=0;do d=t+(s-t)/2,u=Ax(d,i,c)-a,u>0?s=d:t=d;while(Math.abs(u)>w_&&++m<j_);return d}function Jr(a,t,s,i){if(a===t&&s===i)return Jt;const c=u=>S_(u,0,1,a,s);return u=>u===0||u===1?u:Ax(c(u),t,i)}const Cx=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,Rx=a=>t=>1-a(1-t),Ox=Jr(.33,1.53,.69,.99),xf=Rx(Ox),Dx=Cx(xf),Mx=a=>(a*=2)<1?.5*xf(a):.5*(2-Math.pow(2,-10*(a-1))),bf=a=>1-Math.sin(Math.acos(a)),Ux=Rx(bf),Px=Cx(bf),Lx=a=>/^0[^.\s]+$/u.test(a);function __(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Lx(a):!0}const Ur=a=>Math.round(a*1e5)/1e5,wf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N_(a){return a==null}const k_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jf=(a,t)=>s=>!!(typeof s=="string"&&k_.test(s)&&s.startsWith(a)||t&&!N_(s)&&Object.prototype.hasOwnProperty.call(s,t)),Bx=(a,t,s)=>i=>{if(typeof i!="string")return i;const[c,u,d,m]=i.match(wf);return{[a]:parseFloat(c),[t]:parseFloat(u),[s]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},E_=a=>ia(0,255,a),Vd={...Ai,transform:a=>Math.round(E_(a))},gs={test:jf("rgb","red"),parse:Bx("red","green","blue"),transform:({red:a,green:t,blue:s,alpha:i=1})=>"rgba("+Vd.transform(a)+", "+Vd.transform(t)+", "+Vd.transform(s)+", "+Ur(Hr.transform(i))+")"};function T_(a){let t="",s="",i="",c="";return a.length>5?(t=a.substring(1,3),s=a.substring(3,5),i=a.substring(5,7),c=a.substring(7,9)):(t=a.substring(1,2),s=a.substring(2,3),i=a.substring(3,4),c=a.substring(4,5),t+=t,s+=s,i+=i,c+=c),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:c?parseInt(c,16)/255:1}}const ph={test:jf("#"),parse:T_,transform:gs.transform},yi={test:jf("hsl","hue"),parse:Bx("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(a)+", "+Mn.transform(Ur(t))+", "+Mn.transform(Ur(s))+", "+Ur(Hr.transform(i))+")"},Ct={test:a=>gs.test(a)||ph.test(a)||yi.test(a),parse:a=>gs.test(a)?gs.parse(a):yi.test(a)?yi.parse(a):ph.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?gs.transform(a):yi.transform(a)},A_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C_(a){var t,s;return isNaN(a)&&typeof a=="string"&&(((t=a.match(wf))===null||t===void 0?void 0:t.length)||0)+(((s=a.match(A_))===null||s===void 0?void 0:s.length)||0)>0}const zx="number",Vx="color",R_="var",O_="var(",iy="${}",D_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $r(a){const t=a.toString(),s=[],i={color:[],number:[],var:[]},c=[];let u=0;const m=t.replace(D_,p=>(Ct.test(p)?(i.color.push(u),c.push(Vx),s.push(Ct.parse(p))):p.startsWith(O_)?(i.var.push(u),c.push(R_),s.push(p)):(i.number.push(u),c.push(zx),s.push(parseFloat(p))),++u,iy)).split(iy);return{values:s,split:m,indexes:i,types:c}}function qx(a){return $r(a).values}function Hx(a){const{split:t,types:s}=$r(a),i=t.length;return c=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],c[d]!==void 0){const m=s[d];m===zx?u+=Ur(c[d]):m===Vx?u+=Ct.transform(c[d]):u+=c[d]}return u}}const M_=a=>typeof a=="number"?0:a;function U_(a){const t=qx(a);return Hx(a)(t.map(M_))}const La={test:C_,parse:qx,createTransformer:Hx,getAnimatableNone:U_},P_=new Set(["brightness","contrast","saturate","opacity"]);function L_(a){const[t,s]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[i]=s.match(wf)||[];if(!i)return a;const c=s.replace(i,"");let u=P_.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+c+")"}const B_=/\b([a-z-]*)\(.*?\)/gu,gh={...La,getAnimatableNone:a=>{const t=a.match(B_);return t?t.map(L_).join(" "):a}},z_={...rf,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:gh,WebkitFilter:gh},Sf=a=>z_[a];function Fx(a,t){let s=Sf(a);return s!==gh&&(s=La),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const V_=new Set(["auto","none","0"]);function q_(a,t,s){let i=0,c;for(;i<a.length&&!c;){const u=a[i];typeof u=="string"&&!V_.has(u)&&$r(u).values.length&&(c=a[i]),i++}if(c&&s)for(const u of t)a[u]=Fx(s,c)}const ry=a=>a===Ai||a===ue,oy=(a,t)=>parseFloat(a.split(", ")[t]),ly=(a,t)=>(s,{transform:i})=>{if(i==="none"||!i)return 0;const c=i.match(/^matrix3d\((.+)\)$/u);if(c)return oy(c[1],t);{const u=i.match(/^matrix\((.+)\)$/u);return u?oy(u[1],a):0}},H_=new Set(["x","y","z"]),F_=Ti.filter(a=>!H_.has(a));function $_(a){const t=[];return F_.forEach(s=>{const i=a.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const ki={width:({x:a},{paddingLeft:t="0",paddingRight:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),height:({y:a},{paddingTop:t="0",paddingBottom:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:ly(4,13),y:ly(5,14)};ki.translateX=ki.x;ki.translateY=ki.y;const vs=new Set;let yh=!1,vh=!1;function $x(){if(vh){const a=Array.from(vs).filter(i=>i.needsMeasurement),t=new Set(a.map(i=>i.element)),s=new Map;t.forEach(i=>{const c=$_(i);c.length&&(s.set(i,c),i.render())}),a.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const c=s.get(i);c&&c.forEach(([u,d])=>{var m;(m=i.getValue(u))===null||m===void 0||m.set(d)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vh=!1,yh=!1,vs.forEach(a=>a.complete()),vs.clear()}function Ix(){vs.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(vh=!0)})}function I_(){Ix(),$x()}class _f{constructor(t,s,i,c,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=c,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vs.add(this),yh||(yh=!0,Ke.read(Ix),Ke.resolveKeyframes($x))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:c}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const d=c?.get(),m=t[t.length-1];if(d!==void 0)t[0]=d;else if(i&&s){const p=i.readValue(s,m);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=m),c&&d===void 0&&c.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gx=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),G_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y_(a){const t=G_.exec(a);if(!t)return[,];const[,s,i,c]=t;return[`--${s??i}`,c]}function Yx(a,t,s=1){const[i,c]=Y_(a);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return Gx(d)?parseFloat(d):d}return sf(c)?Yx(c,t,s+1):c}const Kx=a=>t=>t.test(a),K_={test:a=>a==="auto",parse:a=>a},Xx=[Ai,ue,Mn,Da,LS,PS,K_],cy=a=>Xx.find(Kx(a));class Wx extends _f{constructor(t,s,i,c,u){super(t,s,i,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),sf(g))){const y=Yx(g,s.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!kx.has(i)||t.length!==2)return;const[c,u]=t,d=cy(c),m=cy(u);if(d!==m)if(ry(d)&&ry(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let c=0;c<t.length;c++)__(t[c])&&i.push(c);i.length&&q_(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ki[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&t.getValue(i,c).jump(c,!1)}measureEndState(){var t;const{element:s,name:i,unresolvedKeyframes:c}=this;if(!s||!s.current)return;const u=s.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=c.length-1,m=c[d];c[d]=ki[i](s.measureViewportBox(),window.getComputedStyle(s.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([p,g])=>{s.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const uy=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(La.test(a)||a==="0")&&!a.startsWith("url("));function X_(a){const t=a[0];if(a.length===1)return!0;for(let s=0;s<a.length;s++)if(a[s]!==t)return!0}function W_(a,t,s,i){const c=a[0];if(c===null)return!1;if(t==="display"||t==="visibility")return!0;const u=a[a.length-1],d=uy(c,t),m=uy(u,t);return!d||!m?!1:X_(a)||(s==="spring"||ff(s))&&i}const Q_=a=>a!==null;function lc(a,{repeat:t,repeatType:s="loop"},i){const c=a.filter(Q_),u=t&&s!=="loop"&&t%2===1?0:c.length-1;return!u||i===void 0?c[u]:i}const J_=40;class Qx{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Un.now(),this.options={autoplay:t,delay:s,type:i,repeat:c,repeatDelay:u,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>J_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I_(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Un.now(),this.hasAttemptedResolve=!0;const{name:i,type:c,velocity:u,delay:d,onComplete:m,onUpdate:p,isGenerator:g}=this.options;if(!g&&!W_(t,i,c,u))if(d)this.options.duration=0;else{p&&p(lc(t,this.options,s)),m&&m(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,s);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...y},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Je=(a,t,s)=>a+(t-a)*s;function qd(a,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(t-a)*6*s:s<1/2?t:s<2/3?a+(t-a)*(2/3-s)*6:a}function Z_({hue:a,saturation:t,lightness:s,alpha:i}){a/=360,t/=100,s/=100;let c=0,u=0,d=0;if(!t)c=u=d=s;else{const m=s<.5?s*(1+t):s+t-s*t,p=2*s-m;c=qd(p,m,a+1/3),u=qd(p,m,a),d=qd(p,m,a-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Fl(a,t){return s=>s>0?t:a}const Hd=(a,t,s)=>{const i=a*a,c=s*(t*t-i)+i;return c<0?0:Math.sqrt(c)},e2=[ph,gs,yi],t2=a=>e2.find(t=>t.test(a));function dy(a){const t=t2(a);if(!t)return!1;let s=t.parse(a);return t===yi&&(s=Z_(s)),s}const hy=(a,t)=>{const s=dy(a),i=dy(t);if(!s||!i)return Fl(a,t);const c={...s};return u=>(c.red=Hd(s.red,i.red,u),c.green=Hd(s.green,i.green,u),c.blue=Hd(s.blue,i.blue,u),c.alpha=Je(s.alpha,i.alpha,u),gs.transform(c))},n2=(a,t)=>s=>t(a(s)),Zr=(...a)=>a.reduce(n2),xh=new Set(["none","hidden"]);function a2(a,t){return xh.has(a)?s=>s<=0?a:t:s=>s>=1?t:a}function s2(a,t){return s=>Je(a,t,s)}function Nf(a){return typeof a=="number"?s2:typeof a=="string"?sf(a)?Fl:Ct.test(a)?hy:o2:Array.isArray(a)?Jx:typeof a=="object"?Ct.test(a)?hy:i2:Fl}function Jx(a,t){const s=[...a],i=s.length,c=a.map((u,d)=>Nf(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)s[d]=c[d](u);return s}}function i2(a,t){const s={...a,...t},i={};for(const c in s)a[c]!==void 0&&t[c]!==void 0&&(i[c]=Nf(a[c])(a[c],t[c]));return c=>{for(const u in i)s[u]=i[u](c);return s}}function r2(a,t){var s;const i=[],c={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const d=t.types[u],m=a.indexes[d][c[d]],p=(s=a.values[m])!==null&&s!==void 0?s:0;i[u]=p,c[d]++}return i}const o2=(a,t)=>{const s=La.createTransformer(t),i=$r(a),c=$r(t);return i.indexes.var.length===c.indexes.var.length&&i.indexes.color.length===c.indexes.color.length&&i.indexes.number.length>=c.indexes.number.length?xh.has(a)&&!c.values.length||xh.has(t)&&!i.values.length?a2(a,t):Zr(Jx(r2(i,c),c.values),s):Fl(a,t)};function Zx(a,t,s){return typeof a=="number"&&typeof t=="number"&&typeof s=="number"?Je(a,t,s):Nf(a)(a,t)}const l2=5;function eb(a,t,s){const i=Math.max(t-l2,0);return Ex(s-a(i),t-i)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fd=.001;function c2({duration:a=at.duration,bounce:t=at.bounce,velocity:s=at.velocity,mass:i=at.mass}){let c,u,d=1-t;d=ia(at.minDamping,at.maxDamping,d),a=ia(at.minDuration,at.maxDuration,sa(a)),d<1?(c=g=>{const y=g*d,x=y*a,b=y-s,w=bh(g,d),N=Math.exp(-x);return Fd-b/w*N},u=g=>{const x=g*d*a,b=x*s+s,w=Math.pow(d,2)*Math.pow(g,2)*a,N=Math.exp(-x),S=bh(Math.pow(g,2),d);return(-c(g)+Fd>0?-1:1)*((b-w)*N)/S}):(c=g=>{const y=Math.exp(-g*a),x=(g-s)*a+1;return-Fd+y*x},u=g=>{const y=Math.exp(-g*a),x=(s-g)*(a*a);return y*x});const m=5/a,p=d2(c,u,m);if(a=aa(a),isNaN(p))return{stiffness:at.stiffness,damping:at.damping,duration:a};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:a}}}const u2=12;function d2(a,t,s){let i=s;for(let c=1;c<u2;c++)i=i-a(i)/t(i);return i}function bh(a,t){return a*Math.sqrt(1-t*t)}const h2=["duration","bounce"],f2=["stiffness","damping","mass"];function fy(a,t){return t.some(s=>a[s]!==void 0)}function m2(a){let t={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...a};if(!fy(a,f2)&&fy(a,h2))if(a.visualDuration){const s=a.visualDuration,i=2*Math.PI/(s*1.2),c=i*i,u=2*ia(.05,1,1-(a.bounce||0))*Math.sqrt(c);t={...t,mass:at.mass,stiffness:c,damping:u}}else{const s=c2(a);t={...t,...s,mass:at.mass},t.isResolvedFromDuration=!0}return t}function tb(a=at.visualDuration,t=at.bounce){const s=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:i,restDelta:c}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:y,duration:x,velocity:b,isResolvedFromDuration:w}=m2({...s,velocity:-sa(s.velocity||0)}),N=b||0,S=g/(2*Math.sqrt(p*y)),_=d-u,C=sa(Math.sqrt(p/y)),T=Math.abs(_)<5;i||(i=T?at.restSpeed.granular:at.restSpeed.default),c||(c=T?at.restDelta.granular:at.restDelta.default);let A;if(S<1){const z=bh(C,S);A=M=>{const $=Math.exp(-S*C*M);return d-$*((N+S*C*_)/z*Math.sin(z*M)+_*Math.cos(z*M))}}else if(S===1)A=z=>d-Math.exp(-C*z)*(_+(N+C*_)*z);else{const z=C*Math.sqrt(S*S-1);A=M=>{const $=Math.exp(-S*C*M),X=Math.min(z*M,300);return d-$*((N+S*C*_)*Math.sinh(X)+z*_*Math.cosh(X))/z}}const V={calculatedDuration:w&&x||null,next:z=>{const M=A(z);if(w)m.done=z>=x;else{let $=0;S<1&&($=z===0?aa(N):eb(A,z,M));const X=Math.abs($)<=i,Y=Math.abs(d-M)<=c;m.done=X&&Y}return m.value=m.done?d:M,m},toString:()=>{const z=Math.min(xx(V),hh),M=bx($=>V.next(z*$).value,z,30);return z+"ms "+M}};return V}function my({keyframes:a,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:p,restDelta:g=.5,restSpeed:y}){const x=a[0],b={done:!1,value:x},w=X=>m!==void 0&&X<m||p!==void 0&&X>p,N=X=>m===void 0?p:p===void 0||Math.abs(m-X)<Math.abs(p-X)?m:p;let S=s*t;const _=x+S,C=d===void 0?_:d(_);C!==_&&(S=C-x);const T=X=>-S*Math.exp(-X/i),A=X=>C+T(X),V=X=>{const Y=T(X),ne=A(X);b.done=Math.abs(Y)<=g,b.value=b.done?C:ne};let z,M;const $=X=>{w(b.value)&&(z=X,M=tb({keyframes:[b.value,N(b.value)],velocity:eb(A,X,b.value),damping:c,stiffness:u,restDelta:g,restSpeed:y}))};return $(0),{calculatedDuration:null,next:X=>{let Y=!1;return!M&&z===void 0&&(Y=!0,V(X),$(X)),z!==void 0&&X>=z?M.next(X-z):(!Y&&V(X),b)}}}const p2=Jr(.42,0,1,1),g2=Jr(0,0,.58,1),nb=Jr(.42,0,.58,1),y2=a=>Array.isArray(a)&&typeof a[0]!="number",v2={linear:Jt,easeIn:p2,easeInOut:nb,easeOut:g2,circIn:bf,circInOut:Px,circOut:Ux,backIn:xf,backInOut:Dx,backOut:Ox,anticipate:Mx},py=a=>{if(mf(a)){Zv(a.length===4);const[t,s,i,c]=a;return Jr(t,s,i,c)}else if(typeof a=="string")return v2[a];return a};function x2(a,t,s){const i=[],c=s||Zx,u=a.length-1;for(let d=0;d<u;d++){let m=c(a[d],a[d+1]);if(t){const p=Array.isArray(t)?t[d]||Jt:t;m=Zr(p,m)}i.push(m)}return i}function b2(a,t,{clamp:s=!0,ease:i,mixer:c}={}){const u=a.length;if(Zv(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=a[0]===a[1];a[0]>a[u-1]&&(a=[...a].reverse(),t=[...t].reverse());const m=x2(t,i,c),p=m.length,g=y=>{if(d&&y<a[0])return t[0];let x=0;if(p>1)for(;x<a.length-2&&!(y<a[x+1]);x++);const b=_i(a[x],a[x+1],y);return m[x](b)};return s?y=>g(ia(a[0],a[u-1],y)):g}function w2(a,t){const s=a[a.length-1];for(let i=1;i<=t;i++){const c=_i(0,t,i);a.push(Je(s,1,c))}}function j2(a){const t=[0];return w2(t,a.length-1),t}function S2(a,t){return a.map(s=>s*t)}function _2(a,t){return a.map(()=>t||nb).splice(0,a.length-1)}function $l({duration:a=300,keyframes:t,times:s,ease:i="easeInOut"}){const c=y2(i)?i.map(py):py(i),u={done:!1,value:t[0]},d=S2(s&&s.length===t.length?s:j2(t),a),m=b2(d,t,{ease:Array.isArray(c)?c:_2(t,c)});return{calculatedDuration:a,next:p=>(u.value=m(p),u.done=p>=a,u)}}const N2=a=>{const t=({timestamp:s})=>a(s);return{start:()=>Ke.update(t,!0),stop:()=>Pa(t),now:()=>kt.isProcessing?kt.timestamp:Un.now()}},k2={decay:my,inertia:my,tween:$l,keyframes:$l,spring:tb},E2=a=>a/100;class kf extends Qx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:s,motionValue:i,element:c,keyframes:u}=this.options,d=c?.KeyframeResolver||_f,m=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new d(u,m,s,i,c),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:i=0,repeatDelay:c=0,repeatType:u,velocity:d=0}=this.options,m=ff(s)?s:k2[s]||$l;let p,g;m!==$l&&typeof t[0]!="number"&&(p=Zr(E2,Zx(t[0],t[1])),t=[0,100]);const y=m({...this.options,keyframes:t});u==="mirror"&&(g=m({...this.options,keyframes:[...t].reverse(),velocity:-d})),y.calculatedDuration===null&&(y.calculatedDuration=xx(y));const{calculatedDuration:x}=y,b=x+c,w=b*(i+1)-c;return{generator:y,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:x,resolvedDuration:b,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:i}=this;if(!i){const{keyframes:X}=this.options;return{done:!0,value:X[X.length-1]}}const{finalKeyframe:c,generator:u,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:p,calculatedDuration:g,totalDuration:y,resolvedDuration:x}=i;if(this.startTime===null)return u.next(0);const{delay:b,repeat:w,repeatType:N,repeatDelay:S,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-b*(this.speed>=0?1:-1),T=this.speed>=0?C<0:C>y;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let A=this.currentTime,V=u;if(w){const X=Math.min(this.currentTime,y)/x;let Y=Math.floor(X),ne=X%1;!ne&&X>=1&&(ne=1),ne===1&&Y--,Y=Math.min(Y,w+1),!!(Y%2)&&(N==="reverse"?(ne=1-ne,S&&(ne-=S/x)):N==="mirror"&&(V=d)),A=ia(0,1,ne)*x}const z=T?{done:!1,value:p[0]}:V.next(A);m&&(z.value=m(z.value));let{done:M}=z;!T&&g!==null&&(M=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return $&&c!==void 0&&(z.value=lc(p,this.options,c)),_&&_(z.value),$&&this.finish(),z}get duration(){const{resolved:t}=this;return t?sa(t.calculatedDuration):0}get time(){return sa(this.currentTime)}set time(t){t=aa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=sa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=N2,onPlay:s,startTime:i}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),s&&s();const c=this.driver.now();this.holdTime!==null?this.startTime=c-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=c):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const T2=new Set(["opacity","clipPath","filter","transform"]);function A2(a,t,s,{delay:i=0,duration:c=300,repeat:u=0,repeatType:d="loop",ease:m="easeInOut",times:p}={}){const g={[t]:s};p&&(g.offset=p);const y=jx(m,c);return Array.isArray(y)&&(g.easing=y),a.animate(g,{delay:i,duration:c,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const C2=Qh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Il=10,R2=2e4;function O2(a){return ff(a.type)||a.type==="spring"||!wx(a.ease)}function D2(a,t){const s=new kf({...t,keyframes:a,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:a[0]};const c=[];let u=0;for(;!i.done&&u<R2;)i=s.sample(u),c.push(i.value),u+=Il;return{times:void 0,keyframes:c,duration:u-Il,ease:"linear"}}const ab={anticipate:Mx,backInOut:Dx,circInOut:Px};function M2(a){return a in ab}class gy extends Qx{constructor(t){super(t);const{name:s,motionValue:i,element:c,keyframes:u}=this.options;this.resolver=new Wx(u,(d,m)=>this.onKeyframesResolved(d,m),s,i,c),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:i=300,times:c,ease:u,type:d,motionValue:m,name:p,startTime:g}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof u=="string"&&Hl()&&M2(u)&&(u=ab[u]),O2(this.options)){const{onComplete:x,onUpdate:b,motionValue:w,element:N,...S}=this.options,_=D2(t,S);t=_.keyframes,t.length===1&&(t[1]=t[0]),i=_.duration,c=_.times,u=_.ease,d="keyframes"}const y=A2(m.owner.current,p,t,{...this.options,duration:i,times:c,ease:u});return y.startTime=g??this.calcStartTime(),this.pendingTimeline?(ey(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:x}=this.options;m.set(lc(t,this.options,s)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:c,type:d,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return sa(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return sa(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.currentTime=aa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Jt;const{animation:i}=s;ey(i,t)}return Jt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:i,duration:c,type:u,ease:d,times:m}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:y,onComplete:x,element:b,...w}=this.options,N=new kf({...w,keyframes:i,duration:c,type:u,ease:d,times:m,isGenerator:!0}),S=aa(this.time);g.setWithVelocity(N.sample(S-Il).value,N.sample(S).value,Il)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:i,repeatDelay:c,repeatType:u,damping:d,type:m}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=s.owner.getProps();return C2()&&i&&T2.has(i)&&!p&&!g&&!c&&u!=="mirror"&&d!==0&&m!=="inertia"}}const U2={type:"spring",stiffness:500,damping:25,restSpeed:10},P2=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),L2={type:"keyframes",duration:.8},B2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z2=(a,{keyframes:t})=>t.length>2?L2:xs.has(a)?a.startsWith("scale")?P2(t[1]):U2:B2;function V2({when:a,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:c,repeat:u,repeatType:d,repeatDelay:m,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Ef=(a,t,s,i={},c,u)=>d=>{const m=hf(i,a)||{},p=m.delay||i.delay||0;let{elapsed:g=0}=i;g=g-aa(p);let y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:a,motionValue:t,element:u?void 0:c};V2(m)||(y={...y,...z2(a,y)}),y.duration&&(y.duration=aa(y.duration)),y.repeatDelay&&(y.repeatDelay=aa(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),x&&!u&&t.get()!==void 0){const b=lc(y.keyframes,m);if(b!==void 0)return Ke.update(()=>{y.onUpdate(b),y.onComplete()}),new i_([])}return!u&&gy.supports(y)?new gy(y):new kf(y)};function q2({protectedKeys:a,needsAnimating:t},s){const i=a.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function sb(a,t,{delay:s=0,transitionOverride:i,type:c}={}){var u;let{transition:d=a.getDefaultTransition(),transitionEnd:m,...p}=t;i&&(d=i);const g=[],y=c&&a.animationState&&a.animationState.getState()[c];for(const x in p){const b=a.getValue(x,(u=a.latestValues[x])!==null&&u!==void 0?u:null),w=p[x];if(w===void 0||y&&q2(y,x))continue;const N={delay:s,...hf(d||{},x)};let S=!1;if(window.MotionHandoffAnimation){const C=Tx(a);if(C){const T=window.MotionHandoffAnimation(C,x,Ke);T!==null&&(N.startTime=T,S=!0)}}mh(a,x),b.start(Ef(x,b,w,a.shouldReduceMotion&&kx.has(x)?{type:!1}:N,a,S));const _=b.animation;_&&g.push(_)}return m&&Promise.all(g).then(()=>{Ke.update(()=>{m&&x_(a,m)})}),g}function wh(a,t,s={}){var i;const c=oc(a,t,s.type==="exit"?(i=a.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=a.getDefaultTransition()||{}}=c||{};s.transitionOverride&&(u=s.transitionOverride);const d=c?()=>Promise.all(sb(a,c,s)):()=>Promise.resolve(),m=a.variantChildren&&a.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:b}=u;return H2(a,t,y+g,x,b,s)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,y]=p==="beforeChildren"?[d,m]:[m,d];return g().then(()=>y())}else return Promise.all([d(),m(s.delay)])}function H2(a,t,s=0,i=0,c=1,u){const d=[],m=(a.variantChildren.size-1)*i,p=c===1?(g=0)=>g*i:(g=0)=>m-g*i;return Array.from(a.variantChildren).sort(F2).forEach((g,y)=>{g.notify("AnimationStart",t),d.push(wh(g,t,{...u,delay:s+p(y)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(d)}function F2(a,t){return a.sortNodePosition(t)}function $2(a,t,s={}){a.notify("AnimationStart",t);let i;if(Array.isArray(t)){const c=t.map(u=>wh(a,u,s));i=Promise.all(c)}else if(typeof t=="string")i=wh(a,t,s);else{const c=typeof t=="function"?oc(a,t,s.custom):t;i=Promise.all(sb(a,c,s))}return i.then(()=>{a.notify("AnimationComplete",t)})}const I2=Zh.length;function ib(a){if(!a)return;if(!a.isControllingVariants){const s=a.parent?ib(a.parent)||{}:{};return a.props.initial!==void 0&&(s.initial=a.props.initial),s}const t={};for(let s=0;s<I2;s++){const i=Zh[s],c=a.props[i];(qr(c)||c===!1)&&(t[i]=c)}return t}const G2=[...Jh].reverse(),Y2=Jh.length;function K2(a){return t=>Promise.all(t.map(({animation:s,options:i})=>$2(a,s,i)))}function X2(a){let t=K2(a),s=yy(),i=!0;const c=p=>(g,y)=>{var x;const b=oc(a,y,p==="exit"?(x=a.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(b){const{transition:w,transitionEnd:N,...S}=b;g={...g,...S,...N}}return g};function u(p){t=p(a)}function d(p){const{props:g}=a,y=ib(a.parent)||{},x=[],b=new Set;let w={},N=1/0;for(let _=0;_<Y2;_++){const C=G2[_],T=s[C],A=g[C]!==void 0?g[C]:y[C],V=qr(A),z=C===p?T.isActive:null;z===!1&&(N=_);let M=A===y[C]&&A!==g[C]&&V;if(M&&i&&a.manuallyAnimateOnMount&&(M=!1),T.protectedKeys={...w},!T.isActive&&z===null||!A&&!T.prevProp||ic(A)||typeof A=="boolean")continue;const $=W2(T.prevProp,A);let X=$||C===p&&T.isActive&&!M&&V||_>N&&V,Y=!1;const ne=Array.isArray(A)?A:[A];let pe=ne.reduce(c(C),{});z===!1&&(pe={});const{prevResolvedValues:Ae={}}=T,Ze={...Ae,...pe},it=W=>{X=!0,b.has(W)&&(Y=!0,b.delete(W)),T.needsAnimating[W]=!0;const J=a.getValue(W);J&&(J.liveStyle=!1)};for(const W in Ze){const J=pe[W],ve=Ae[W];if(w.hasOwnProperty(W))continue;let we=!1;dh(J)&&dh(ve)?we=!vx(J,ve):we=J!==ve,we?J!=null?it(W):b.add(W):J!==void 0&&b.has(W)?it(W):T.protectedKeys[W]=!0}T.prevProp=A,T.prevResolvedValues=pe,T.isActive&&(w={...w,...pe}),i&&a.blockInitialAnimation&&(X=!1),X&&(!(M&&$)||Y)&&x.push(...ne.map(W=>({animation:W,options:{type:C}})))}if(b.size){const _={};b.forEach(C=>{const T=a.getBaseTarget(C),A=a.getValue(C);A&&(A.liveStyle=!0),_[C]=T??null}),x.push({animation:_})}let S=!!x.length;return i&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(x):Promise.resolve()}function m(p,g){var y;if(s[p].isActive===g)return Promise.resolve();(y=a.variantChildren)===null||y===void 0||y.forEach(b=>{var w;return(w=b.animationState)===null||w===void 0?void 0:w.setActive(p,g)}),s[p].isActive=g;const x=d(p);for(const b in s)s[b].protectedKeys={};return x}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>s,reset:()=>{s=yy(),i=!0}}}function W2(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!vx(t,a):!1}function rs(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yy(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class za{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Q2 extends za{constructor(t){super(t),t.animationState||(t.animationState=X2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ic(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let J2=0;class Z2 extends za{constructor(){super(...arguments),this.id=J2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const c=this.node.animationState.setActive("exit",!t);s&&!t&&c.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eN={animation:{Feature:Q2},exit:{Feature:Z2}};function Ir(a,t,s,i={passive:!0}){return a.addEventListener(t,s,i),()=>a.removeEventListener(t,s)}function eo(a){return{point:{x:a.pageX,y:a.pageY}}}const tN=a=>t=>pf(t)&&a(t,eo(t));function Pr(a,t,s,i){return Ir(a,t,tN(s),i)}const vy=(a,t)=>Math.abs(a-t);function nN(a,t){const s=vy(a.x,t.x),i=vy(a.y,t.y);return Math.sqrt(s**2+i**2)}class rb{constructor(t,s,{transformPagePoint:i,contextWindow:c,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Id(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=nN(x.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:N}=x,{timestamp:S}=kt;this.history.push({...N,timestamp:S});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=$d(b,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:N,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Id(x.type==="pointercancel"?this.lastMoveEventInfo:$d(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,_),N&&N(x,_)},!pf(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.contextWindow=c||window;const d=eo(t),m=$d(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=kt;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=s;y&&y(t,Id(m,this.history)),this.removeListeners=Zr(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function $d(a,t){return t?{point:t(a.point)}:a}function xy(a,t){return{x:a.x-t.x,y:a.y-t.y}}function Id({point:a},t){return{point:a,delta:xy(a,ob(t)),offset:xy(a,aN(t)),velocity:sN(t,.1)}}function aN(a){return a[0]}function ob(a){return a[a.length-1]}function sN(a,t){if(a.length<2)return{x:0,y:0};let s=a.length-1,i=null;const c=ob(a);for(;s>=0&&(i=a[s],!(c.timestamp-i.timestamp>aa(t)));)s--;if(!i)return{x:0,y:0};const u=sa(c.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(c.x-i.x)/u,y:(c.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const lb=1e-4,iN=1-lb,rN=1+lb,cb=.01,oN=0-cb,lN=0+cb;function Zt(a){return a.max-a.min}function cN(a,t,s){return Math.abs(a-t)<=s}function by(a,t,s,i=.5){a.origin=i,a.originPoint=Je(t.min,t.max,a.origin),a.scale=Zt(s)/Zt(t),a.translate=Je(s.min,s.max,a.origin)-a.originPoint,(a.scale>=iN&&a.scale<=rN||isNaN(a.scale))&&(a.scale=1),(a.translate>=oN&&a.translate<=lN||isNaN(a.translate))&&(a.translate=0)}function Lr(a,t,s,i){by(a.x,t.x,s.x,i?i.originX:void 0),by(a.y,t.y,s.y,i?i.originY:void 0)}function wy(a,t,s){a.min=s.min+t.min,a.max=a.min+Zt(t)}function uN(a,t,s){wy(a.x,t.x,s.x),wy(a.y,t.y,s.y)}function jy(a,t,s){a.min=t.min-s.min,a.max=a.min+Zt(t)}function Br(a,t,s){jy(a.x,t.x,s.x),jy(a.y,t.y,s.y)}function dN(a,{min:t,max:s},i){return t!==void 0&&a<t?a=i?Je(t,a,i.min):Math.max(a,t):s!==void 0&&a>s&&(a=i?Je(s,a,i.max):Math.min(a,s)),a}function Sy(a,t,s){return{min:t!==void 0?a.min+t:void 0,max:s!==void 0?a.max+s-(a.max-a.min):void 0}}function hN(a,{top:t,left:s,bottom:i,right:c}){return{x:Sy(a.x,s,c),y:Sy(a.y,t,i)}}function _y(a,t){let s=t.min-a.min,i=t.max-a.max;return t.max-t.min<a.max-a.min&&([s,i]=[i,s]),{min:s,max:i}}function fN(a,t){return{x:_y(a.x,t.x),y:_y(a.y,t.y)}}function mN(a,t){let s=.5;const i=Zt(a),c=Zt(t);return c>i?s=_i(t.min,t.max-i,a.min):i>c&&(s=_i(a.min,a.max-c,t.min)),ia(0,1,s)}function pN(a,t){const s={};return t.min!==void 0&&(s.min=t.min-a.min),t.max!==void 0&&(s.max=t.max-a.min),s}const jh=.35;function gN(a=jh){return a===!1?a=0:a===!0&&(a=jh),{x:Ny(a,"left","right"),y:Ny(a,"top","bottom")}}function Ny(a,t,s){return{min:ky(a,t),max:ky(a,s)}}function ky(a,t){return typeof a=="number"?a:a[t]||0}const Ey=()=>({translate:0,scale:1,origin:0,originPoint:0}),vi=()=>({x:Ey(),y:Ey()}),Ty=()=>({min:0,max:0}),lt=()=>({x:Ty(),y:Ty()});function pn(a){return[a("x"),a("y")]}function ub({top:a,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:a,max:i}}}function yN({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function vN(a,t){if(!t)return a;const s=t({x:a.left,y:a.top}),i=t({x:a.right,y:a.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Gd(a){return a===void 0||a===1}function Sh({scale:a,scaleX:t,scaleY:s}){return!Gd(a)||!Gd(t)||!Gd(s)}function cs(a){return Sh(a)||db(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function db(a){return Ay(a.x)||Ay(a.y)}function Ay(a){return a&&a!=="0%"}function Gl(a,t,s){const i=a-s,c=t*i;return s+c}function Cy(a,t,s,i,c){return c!==void 0&&(a=Gl(a,c,i)),Gl(a,s,i)+t}function _h(a,t=0,s=1,i,c){a.min=Cy(a.min,t,s,i,c),a.max=Cy(a.max,t,s,i,c)}function hb(a,{x:t,y:s}){_h(a.x,t.translate,t.scale,t.originPoint),_h(a.y,s.translate,s.scale,s.originPoint)}const Ry=.999999999999,Oy=1.0000000000001;function xN(a,t,s,i=!1){const c=s.length;if(!c)return;t.x=t.y=1;let u,d;for(let m=0;m<c;m++){u=s[m],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bi(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,hb(a,d)),i&&cs(u.latestValues)&&bi(a,u.latestValues))}t.x<Oy&&t.x>Ry&&(t.x=1),t.y<Oy&&t.y>Ry&&(t.y=1)}function xi(a,t){a.min=a.min+t,a.max=a.max+t}function Dy(a,t,s,i,c=.5){const u=Je(a.min,a.max,c);_h(a,t,s,u,i)}function bi(a,t){Dy(a.x,t.x,t.scaleX,t.scale,t.originX),Dy(a.y,t.y,t.scaleY,t.scale,t.originY)}function fb(a,t){return ub(vN(a.getBoundingClientRect(),t))}function bN(a,t,s){const i=fb(a,s),{scroll:c}=t;return c&&(xi(i.x,c.offset.x),xi(i.y,c.offset.y)),i}const mb=({current:a})=>a?a.ownerDocument.defaultView:null,wN=new WeakMap;class jN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(eo(y).point)},u=(y,x)=>{const{drag:b,dragPropagation:w,onDragStart:N}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m_(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pn(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Mn.test(C)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[_];A&&(C=Zt(A)*(parseFloat(C)/100))}}this.originPoint[_]=C}),N&&Ke.postRender(()=>N(y,x)),mh(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(y,x)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:N,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=x;if(w&&this.currentDirection===null){this.currentDirection=SN(_),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",x.point,_),this.updateAxis("y",x.point,_),this.visualElement.render(),S&&S(y,x)},m=(y,x)=>this.stop(y,x),p=()=>pn(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rb(t,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:mb(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Ke.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:c}=this.getProps();if(!i||!_l(t,c,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=dN(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:i}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;s&&gi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&c?this.constraints=hN(c.layoutBox,s):this.constraints=!1,this.elastic=gN(i),u!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&pn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=pN(c.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!gi(t))return!1;const i=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=bN(i,c.root,this.visualElement.getTransformPagePoint());let d=fN(c.layout.layoutBox,u);if(s){const m=s(yN(d));this.hasMutatedConstraints=!!m,m&&(d=ub(m))}return d}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:c,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=pn(y=>{if(!_l(y,s,this.currentDirection))return;let x=p&&p[y]||{};d&&(x={min:0,max:0});const b=c?200:1e6,w=c?40:1e7,N={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,N)});return Promise.all(g).then(m)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return mh(this.visualElement,t),i.start(Ef(t,i,0,s,this.visualElement,!1))}stopAnimation(){pn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),c=i[s];return c||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){pn(s=>{const{drag:i}=this.getProps();if(!_l(s,i,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(s);if(c&&c.layout){const{min:d,max:m}=c.layout.layoutBox[s];u.set(t[s]-Je(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!gi(s)||!i||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};pn(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const p=m.get();c[d]=mN({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),pn(d=>{if(!_l(d,t,null))return;const m=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];m.set(Je(p,g,c[d]))})}addListeners(){if(!this.visualElement.current)return;wN.set(this.visualElement,this);const t=this.visualElement.current,s=Pr(t,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();gi(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",i);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Ke.read(i);const d=Ir(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(pn(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=p[y].translate,x.set(x.get()+p[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:d=jh,dragMomentum:m=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:c,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function _l(a,t,s){return(t===!0||t===a)&&(s===null||s===a)}function SN(a,t=10){let s=null;return Math.abs(a.y)>t?s="y":Math.abs(a.x)>t&&(s="x"),s}class _N extends za{constructor(t){super(t),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new jN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const My=a=>(t,s)=>{a&&Ke.postRender(()=>a(t,s))};class NN extends za{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(t){this.session=new rb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:c}=this.node.getProps();return{onSessionStart:My(t),onStart:My(s),onMove:i,onEnd:(u,d)=>{delete this.session,c&&Ke.postRender(()=>c(u,d))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uy(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Ar={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(ue.test(a))a=parseFloat(a);else return a;const s=Uy(a,t.target.x),i=Uy(a,t.target.y);return`${s}% ${i}%`}},kN={correct:(a,{treeScale:t,projectionDelta:s})=>{const i=a,c=La.parse(a);if(c.length>5)return i;const u=La.createTransformer(a),d=typeof c[0]!="number"?1:0,m=s.x.scale*t.x,p=s.y.scale*t.y;c[0+d]/=m,c[1+d]/=p;const g=Je(m,p,.5);return typeof c[2+d]=="number"&&(c[2+d]/=g),typeof c[3+d]=="number"&&(c[3+d]/=g),u(c)}};class EN extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:c}=this.props,{projection:u}=t;YS(TN),u&&(s.group&&s.group.add(u),i&&i.register&&c&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:c,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,c||t.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Ke.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:c}=t;c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),i&&i.deregister&&i.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function pb(a){const[t,s]=Qv(),i=E.useContext(Yh);return o.jsx(EN,{...a,layoutGroup:i,switchLayoutGroup:E.useContext(ix),isPresent:t,safeToRemove:s})}const TN={borderRadius:{...Ar,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ar,borderTopRightRadius:Ar,borderBottomLeftRadius:Ar,borderBottomRightRadius:Ar,boxShadow:kN};function AN(a,t,s){const i=Ot(a)?a:Fr(a);return i.start(Ef("",i,t,s)),i.animation}function CN(a){return a instanceof SVGElement&&a.tagName!=="svg"}const RN=(a,t)=>a.depth-t.depth;class ON{constructor(){this.children=[],this.isDirty=!1}add(t){gf(this.children,t),this.isDirty=!0}remove(t){yf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RN),this.isDirty=!1,this.children.forEach(t)}}function DN(a,t){const s=Un.now(),i=({timestamp:c})=>{const u=c-s;u>=t&&(Pa(i),a(u-t))};return Ke.read(i,!0),()=>Pa(i)}const gb=["TopLeft","TopRight","BottomLeft","BottomRight"],MN=gb.length,Py=a=>typeof a=="string"?parseFloat(a):a,Ly=a=>typeof a=="number"||ue.test(a);function UN(a,t,s,i,c,u){c?(a.opacity=Je(0,s.opacity!==void 0?s.opacity:1,PN(i)),a.opacityExit=Je(t.opacity!==void 0?t.opacity:1,0,LN(i))):u&&(a.opacity=Je(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,i));for(let d=0;d<MN;d++){const m=`border${gb[d]}Radius`;let p=By(t,m),g=By(s,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Ly(p)===Ly(g)?(a[m]=Math.max(Je(Py(p),Py(g),i),0),(Mn.test(g)||Mn.test(p))&&(a[m]+="%")):a[m]=g}(t.rotate||s.rotate)&&(a.rotate=Je(t.rotate||0,s.rotate||0,i))}function By(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const PN=yb(0,.5,Ux),LN=yb(.5,.95,Jt);function yb(a,t,s){return i=>i<a?0:i>t?1:s(_i(a,t,i))}function zy(a,t){a.min=t.min,a.max=t.max}function mn(a,t){zy(a.x,t.x),zy(a.y,t.y)}function Vy(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function qy(a,t,s,i,c){return a-=t,a=Gl(a,1/s,i),c!==void 0&&(a=Gl(a,1/c,i)),a}function BN(a,t=0,s=1,i=.5,c,u=a,d=a){if(Mn.test(t)&&(t=parseFloat(t),t=Je(d.min,d.max,t/100)-d.min),typeof t!="number")return;let m=Je(u.min,u.max,i);a===u&&(m-=t),a.min=qy(a.min,t,s,m,c),a.max=qy(a.max,t,s,m,c)}function Hy(a,t,[s,i,c],u,d){BN(a,t[s],t[i],t[c],t.scale,u,d)}const zN=["x","scaleX","originX"],VN=["y","scaleY","originY"];function Fy(a,t,s,i){Hy(a.x,t,zN,s?s.x:void 0,i?i.x:void 0),Hy(a.y,t,VN,s?s.y:void 0,i?i.y:void 0)}function $y(a){return a.translate===0&&a.scale===1}function vb(a){return $y(a.x)&&$y(a.y)}function Iy(a,t){return a.min===t.min&&a.max===t.max}function qN(a,t){return Iy(a.x,t.x)&&Iy(a.y,t.y)}function Gy(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function xb(a,t){return Gy(a.x,t.x)&&Gy(a.y,t.y)}function Yy(a){return Zt(a.x)/Zt(a.y)}function Ky(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class HN{constructor(){this.members=[]}add(t){gf(this.members,t),t.scheduleRender()}remove(t){if(yf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(c=>t===c);if(s===0)return!1;let i;for(let c=s;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:c}=t.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FN(a,t,s){let i="";const c=a.x.translate/t.x,u=a.y.translate/t.y,d=s?.z||0;if((c||u||d)&&(i=`translate3d(${c}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:b,skewX:w,skewY:N}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),N&&(i+=`skewY(${N}deg) `)}const m=a.x.scale*t.x,p=a.y.scale*t.y;return(m!==1||p!==1)&&(i+=`scale(${m}, ${p})`),i||"none"}const us={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Dr=typeof window<"u"&&window.MotionDebug!==void 0,Yd=["","X","Y","Z"],$N={visibility:"hidden"},Xy=1e3;let IN=0;function Kd(a,t,s,i){const{latestValues:c}=t;c[a]&&(s[a]=c[a],t.setStaticValue(a,0),i&&(i[a]=0))}function bb(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const s=Tx(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:u}=a.options;window.MotionCancelOptimisedAnimation(s,"transform",Ke,!(c||u))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&bb(i)}function wb({attachResizeListener:a,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:c}){return class{constructor(d={},m=t?.()){this.id=IN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dr&&(us.totalNodes=us.resolvedTargetDeltas=us.recalculatedProjection=0),this.nodes.forEach(KN),this.nodes.forEach(ZN),this.nodes.forEach(ek),this.nodes.forEach(XN),Dr&&window.MotionDebug.record(us)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new ON)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new vf),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const p=this.eventHandlers.get(d);p&&p.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=CN(d),this.instance=d;const{layoutId:p,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||p)&&(this.isLayoutDirty=!0),a){let x;const b=()=>this.root.updateBlockedByResize=!1;a(d,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=DN(b,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Qy))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:w,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||y.getDefaultTransition()||ik,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=y.getProps(),T=!this.targetLayout||!xb(this.targetLayout,N)||w,A=!b&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||b&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const V={...hf(S,"layout"),onPlay:_,onComplete:C};(y.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else b||Qy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tk),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wy);return}this.isUpdating||this.nodes.forEach(QN),this.isUpdating=!1,this.nodes.forEach(JN),this.nodes.forEach(GN),this.nodes.forEach(YN),this.clearAllSnapshots();const m=Un.now();kt.delta=ia(0,1e3/60,m-kt.timestamp),kt.timestamp=m,kt.isProcessing=!0,Bd.update.process(kt),Bd.preRender.process(kt),Bd.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WN),this.sharedNodes.forEach(nk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!vb(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&(m||cs(this.latestValues)||y)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return d&&(p=this.removeTransform(p)),rk(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return lt();const p=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(ok))){const{scroll:y}=this.root;y&&(xi(p.x,y.offset.x),xi(p.y,y.offset.y))}return p}removeElementScroll(d){var m;const p=lt();if(mn(p,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return p;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:x,options:b}=y;y!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&mn(p,d),xi(p.x,x.offset.x),xi(p.y,x.offset.y))}return p}applyTransform(d,m=!1){const p=lt();mn(p,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bi(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),cs(y.latestValues)&&bi(p,y.latestValues)}return cs(this.latestValues)&&bi(p,this.latestValues),p}removeTransform(d){const m=lt();mn(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!cs(g.latestValues))continue;Sh(g.latestValues)&&g.updateSnapshot();const y=lt(),x=g.measurePageBox();mn(y,x),Fy(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return cs(this.latestValues)&&Fy(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Br(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),hb(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Br(this.relativeTargetOrigin,this.target,w.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dr&&us.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sh(this.parent.latestValues)||db(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(g=!1),g)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;mn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;xN(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=lt());const{target:N}=m;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vy(this.prevProjectionDelta.x,this.projectionDelta.x),Vy(this.prevProjectionDelta.y,this.projectionDelta.y)),Lr(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Ky(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ky(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),Dr&&us.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vi(),this.projectionDelta=vi(),this.projectionDeltaWithTransform=vi()}setAnimationOrigin(d,m=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},x=vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=lt(),w=p?p.source:void 0,N=this.layout?this.layout.source:void 0,S=w!==N,_=this.getStack(),C=!_||_.members.length<=1,T=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(sk));this.animationProgress=0;let A;this.mixTargetDelta=V=>{const z=V/1e3;Jy(x.x,d.x,z),Jy(x.y,d.y,z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Br(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ak(this.relativeTarget,this.relativeTargetOrigin,b,z),A&&qN(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=lt()),mn(A,this.relativeTarget)),S&&(this.animationValues=y,UN(y,g,this.latestValues,z,T,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Ll.hasAnimatedSinceResize=!0,this.currentAnimation=AN(0,Xy,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:y}=d;if(!(!m||!p||!g)){if(this!==d&&this.layout&&g&&jb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||lt();const x=Zt(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+x;const b=Zt(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+b}mn(m,p),bi(m,y),Lr(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new HN),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Kd("z",d,g,this.animationValues);for(let y=0;y<Yd.length;y++)Kd(`rotate${Yd[y]}`,d,g,this.animationValues),Kd(`skew${Yd[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}getProjectionStyles(d){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $N;const g={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Ul(d?.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Ul(d?.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(S.transform=y?y({},""):"none",this.hasProjected=!1),S}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),g.transform=FN(this.projectionDeltaWithTransform,this.treeScale,b),y&&(g.transform=y(b,g.transform));const{x:w,y:N}=this.projectionDelta;g.transformOrigin=`${w.origin*100}% ${N.origin*100}% 0`,x.animationValues?g.opacity=x===this?(p=(m=b.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:g.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const S in ql){if(b[S]===void 0)continue;const{correct:_,applyTo:C}=ql[S],T=g.transform==="none"?b[S]:_(b[S],x);if(C){const A=C.length;for(let V=0;V<A;V++)g[C[V]]=T}else g[S]=T}return this.options.layoutId&&(g.pointerEvents=x===this?Ul(d?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(Wy),this.root.sharedNodes.clear()}}}function GN(a){a.updateLayout()}function YN(a){var t;const s=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&s&&a.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:c}=a.layout,{animationType:u}=a.options,d=s.source!==a.layout.source;u==="size"?pn(x=>{const b=d?s.measuredBox[x]:s.layoutBox[x],w=Zt(b);b.min=i[x].min,b.max=b.min+w}):jb(u,s.layoutBox,i)&&pn(x=>{const b=d?s.measuredBox[x]:s.layoutBox[x],w=Zt(i[x]);b.max=b.min+w,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[x].max=a.relativeTarget[x].min+w)});const m=vi();Lr(m,i,s.layoutBox);const p=vi();d?Lr(p,a.applyTransform(c,!0),s.measuredBox):Lr(p,i,s.layoutBox);const g=!vb(m);let y=!1;if(!a.resumeFrom){const x=a.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:w}=x;if(b&&w){const N=lt();Br(N,s.layoutBox,b.layoutBox);const S=lt();Br(S,i,w.layoutBox),xb(N,S)||(y=!0),x.options.layoutRoot&&(a.relativeTarget=S,a.relativeTargetOrigin=N,a.relativeParent=x)}}}a.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:y})}else if(a.isLead()){const{onExitComplete:i}=a.options;i&&i()}a.options.transition=void 0}function KN(a){Dr&&us.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function XN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function WN(a){a.clearSnapshot()}function Wy(a){a.clearMeasurements()}function QN(a){a.isLayoutDirty=!1}function JN(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Qy(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function ZN(a){a.resolveTargetDelta()}function ek(a){a.calcProjection()}function tk(a){a.resetSkewAndRotation()}function nk(a){a.removeLeadSnapshot()}function Jy(a,t,s){a.translate=Je(t.translate,0,s),a.scale=Je(t.scale,1,s),a.origin=t.origin,a.originPoint=t.originPoint}function Zy(a,t,s,i){a.min=Je(t.min,s.min,i),a.max=Je(t.max,s.max,i)}function ak(a,t,s,i){Zy(a.x,t.x,s.x,i),Zy(a.y,t.y,s.y,i)}function sk(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const ik={duration:.45,ease:[.4,0,.1,1]},ev=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),tv=ev("applewebkit/")&&!ev("chrome/")?Math.round:Jt;function nv(a){a.min=tv(a.min),a.max=tv(a.max)}function rk(a){nv(a.x),nv(a.y)}function jb(a,t,s){return a==="position"||a==="preserve-aspect"&&!cN(Yy(t),Yy(s),.2)}function ok(a){var t;return a!==a.root&&((t=a.scroll)===null||t===void 0?void 0:t.wasRoot)}const lk=wb({attachResizeListener:(a,t)=>Ir(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xd={current:void 0},Sb=wb({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Xd.current){const a=new lk({});a.mount(window),a.setOptions({layoutScroll:!0}),Xd.current=a}return Xd.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),ck={pan:{Feature:NN},drag:{Feature:_N,ProjectionNode:Sb,MeasureLayout:pb}};function av(a,t,s){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,u=i[c];u&&Ke.postRender(()=>u(t,eo(t)))}class uk extends za{mount(){const{current:t}=this.node;t&&(this.unmount=c_(t,s=>(av(this.node,s,"Start"),i=>av(this.node,i,"End"))))}unmount(){}}class dk extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zr(Ir(this.node.current,"focus",()=>this.onFocus()),Ir(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sv(a,t,s){const{props:i}=a;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),u=i[c];u&&Ke.postRender(()=>u(t,eo(t)))}class hk extends za{mount(){const{current:t}=this.node;t&&(this.unmount=f_(t,s=>(sv(this.node,s,"Start"),(i,{success:c})=>sv(this.node,i,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nh=new WeakMap,Wd=new WeakMap,fk=a=>{const t=Nh.get(a.target);t&&t(a)},mk=a=>{a.forEach(fk)};function pk({root:a,...t}){const s=a||document;Wd.has(s)||Wd.set(s,{});const i=Wd.get(s),c=JSON.stringify(t);return i[c]||(i[c]=new IntersectionObserver(mk,{root:a,...t})),i[c]}function gk(a,t,s){const i=pk(t);return Nh.set(a,s),i.observe(a),()=>{Nh.delete(a),i.unobserve(a)}}const yk={some:0,all:1};class vk extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:c="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof c=="number"?c:yk[c]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),b=g?y:x;b&&b(p)};return gk(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(xk(t,s))&&this.startObserver()}unmount(){}}function xk({viewport:a={}},{viewport:t={}}={}){return s=>a[s]!==t[s]}const bk={inView:{Feature:vk},tap:{Feature:hk},focus:{Feature:dk},hover:{Feature:uk}},wk={layout:{ProjectionNode:Sb,MeasureLayout:pb}},kh={current:null},_b={current:!1};function jk(){if(_b.current=!0,!!Wh)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>kh.current=a.matches;a.addListener(t),t()}else kh.current=!1}const Sk=[...Xx,Ct,La],_k=a=>Sk.find(Kx(a)),iv=new WeakMap;function Nk(a,t,s){for(const i in t){const c=t[i],u=s[i];if(Ot(c))a.addValue(i,c);else if(Ot(u))a.addValue(i,Fr(c,{owner:a}));else if(u!==c)if(a.hasValue(i)){const d=a.getValue(i);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=a.getStaticValue(i);a.addValue(i,Fr(d!==void 0?d:c,{owner:a}))}}for(const i in s)t[i]===void 0&&a.removeValue(i);return t}const rv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kk{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:c,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_f,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Un.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ke.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:y}=d;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=rc(s),this.isVariantNode=ax(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in b){const N=b[w];p[w]!==void 0&&Ot(N)&&N.set(p[w],!1)}}mount(t){this.current=t,iv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),_b.current||jk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iv.delete(this.current),this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=xs.has(t),c=s.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{c(),u(),d&&d(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ni){const s=Ni[t];if(!s)continue;const{isEnabled:i,Feature:c}=s;if(!this.features[t]&&c&&i(this.props)&&(this.features[t]=new c(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<rv.length;i++){const c=rv[i];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,d=t[u];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=Nk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Fr(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){var i;let c=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return c!=null&&(typeof c=="string"&&(Gx(c)||Lx(c))?c=parseFloat(c):!_k(c)&&La.test(s)&&(c=Fx(t,s)),this.setBaseTarget(t,Ot(c)?c.get():c)),Ot(c)?c.get():c}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:i}=this.props;let c;if(typeof i=="string"||typeof i=="object"){const d=af(this.props,i,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);d&&(c=d[t])}if(i&&c!==void 0)return c;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Ot(u)?u:this.initialValues[t]!==void 0&&c===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new vf),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Nb extends kk{constructor(){super(...arguments),this.KeyframeResolver=Wx}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ot(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Ek(a){return window.getComputedStyle(a)}class Tk extends Nb{constructor(){super(...arguments),this.type="html",this.renderInstance=hx}readValueFromInstance(t,s){if(xs.has(s)){const i=Sf(s);return i&&i.default||0}else{const i=Ek(t),c=(cx(s)?i.getPropertyValue(s):i[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:s}){return fb(t,s)}build(t,s,i){of(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return df(t,s,i)}}class Ak extends Nb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(xs.has(s)){const i=Sf(s);return i&&i.default||0}return s=fx.has(s)?s:ef(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return gx(t,s,i)}build(t,s,i){lf(t,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,i,c){mx(t,s,i,c)}mount(t){this.isSVGTag=uf(t.tagName),super.mount(t)}}const Ck=(a,t)=>nf(a)?new Ak(t):new Tk(t,{allowProjection:a!==E.Fragment}),Rk=n_({...eN,...bk,...ck,...wk},Ck),de=yS(Rk),Ve=({children:a,variant:t="default",hover:s=!0,padding:i="md",className:c="",...u})=>{const d={default:"bg-white dark:bg-slate-800",gradient:"bg-gradient-to-br from-white to-bg-secondary dark:from-slate-800 dark:to-slate-900",colored:"bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10",glass:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-white/20 dark:border-white/10"},m={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"};return o.jsx(de.div,{className:`
        ${d[t]}
        ${m[i]}
        rounded-3xl border border-slate-100 dark:border-slate-700
        shadow-xl shadow-slate-200/50 dark:shadow-black/20 transition-all duration-300
        ${c}
      `,whileHover:s?{scale:1.01,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.1)"}:void 0,transition:{type:"spring",stiffness:300,damping:20},...u,children:a})},be=({children:a,variant:t="primary",size:s="md",isLoading:i=!1,leftIcon:c,rightIcon:u,disabled:d,className:m,...p})=>{const g="inline-flex items-center justify-center gap-2 font-bold transition-all transform active:scale-95 focus:outline-none focus:ring-4 focus:ring-opacity-30 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",y={primary:"bg-primary hover:bg-primary-dark text-white shadow-xl shadow-primary/30 hover:-translate-y-1 focus:ring-primary",secondary:"bg-white dark:bg-slate-800 border-2 border-primary text-primary hover:bg-primary hover:text-white shadow-md hover:shadow-lg hover:-translate-y-1 focus:ring-primary",ghost:"bg-transparent text-primary hover:bg-primary/10 hover:-translate-y-0.5 focus:ring-primary"},x={sm:"px-4 py-2 text-sm rounded-full",md:"px-6 py-3 text-base rounded-full",lg:"px-8 py-4 text-lg rounded-full"};return o.jsx(de.button,{className:`${g} ${y[t]} ${x[s]} ${m||""}`,whileHover:{scale:d?1:1.02},whileTap:{scale:d?1:.98},transition:{type:"spring",stiffness:400,damping:17},disabled:d||i,...p,children:i?o.jsx(de.div,{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):o.jsxs(o.Fragment,{children:[c&&o.jsx("span",{children:c}),a,u&&o.jsx("span",{children:u})]})})},gn=E.forwardRef(({label:a,error:t,helperText:s,leftIcon:i,rightIcon:c,value:u,variant:d="default",className:m="",id:p,...g},y)=>{const[x,b]=E.useState(!1),w=E.useId(),N=p||w,S=u!==void 0&&u!=="",_={default:"bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-2xl",big:"bg-transparent border-none",clean:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-700 rounded-xl"},C={default:"px-4 pt-6 pb-2 text-base",big:"px-0 py-2 text-4xl font-extrabold text-right bg-transparent placeholder-slate-200",clean:"px-4 py-3 text-base"};return d==="big"?o.jsx("div",{className:`w-full ${m}`,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{htmlFor:N,className:"text-slate-400 text-sm font-bold uppercase tracking-wider ml-1 mb-1",children:a}),o.jsxs("div",{className:"flex items-center gap-4",children:[i,o.jsx("input",{...g,ref:y,id:N,value:u,className:`
                                w-full outline-none text-slate-800 dark:text-white
                                ${C.big}
                                ${t?"text-error placeholder-error/50":""}
                            `}),c]}),(t||s)&&o.jsx("p",{className:`mt-1 text-sm ${t?"text-error":"text-slate-400"}`,children:t||s})]})}):o.jsxs("div",{className:`w-full ${m}`,children:[d==="clean"&&o.jsx("label",{htmlFor:N,className:"block text-sm font-medium text-slate-600 dark:text-slate-400 ml-1 mb-1",children:a}),o.jsxs("div",{className:"relative",children:[i&&o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-secondary z-10",children:i}),o.jsx(de.input,{...g,ref:y,id:N,value:u,placeholder:d==="default"&&!x?"":g.placeholder,onFocus:T=>{b(!0),g.onFocus?.(T)},onBlur:T=>{b(!1),g.onBlur?.(T)},className:`
                        w-full outline-none transition-all duration-200
                        ${_[d]}
                        ${C[d]}
                        ${i?"pl-12":""}
                        ${c?"pr-12":""}
                        ${t?"border-error focus:border-error":"focus:border-primary"}
                        disabled:bg-bg-secondary disabled:cursor-not-allowed
                    `,animate:{boxShadow:x&&d==="default"?t?"0 0 0 4px rgba(255, 107, 107, 0.1)":"0 0 0 4px rgba(255, 107, 157, 0.1)":"none"}}),d==="default"&&o.jsx(de.label,{htmlFor:N,className:`
                            absolute pointer-events-none transition-colors
                            ${i?"left-12":"left-4"}
                            ${t?"text-error":x?"text-primary":"text-text-secondary"}
                        `,animate:{top:x||S?"0.5rem":"50%",fontSize:x||S?"0.75rem":"1rem",y:x||S?0:"-50%"},children:a}),c&&o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-text-secondary z-10",children:c})]}),(t||s)&&o.jsx(de.p,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:`mt-2 text-sm ${t?"text-error":"text-text-secondary"}`,children:t||s})]})});gn.displayName="Input";var Eh=function(a,t){return Eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},Eh(a,t)};function kb(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Eh(a,t);function s(){this.constructor=a}a.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var Yl=function(){return Yl=Object.assign||function(t){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},Yl.apply(this,arguments)};function Ci(a,t){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(a);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(a,i[c])&&(s[i[c]]=a[i[c]]);return s}function Eb(a,t,s,i){var c=arguments.length,u=c<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,s):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,t,s,i);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(u=(c<3?d(u):c>3?d(t,s,u):d(t,s))||u);return c>3&&u&&Object.defineProperty(t,s,u),u}function Tb(a,t){return function(s,i){t(s,i,a)}}function Ab(a,t,s,i,c,u){function d(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var m=i.kind,p=m==="getter"?"get":m==="setter"?"set":"value",g=!t&&a?i.static?a:a.prototype:null,y=t||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),x,b=!1,w=s.length-1;w>=0;w--){var N={};for(var S in i)N[S]=S==="access"?{}:i[S];for(var S in i.access)N.access[S]=i.access[S];N.addInitializer=function(C){if(b)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(C||null))};var _=(0,s[w])(m==="accessor"?{get:y.get,set:y.set}:y[p],N);if(m==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(x=d(_.get))&&(y.get=x),(x=d(_.set))&&(y.set=x),(x=d(_.init))&&c.unshift(x)}else(x=d(_))&&(m==="field"?c.unshift(x):y[p]=x)}g&&Object.defineProperty(g,i.name,y),b=!0}function Cb(a,t,s){for(var i=arguments.length>2,c=0;c<t.length;c++)s=i?t[c].call(a,s):t[c].call(a);return i?s:void 0}function Rb(a){return typeof a=="symbol"?a:"".concat(a)}function Ob(a,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function Db(a,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,t)}function te(a,t,s,i){function c(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function m(y){try{g(i.next(y))}catch(x){d(x)}}function p(y){try{g(i.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):c(y.value).then(m,p)}g((i=i.apply(a,t||[])).next())})}function Mb(a,t){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(s=0)),s;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,c=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){s.label=g[1];break}if(g[0]===6&&s.label<u[1]){s.label=u[1],u=g;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(g);break}u[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(a,s)}catch(y){g=[6,y],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var cc=Object.create?(function(a,t,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(t,s);(!c||("get"in c?!t.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(a,i,c)}):(function(a,t,s,i){i===void 0&&(i=s),a[i]=t[s]});function Ub(a,t){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&cc(t,a,s)}function Kl(a){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&a[t],i=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tf(a,t){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var i=s.call(a),c,u=[],d;try{for(;(t===void 0||t-- >0)&&!(c=i.next()).done;)u.push(c.value)}catch(m){d={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(d)throw d.error}}return u}function Pb(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Tf(arguments[t]));return a}function Lb(){for(var a=0,t=0,s=arguments.length;t<s;t++)a+=arguments[t].length;for(var i=Array(a),c=0,t=0;t<s;t++)for(var u=arguments[t],d=0,m=u.length;d<m;d++,c++)i[c]=u[d];return i}function Bb(a,t,s){if(s||arguments.length===2)for(var i=0,c=t.length,u;i<c;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return a.concat(u||Array.prototype.slice.call(t))}function Ei(a){return this instanceof Ei?(this.v=a,this):new Ei(a)}function zb(a,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(a,t||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),c[Symbol.asyncIterator]=function(){return this},c;function d(w){return function(N){return Promise.resolve(N).then(w,x)}}function m(w,N){i[w]&&(c[w]=function(S){return new Promise(function(_,C){u.push([w,S,_,C])>1||p(w,S)})},N&&(c[w]=N(c[w])))}function p(w,N){try{g(i[w](N))}catch(S){b(u[0][3],S)}}function g(w){w.value instanceof Ei?Promise.resolve(w.value.v).then(y,x):b(u[0][2],w)}function y(w){p("next",w)}function x(w){p("throw",w)}function b(w,N){w(N),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Vb(a){var t,s;return t={},i("next"),i("throw",function(c){throw c}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(c,u){t[c]=a[c]?function(d){return(s=!s)?{value:Ei(a[c](d)),done:!1}:u?u(d):d}:u}}function qb(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],s;return t?t.call(a):(a=typeof Kl=="function"?Kl(a):a[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(u){s[u]=a[u]&&function(d){return new Promise(function(m,p){d=a[u](d),c(m,p,d.done,d.value)})}}function c(u,d,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},d)}}function Hb(a,t){return Object.defineProperty?Object.defineProperty(a,"raw",{value:t}):a.raw=t,a}var Ok=Object.create?(function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}):function(a,t){a.default=t},Th=function(a){return Th=Object.getOwnPropertyNames||function(t){var s=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[s.length]=i);return s},Th(a)};function Fb(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var s=Th(a),i=0;i<s.length;i++)s[i]!=="default"&&cc(t,a,s[i]);return Ok(t,a),t}function $b(a){return a&&a.__esModule?a:{default:a}}function Ib(a,t,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!i:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(a):i?i.value:t.get(a)}function Gb(a,t,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?a!==t||!c:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(a,s):c?c.value=s:t.set(a,s),s}function Yb(a,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?t===a:a.has(t)}function Kb(a,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:t,dispose:i,async:s})}else s&&a.stack.push({async:!0});return t}var Dk=typeof SuppressedError=="function"?SuppressedError:function(a,t,s){var i=new Error(s);return i.name="SuppressedError",i.error=a,i.suppressed=t,i};function Xb(a){function t(u){a.error=a.hasError?new Dk(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var s,i=0;function c(){for(;s=a.stack.pop();)try{if(!s.async&&i===1)return i=0,a.stack.push(s),Promise.resolve().then(c);if(s.dispose){var u=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(u).then(c,function(d){return t(d),c()})}else i|=1}catch(d){t(d)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return c()}function Wb(a,t){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,u,d){return i?t?".jsx":".js":c&&(!u||!d)?s:c+u+"."+d.toLowerCase()+"js"}):a}const Mk={__extends:kb,__assign:Yl,__rest:Ci,__decorate:Eb,__param:Tb,__esDecorate:Ab,__runInitializers:Cb,__propKey:Rb,__setFunctionName:Ob,__metadata:Db,__awaiter:te,__generator:Mb,__createBinding:cc,__exportStar:Ub,__values:Kl,__read:Tf,__spread:Pb,__spreadArrays:Lb,__spreadArray:Bb,__await:Ei,__asyncGenerator:zb,__asyncDelegator:Vb,__asyncValues:qb,__makeTemplateObject:Hb,__importStar:Fb,__importDefault:$b,__classPrivateFieldGet:Ib,__classPrivateFieldSet:Gb,__classPrivateFieldIn:Yb,__addDisposableResource:Kb,__disposeResources:Xb,__rewriteRelativeImportExtension:Wb},Uk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Kb,get __assign(){return Yl},__asyncDelegator:Vb,__asyncGenerator:zb,__asyncValues:qb,__await:Ei,__awaiter:te,__classPrivateFieldGet:Ib,__classPrivateFieldIn:Yb,__classPrivateFieldSet:Gb,__createBinding:cc,__decorate:Eb,__disposeResources:Xb,__esDecorate:Ab,__exportStar:Ub,__extends:kb,__generator:Mb,__importDefault:$b,__importStar:Fb,__makeTemplateObject:Hb,__metadata:Db,__param:Tb,__propKey:Rb,__read:Tf,__rest:Ci,__rewriteRelativeImportExtension:Wb,__runInitializers:Cb,__setFunctionName:Ob,__spread:Pb,__spreadArray:Bb,__spreadArrays:Lb,__values:Kl,default:Mk},Symbol.toStringTag,{value:"Module"})),Pk=a=>a?(...t)=>a(...t):(...t)=>fetch(...t);class Af extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class Lk extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ov extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lv extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ah;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Ah||(Ah={}));class Bk{constructor(t,{headers:s={},customFetch:i,region:c=Ah.Any}={}){this.url=t,this.headers=s,this.region=c,this.fetch=Pk(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return te(this,arguments,void 0,function*(s,i={}){var c;let u,d;try{const{headers:m,method:p,body:g,signal:y,timeout:x}=i;let b={},{region:w}=i;w||(w=this.region);const N=new URL(`${this.url}/${s}`);w&&w!=="any"&&(b["x-region"]=w,N.searchParams.set("forceFunctionRegion",w));let S;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(b["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(b["Content-Type"]="application/json",S=JSON.stringify(g)):S=g;let _=y;x&&(d=new AbortController,u=setTimeout(()=>d.abort(),x),y?(_=d.signal,y.addEventListener("abort",()=>d.abort())):_=d.signal);const C=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:S,signal:_}).catch(z=>{throw new Lk(z)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new ov(C);if(!C.ok)throw new lv(C);let A=((c=C.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return A==="application/json"?V=yield C.json():A==="application/octet-stream"||A==="application/pdf"?V=yield C.blob():A==="text/event-stream"?V=C:A==="multipart/form-data"?V=yield C.formData():V=yield C.text(),{data:V,error:null,response:C}}catch(m){return{data:null,error:m,response:m instanceof lv||m instanceof ov?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var At={};const Ri=Kj(Uk);var Nl={},kl={},El={},Tl={},Al={},Cl={},cv;function Qb(){if(cv)return Cl;cv=1,Object.defineProperty(Cl,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Cl.default=a,Cl}var uv;function Jb(){if(uv)return Al;uv=1,Object.defineProperty(Al,"__esModule",{value:!0});const t=Ri.__importDefault(Qb());class s{constructor(c){var u,d;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(d=c.isMaybeSingle)!==null&&d!==void 0?d:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,y,x,b;let w=null,N=null,S=null,_=p.status,C=p.statusText;if(p.ok){if(this.method!=="HEAD"){const z=await p.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?N=z:N=JSON.parse(z))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),V=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&V&&V.length>1&&(S=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(w={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,S=null,_=406,C="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const A=await p.text();try{w=JSON.parse(A),Array.isArray(w)&&p.status===404&&(N=[],w=null,_=200,C="OK")}catch{p.status===404&&A===""?(_=204,C="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,_=200,C="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:N,count:S,status:_,statusText:C}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,y,x,b,w,N;let S="";const _=p?.cause;if(_){const C=(g=_?.message)!==null&&g!==void 0?g:"",T=(y=_?.code)!==null&&y!==void 0?y:"";S=`${(x=p?.name)!==null&&x!==void 0?x:"FetchError"}: ${p?.message}`,S+=`

Caused by: ${(b=_?.name)!==null&&b!==void 0?b:"Error"}: ${C}`,T&&(S+=` (${T})`),_?.stack&&(S+=`
${_.stack}`)}else S=(w=p?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(N=p?.name)!==null&&N!==void 0?N:"FetchError"}: ${p?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return Al.default=s,Al}var dv;function Zb(){if(dv)return Tl;dv=1,Object.defineProperty(Tl,"__esModule",{value:!0});const t=Ri.__importDefault(Jb());class s extends t.default{select(c){let u=!1;const d=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${c}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:d,referencedTable:m=d}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var y;const x=[c?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${b}"; options=${x};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Tl.default=s,Tl}var hv;function Cf(){if(hv)return El;hv=1,Object.defineProperty(El,"__esModule",{value:!0});const t=Ri.__importDefault(Zb()),s=new RegExp("[,()]");class i extends t.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(p=>typeof p=="string"&&s.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${g}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return El.default=i,El}var fv;function ew(){if(fv)return kl;fv=1,Object.defineProperty(kl,"__esModule",{value:!0});const t=Ri.__importDefault(Cf());class s{constructor(c,{headers:u={},schema:d,fetch:m}){this.url=c,this.headers=new Headers(u),this.schema=d,this.fetch=m}select(c,u){const{head:d=!1,count:m}=u??{},p=d?"HEAD":"GET";let g=!1;const y=(c??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:d=!0}={}){var m;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const x=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(x.length>0){const b=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var d;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:c}={}){var u;const d="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return kl.default=s,kl}var mv;function zk(){if(mv)return Nl;mv=1,Object.defineProperty(Nl,"__esModule",{value:!0});const a=Ri,t=a.__importDefault(ew()),s=a.__importDefault(Cf());class i{constructor(u,{headers:d={},schema:m,fetch:p}={}){this.url=u,this.headers=new Headers(d),this.schemaName=m,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:m=!1,get:p=!1,count:g}={}){var y;let x;const b=new URL(`${this.url}/rpc/${u}`);let w;m||p?(x=m?"HEAD":"GET",Object.entries(d).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{b.searchParams.append(S,_)})):(x="POST",w=d);const N=new Headers(this.headers);return g&&N.set("Prefer",`count=${g}`),new s.default({method:x,url:b,headers:N,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Nl.default=i,Nl}var pv;function Vk(){if(pv)return At;pv=1,Object.defineProperty(At,"__esModule",{value:!0}),At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;const a=Ri,t=a.__importDefault(zk());At.PostgrestClient=t.default;const s=a.__importDefault(ew());At.PostgrestQueryBuilder=s.default;const i=a.__importDefault(Cf());At.PostgrestFilterBuilder=i.default;const c=a.__importDefault(Zb());At.PostgrestTransformBuilder=c.default;const u=a.__importDefault(Jb());At.PostgrestBuilder=u.default;const d=a.__importDefault(Qb());return At.PostgrestError=d.default,At.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:d.default},At}var tw=Vk();const nw=Ih(tw),qk=Yj({__proto__:null,default:nw},[tw]),{PostgrestClient:Hk,PostgrestQueryBuilder:D3,PostgrestFilterBuilder:M3,PostgrestTransformBuilder:U3,PostgrestBuilder:P3,PostgrestError:L3}=nw||qk;class Fk{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $k="2.84.0",Ik=`realtime-js/${$k}`,aw="1.0.0",Gk="2.0.0",gv=aw,Ch=1e4,Yk=1e3,Kk=100;var fs;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(fs||(fs={}));var gt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(gt||(gt={}));var Sn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Sn||(Sn={}));var Rh;(function(a){a.websocket="websocket"})(Rh||(Rh={}));var ms;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(ms||(ms={}));class Xk{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i,c,u;const d=t.topic,m=(s=t.ref)!==null&&s!==void 0?s:"",p=(i=t.join_ref)!==null&&i!==void 0?i:"",g=t.payload.event,y=(u=(c=t.payload)===null||c===void 0?void 0:c.payload)!==null&&u!==void 0?u:new ArrayBuffer(0),x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let w=new DataView(b),N=0;w.setUint8(N++,this.KINDS.userBroadcastPush),w.setUint8(N++,p.length),w.setUint8(N++,m.length),w.setUint8(N++,d.length),w.setUint8(N++,g.length),w.setUint8(N++,this.BINARY_ENCODING),Array.from(p,_=>w.setUint8(N++,_.charCodeAt(0))),Array.from(m,_=>w.setUint8(N++,_.charCodeAt(0))),Array.from(d,_=>w.setUint8(N++,_.charCodeAt(0))),Array.from(g,_=>w.setUint8(N++,_.charCodeAt(0)));var S=new Uint8Array(b.byteLength+y.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(y),b.byteLength),S.buffer}_encodeJsonUserBroadcastPush(t){var s,i,c,u;const d=t.topic,m=(s=t.ref)!==null&&s!==void 0?s:"",p=(i=t.join_ref)!==null&&i!==void 0?i:"",g=t.payload.event,y=(u=(c=t.payload)===null||c===void 0?void 0:c.payload)!==null&&u!==void 0?u:{},b=new TextEncoder().encode(JSON.stringify(y)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+g.length,N=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(N),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,p.length),S.setUint8(_++,m.length),S.setUint8(_++,d.length),S.setUint8(_++,g.length),S.setUint8(_++,this.JSON_ENCODING),Array.from(p,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(m,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(d,T=>S.setUint8(_++,T.charCodeAt(0))),Array.from(g,T=>S.setUint8(_++,T.charCodeAt(0)));var C=new Uint8Array(N.byteLength+b.byteLength);return C.set(new Uint8Array(N),0),C.set(new Uint8Array(b),N.byteLength),C.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[c,u,d,m,p]=i;return s({join_ref:c,ref:u,topic:d,event:m,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,c)}}_decodeUserBroadcast(t,s,i){const c=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(t.slice(p,p+c));p=p+c;const y=i.decode(t.slice(p,p+u));p=p+u;const x=i.decode(t.slice(p,p+d));p=p+d;const b=t.slice(p,t.byteLength),w=m===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,N={type:this.BROADCAST_EVENT,event:y,payload:w};return d>0&&(N.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class sw{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Fe||(Fe={}));const yv=(a,t,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=Wk(d,a,t,c),u),{}):{}},Wk=(a,t,s,i)=>{const c=t.find(m=>m.name===a),u=c?.type,d=s[a];return u&&!i.includes(u)?iw(u,d):Oh(d)},iw=(a,t)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return eE(t,s)}switch(a){case Fe.bool:return Qk(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return Jk(t);case Fe.json:case Fe.jsonb:return Zk(t);case Fe.timestamp:return tE(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Oh(t);default:return Oh(t)}},Oh=a=>a,Qk=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Jk=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},Zk=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},eE=(a,t)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let u;const d=a.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>iw(t,m))}return a},tE=a=>typeof a=="string"?a.replace(" ","T"):a,rw=a=>{const t=new URL(a);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qd{constructor(t,s,i={},c=Ch){this.channel=t,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vv;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(vv||(vv={}));class zr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zr.syncState(this.state,c,u,d),this.pendingDiffs.forEach(p=>{this.state=zr.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=zr.syncDiff(this.state,c,u,d),m())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,c){const u=this.cloneDeep(t),d=this.transformState(s),m={},p={};return this.map(u,(g,y)=>{d[g]||(p[g]=y)}),this.map(d,(g,y)=>{const x=u[g];if(x){const b=y.map(_=>_.presence_ref),w=x.map(_=>_.presence_ref),N=y.filter(_=>w.indexOf(_.presence_ref)<0),S=x.filter(_=>b.indexOf(_.presence_ref)<0);N.length>0&&(m[g]=N),S.length>0&&(p[g]=S)}else m[g]=y}),this.syncDiff(u,{joins:m,leaves:p},i,c)}static syncDiff(t,s,i,c){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var g;const y=(g=t[m])!==null&&g!==void 0?g:[];if(t[m]=this.cloneDeep(p),y.length>0){const x=t[m].map(w=>w.presence_ref),b=y.filter(w=>x.indexOf(w.presence_ref)<0);t[m].unshift(...b)}i(m,y,p)}),this.map(d,(m,p)=>{let g=t[m];if(!g)return;const y=p.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),t[m]=g,c(m,g,p),g.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const c=t[i];return"metas"in c?s[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=c,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(xv||(xv={}));var Vr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Vr||(Vr={}));var na;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class Rf{constructor(t,s={config:{}},i){var c,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Qd(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new zr(this),this.broadcastEndpointURL=rw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:d,presence:m,private:p}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},b={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(na.CHANNEL_ERROR,w)),this._onClose(()=>t?.(na.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var N;if(this.socket.setAuth(),w===void 0){t?.(na.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(N=S?.length)!==null&&N!==void 0?N:0,C=[];for(let T=0;T<_;T++){const A=S[T],{filter:{event:V,schema:z,table:M,filter:$}}=A,X=w&&w[T];if(X&&X.event===V&&X.schema===z&&X.table===M&&X.filter===$)C.push(Object.assign(Object.assign({},A),{id:X.id}));else{this.unsubscribe(),this.state=gt.errored,t?.(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(na.SUBSCRIBED);return}}).receive("error",w=>{this.state=gt.errored,t?.(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===gt.joined&&t===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var i,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Qd(this,Sn.leave,{},t),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),d}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Qd(this,t,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Kk){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var c,u;const d=t.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Sn;if(i&&[m,p,g,y].indexOf(d)>=0&&i!==this._joinRef())return;let b=this._onMessage(d,s,i);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var N,S,_;return((N=w.filter)===null||N===void 0?void 0:N.event)==="*"||((_=(S=w.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(w=>w.callback(b,i)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var N,S,_,C,T,A;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const V=w.id,z=(N=w.filter)===null||N===void 0?void 0:N.event;return V&&((S=s.ids)===null||S===void 0?void 0:S.includes(V))&&(z==="*"||z?.toLocaleLowerCase()===((_=s.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const V=(T=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return V==="*"||V===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof b=="object"&&"ids"in b){const N=b.data,{schema:S,table:_,commit_timestamp:C,type:T,errors:A}=N;b=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:C,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(N))}w.callback(b,i)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const c=t.toLocaleLowerCase(),u={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Rf.isEqual(c.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sn.close,{},t)}_onError(t){this._on(Sn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=yv(t.columns,t.old_record)),s}}const Jd=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nE=[1e3,2e3,5e3,1e4],aE=1e4,sE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iE{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ch,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jd,this.ref=0,this.reconnectTimer=null,this.vsn=gv,this.logger=Jd,this.conn=null,this.sendBuffer=[],this.serializer=new Xk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Rh.websocket}`,this.httpEndpoint=rw(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return ms.Connecting;case fs.open:return ms.Open;case fs.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new Rf(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:c,ref:u}=t,d=()=>{this.encode(t,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${i} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Yk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:u,ref:d}=s,m=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${c} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fs.open||this.conn.readyState===fs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${t}${i}${c}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([sE],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:Ik};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,c,u,d,m,p,g,y,x,b,w;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Ch,this.heartbeatIntervalMs=(c=t?.heartbeatIntervalMs)!==null&&c!==void 0?c:Rl.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:Jd,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:gv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(N=>nE[N-1]||aE),this.vsn){case aw:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((N,S)=>S(JSON.stringify(N))),this.decode=(x=t?.decode)!==null&&x!==void 0?x:((N,S)=>S(JSON.parse(N)));break;case Gk:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Of extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qe(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class rE extends Of{constructor(t,s,i){super(t),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dh extends Of{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const Df=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),oE=()=>Response,Mh=a=>{if(Array.isArray(a))return a.map(s=>Mh(s));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=Mh(i)}),t},lE=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Zd=a=>{var t;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(t=a.error)===null||t===void 0?void 0:t.message)||JSON.stringify(a)},cE=(a,t,s)=>te(void 0,void 0,void 0,function*(){const i=yield oE();a instanceof i&&!s?.noResolveJson?a.json().then(c=>{const u=a.status||500,d=c?.statusCode||u+"";t(new rE(Zd(c),u,d))}).catch(c=>{t(new Dh(Zd(c),c))}):t(new Dh(Zd(a),a))}),uE=(a,t,s,i)=>{const c={method:a,headers:t?.headers||{}};return a==="GET"||!i?c:(lE(i)?(c.headers=Object.assign({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(i)):c.body=i,t?.duplex&&(c.duplex=t.duplex),Object.assign(Object.assign({},c),s))};function to(a,t,s,i,c,u){return te(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(s,uE(t,i,c,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>cE(p,m,i))})})}function Gr(a,t,s,i){return te(this,void 0,void 0,function*(){return to(a,"GET",t,s,i)})}function jn(a,t,s,i,c){return te(this,void 0,void 0,function*(){return to(a,"POST",t,i,c,s)})}function Uh(a,t,s,i,c){return te(this,void 0,void 0,function*(){return to(a,"PUT",t,i,c,s)})}function dE(a,t,s,i){return te(this,void 0,void 0,function*(){return to(a,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Mf(a,t,s,i,c){return te(this,void 0,void 0,function*(){return to(a,"DELETE",t,i,c,s)})}class hE{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}var ow;class fE{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[ow]="BlobDownloadBuilder",this.promise=null}asStream(){return new hE(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}ow=Symbol.toStringTag;const mE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pE{constructor(t,s={},i,c){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=i,this.fetch=Df(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,i,c){return te(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},bv),c);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),c?.headers&&(m=Object.assign(Object.assign({},m),c.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),x=yield(t=="PUT"?Uh:jn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Qe(u))return{data:null,error:u};throw u}})}upload(t,s,i){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,i)})}uploadToSignedUrl(t,s,i,c){return te(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:bv.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const x=yield Uh(this.fetch,m.toString(),p,{headers:y});return{data:{path:u,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Qe(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,s){return te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const u=yield jn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new Of("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}update(t,s,i){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,i)})}move(t,s,i){return te(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}copy(t,s,i){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}createSignedUrl(t,s,i){return te(this,void 0,void 0,function*(){try{let c=this._getFinalPath(t),u=yield jn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}createSignedUrls(t,s,i){return te(this,void 0,void 0,function*(){try{const c=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}download(t,s){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),d=u?`?${u}`:"",m=this._getFinalPath(t),p=()=>Gr(this.fetch,`${this.url}/${c}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new fE(p,this.shouldThrowOnError)}info(t){return te(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const i=yield Gr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Mh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}exists(t){return te(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield dE(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i)&&i instanceof Dh){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,s){const i=this._getFinalPath(t),c=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&c.push(u);const m=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&c.push(p);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${g}`)}}}remove(t){return te(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}list(t,s,i){return te(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},mE),s),{prefix:t||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}listV2(t,s){return te(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const lw="2.84.0",cw={"X-Client-Info":`storage-js/${lw}`};class gE{constructor(t,s={},i,c){this.shouldThrowOnError=!1;const u=new URL(t);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cw),s),this.fetch=Df(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return te(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Gr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}createBucket(t){return te(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}updateBucket(t,s){return te(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}emptyBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class yE{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cw),s),this.fetch=Df(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}listBuckets(t){return te(this,void 0,void 0,function*(){try{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Gr(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}}const Uf={"X-Client-Info":`storage-js/${lw}`,"Content-Type":"application/json"};class uw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class eh extends uw{constructor(t,s,i){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vE extends uw{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var wv;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wv||(wv={}));const Pf=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),xE=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},jv=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),bE=(a,t,s)=>te(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!s?.noResolveJson){const c=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const m=d?.statusCode||d?.code||c+"";t(new eh(jv(d),c,m))}).catch(()=>{const d=c+"",m=u.statusText||`HTTP ${c} error`;t(new eh(m,c,d))});else{const d=c+"",m=u.statusText||`HTTP ${c} error`;t(new eh(m,c,d))}}else t(new vE(jv(a),a))}),wE=(a,t,s,i)=>{const c={method:a,headers:t?.headers||{}};return i?(xE(i)?(c.headers=Object.assign({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function jE(a,t,s,i,c,u){return te(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(s,wE(t,i,c,u)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>bE(p,m,i))})})}function Qt(a,t,s,i,c){return te(this,void 0,void 0,function*(){return jE(a,"POST",t,i,c,s)})}class SE{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uf),s),this.fetch=Pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}getIndex(t,s){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}listIndexes(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}}class _E{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uf),s),this.fetch=Pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return te(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}getVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}listVectors(t){return te(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}queryVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}deleteVectors(t){return te(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}}class NE{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uf),s),this.fetch=Pf(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}listBuckets(){return te(this,arguments,void 0,function*(t={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Wt(s))return{data:null,error:s};throw s}})}}class kE extends NE{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new EE(this.url,this.headers,t,this.fetch)}}class EE extends SE{constructor(t,s,i,c){super(t,s,c),this.vectorBucketName=i}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new TE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class TE extends _E{constructor(t,s,i,c,u){super(t,s,u),this.vectorBucketName=i,this.indexName=c}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class AE extends gE{constructor(t,s={},i,c){super(t,s,i,c)}from(t){return new pE(this.url,this.headers,t,this.fetch)}get vectors(){return new kE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yE(this.url+"/iceberg",this.headers,this.fetch)}}const CE="2.84.0";let Mr="";typeof Deno<"u"?Mr="deno":typeof document<"u"?Mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mr="react-native":Mr="node";const RE={"X-Client-Info":`supabase-js-${Mr}/${CE}`},OE={headers:RE},DE={schema:"public"},ME={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UE={},PE=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),LE=()=>Headers,BE=(a,t,s)=>{const i=PE(s),c=LE();return async(u,d)=>{var m;const p=(m=await t())!==null&&m!==void 0?m:a;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},d),{headers:g}))}};function zE(a){return a.endsWith("/")?a:a+"/"}function VE(a,t){var s,i;const{db:c,auth:u,realtime:d,global:m}=a,{db:p,auth:g,realtime:y,global:x}=t,b={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},x),m),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?b.accessToken=a.accessToken:delete b.accessToken,b}function qE(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dw="2.84.0",mi=30*1e3,Ph=3,th=Ph*mi,HE="http://localhost:9999",FE="supabase.auth.token",$E={"X-Client-Info":`gotrue-js/${dw}`},Lh="X-Supabase-Api-Version",hw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GE=600*1e3;class Yr extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ae(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class YE extends Yr{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function KE(a){return ae(a)&&a.name==="AuthApiError"}class ps extends Yr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Va extends Yr{constructor(t,s,i,c){super(t,i,c),this.name=s,this.status=i}}class Xt extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XE(a){return ae(a)&&a.name==="AuthSessionMissingError"}class oi extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends Va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dl extends Va{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WE(a){return ae(a)&&a.name==="AuthImplicitGrantRedirectError"}class Sv extends Va{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bh extends Va{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function nh(a){return ae(a)&&a.name==="AuthRetryableFetchError"}class _v extends Va{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class zh extends Va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nv=` 	
\r=`.split(""),QE=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<Nv.length;t+=1)a[Nv[t].charCodeAt(0)]=-2;for(let t=0;t<Xl.length;t+=1)a[Xl[t].charCodeAt(0)]=t;return a})();function kv(a,t,s){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Xl[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Xl[i]),t.queuedBits-=6}}function fw(a,t,s){const i=QE[a];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Ev(a){const t=[],s=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{eT(d,i,s)};for(let d=0;d<a.length;d+=1)fw(a.charCodeAt(d),c,u);return t.join("")}function JE(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function ZE(a,t){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}JE(i,t)}}function eT(a,t,s){if(t.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ji(a){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};for(let c=0;c<a.length;c+=1)fw(a.charCodeAt(c),s,i);return new Uint8Array(t)}function tT(a){const t=[];return ZE(a,s=>t.push(s)),new Uint8Array(t)}function ys(a){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};return a.forEach(c=>kv(c,s,i)),kv(null,s,i),t.join("")}function nT(a){return Math.round(Date.now()/1e3)+a}function aT(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},mw=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function sT(a){const t={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return s.searchParams.forEach((i,c)=>{t[c]=i}),t}const pw=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),iT=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",pi=async(a,t,s)=>{await a.setItem(t,JSON.stringify(s))},ls=async(a,t)=>{const s=await a.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ra=async(a,t)=>{await a.removeItem(t)};class uc{constructor(){this.promise=new uc.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}uc.promiseConstructor=Promise;function ah(a){const t=a.split(".");if(t.length!==3)throw new zh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!IE.test(t[i]))throw new zh("JWT not in base64url format");return{header:JSON.parse(Ev(t[0])),payload:JSON.parse(Ev(t[1])),signature:ji(t[2]),raw:{header:t[0],payload:t[1]}}}async function rT(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function oT(a,t){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!t(u,null,d)){i(d);return}}catch(d){if(!t(u,d)){c(d);return}}})()})}function lT(a){return("0"+a.toString(16)).substr(-2)}function cT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(t),Array.from(t,lT).join("")}async function uT(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function dT(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await uT(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(a,t,s=!1){const i=cT();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await pi(a,`${t}-code-verifier`,c);const u=await dT(i);return[u,i===u?"plain":"s256"]}const hT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fT(a){const t=a.headers.get(Lh);if(!t||!t.match(hT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mT(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function pT(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ci(a){if(!gT.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sh(){const a={};return new Proxy(a,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yT(a,t){return new Proxy(a,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,c)}})}function Tv(a){return JSON.parse(JSON.stringify(a))}const ds=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),vT=[502,503,504];async function Av(a){var t;if(!iT(a))throw new Bh(ds(a),0);if(vT.includes(a.status))throw new Bh(ds(a),a.status);let s;try{s=await a.json()}catch(u){throw new ps(ds(u),u)}let i;const c=fT(a);if(c&&c.getTime()>=hw["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new _v(ds(s),a.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Xt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new _v(ds(s),a.status,s.weak_password.reasons);throw new YE(ds(s),a.status||500,i)}const xT=(a,t,s,i)=>{const c={method:a,headers:t?.headers||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ce(a,t,s,i){var c;const u=Object.assign({},i?.headers);u[Lh]||(u[Lh]=hw["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await bT(a,t,s+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function bT(a,t,s,i,c,u){const d=xT(t,i,c,u);let m;try{m=await a(s,Object.assign({},d))}catch(p){throw console.error(p),new Bh(ds(p),0)}if(m.ok||await Av(m),i?.noResolveJson)return m;try{return await m.json()}catch(p){await Av(p)}}function bn(a){var t;let s=null;ST(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=nT(a.expires_in)));const i=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:s,user:i},error:null}}function Cv(a){const t=bn(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=a.weak_password),t}function Ua(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function wT(a){return{data:a,error:null}}function jT(a){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u}=a,d=Ci(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function Rv(a){return a}function ST(a){return a.access_token&&a.refresh_token&&a.expires_in}const ih=["global","local","others"];class _T{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=pw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=ih[0]){if(ih.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ih.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ua})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Ci(t,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:jT,redirectTo:s?.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ua})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,c,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rv});if(y.error)throw y.error;const x=await y.json(),b=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);g[`${_}Page`]=S}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){ci(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ua})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ci(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ua})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){ci(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ua})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ci(t.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ci(t.userId),ci(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,c,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rv});if(y.error)throw y.error;const x=await y.json(),b=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(N.split(";")[1].split("=")[1]);g[`${_}Page`]=S}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function Ov(a={}){return{getItem:t=>a[t]||null,setItem:(t,s)=>{a[t]=s},removeItem:t=>{delete a[t]}}}const ui={debug:!!(globalThis&&mw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NT extends gw{}async function kT(a,t,s){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await s()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(t===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new NT(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(ui.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function ET(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yw(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function TT(a){return parseInt(a,16)}function AT(a){const t=new TextEncoder().encode(a);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function CT(a){var t;const{chainId:s,domain:i,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:p,resources:g,scheme:y,uri:x,version:b}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=a.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=yw(a.address),N=y?`${y}://${i}`:i,S=a.statement?`${a.statement}
`:"",_=`${N} wants you to sign in with your Ethereum account:
${w}

${S}`;let C=`URI: ${x}
Version: ${b}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(C+=`
Expiration Time: ${c.toISOString()}`),m&&(C+=`
Not Before: ${m.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let T=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}C+=T}return`${_}
${C}`}class ft extends Error{constructor({message:t,code:s,cause:i,name:c}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=c??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Wl extends ft{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function RT({error:a,options:t}){var s,i,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ft({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(vw(d)){if(u.rp.id!==d)return new ft({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function OT({error:a,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ft({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(vw(i)){if(s.rpId!==i)return new ft({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class DT{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MT=new DT;function UT(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:t,user:s,excludeCredentials:i}=a,c=Ci(a,["challenge","user","excludeCredentials"]),u=ji(t).buffer,d=Object.assign(Object.assign({},s),{id:ji(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ji(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function PT(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:t,allowCredentials:s}=a,i=Ci(a,["challenge","allowCredentials"]),c=ji(t).buffer,u=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const m=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:ji(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function LT(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:ys(new Uint8Array(a.response.attestationObject)),clientDataJSON:ys(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BT(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,i=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ys(new Uint8Array(c.authenticatorData)),clientDataJSON:ys(new Uint8Array(c.clientDataJSON)),signature:ys(new Uint8Array(c.signature)),userHandle:c.userHandle?ys(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vw(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Dv(){var a,t;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zT(a){try{const t=await navigator.credentials.create(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",t)}:{data:null,error:new Wl("Empty credential response",t)}}catch(t){return{data:null,error:RT({error:t,options:a})}}}async function VT(a){try{const t=await navigator.credentials.get(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",t)}:{data:null,error:new Wl("Empty credential response",t)}}catch(t){return{data:null,error:OT({error:t,options:a})}}}const qT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ql(...a){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of a)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(s(d))i[u]=d;else if(t(d)){const m=i[u];t(m)?i[u]=Ql(m,d):i[u]=Ql(d)}else i[u]=d}return i}function FT(a,t){return Ql(qT,a,t||{})}function $T(a,t){return Ql(HT,a,t||{})}class IT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:c},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:m};const p=c??MT.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=FT(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:x}=await zT({publicKey:g,signal:p});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=$T(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:x}=await VT(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new ps("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Yr("rpId is required for WebAuthn authentication")};try{if(!Dv())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:u});if(!d)return{data:null,error:m};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new ps("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Yr("rpId is required for WebAuthn registration")};try{if(!Dv())return{data:null,error:new ps("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new ps("Unexpected error in register",d)}}}}ET();const GT={url:HE,storageKey:FE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$E,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mv(a,t,s){return await s()}const di={};class Kr{get jwks(){var t,s;return(s=(t=di[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=di[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},GT),t);if(this.storageKey=u.storageKey,this.instanceID=(s=Kr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Kr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Nt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new _T({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=pw(u.fetch),this.lock=u.lock||Mv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Nt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=kT:this.lock=Mv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:mw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(Nt()&&(s=sT(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),Nt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),WE(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new ps("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,c;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=t?.options)===null||c===void 0?void 0:c.captchaToken}},xform:bn}),{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,c;try{let u;if("email"in t){const{email:y,password:x,options:b}=t;let w=null,N=null;this.flowType==="pkce"&&([w,N]=await li(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:x,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:N},xform:bn})}else if("phone"in t){const{phone:y,password:x,options:b}=t;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(c=b?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:bn})}else throw new Ol("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:m}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Cv})}else if("phone"in t){const{phone:u,password:d,options:m}=t;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Cv})}else throw new Ol("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const u=new oi;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,c,u,d,m,p,g,y,x,b;let w,N;if("message"in t)w=t.message,N=t.signature;else{const{chain:S,wallet:_,statement:C,options:T}=t;let A;if(Nt())if(typeof _=="object")A=_;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")A=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const V=new URL((s=T?.url)!==null&&s!==void 0?s:window.location.href),z=await A.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=yw(z[0]);let $=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!$){const Y=await A.request({method:"eth_chainId"});$=TT(Y)}const X={domain:V.host,address:M,statement:C,uri:V.href,version:"1",chainId:$,nonce:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=T?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=T?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=CT(X),N=await A.request({method:"personal_sign",params:[AT(w),M]})}try{const{data:S,error:_}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:N},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:bn});if(_)throw _;if(!S||!S.session||!S.user){const C=new oi;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var s,i,c,u,d,m,p,g,y,x,b,w;let N,S;if("message"in t)N=t.message,S=t.signature;else{const{chain:_,wallet:C,statement:T,options:A}=t;let V;if(Nt())if(typeof C=="object")V=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))V=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=C}const z=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const M=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),T?{statement:T}:null));let $;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")$=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)$=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)N=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${z.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(c=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=A?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const M=await V.signMessage(new TextEncoder().encode(N),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:_,error:C}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:ys(S)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:bn});if(C)throw C;if(!_||!_.session||!_.user){const T=new oi;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const s=await ls(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:bn});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const m=new oi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:c,access_token:u,nonce:d}=t,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:bn}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new oi;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,c,u,d;try{if("email"in t){const{email:m,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await li(this.storage,this.storageKey));const{error:x}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:m,options:p}=t,{data:g,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Ol("You must provide either an email or phone number.")}catch(m){if(ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var s,i;try{let c,u;"options"in t&&(c=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:bn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var s,i,c,u,d;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await li(this.storage,this.storageKey));const g=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=t?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:wT});return!((u=g.data)===null||u===void 0)&&u.url&&Nt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(ae(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new Xt;const{error:c}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:c,options:u}=t,{error:d}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:i,type:c,options:u}=t,{data:d,error:m}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new Ol("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<th:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const d=await ls(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=sh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=yT(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ua}):await this._useSession(async s=>{var i,c,u;const{data:d,error:m}=s;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ua})})}catch(s){if(ae(s))return XE(s)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new Xt;const d=c.session;let m=null,p=null;this.flowType==="pkce"&&t.email!=null&&([m,p]=await li(this.storage,this.storageKey));const{data:g,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:Ua});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(ae(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const s=Date.now()/1e3;let i=s,c=!0,u=null;const{payload:d}=ah(t.access_token);if(d.exp&&(i=d.exp,c=i<=s),c){const{data:m,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:d,error:m}=s;if(m)throw m;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Xt;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Nt())throw new Dl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sv("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:m,expires_at:p,token_type:g}=t;if(!u||!m||!d||!g)throw new Dl("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(m);let b=y+x;p&&(b=parseInt(p));const w=b-y;w*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const N=b-x;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,b,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,b,y);const{data:S,error:_}=await this._getUser(u);if(_)throw _;const C={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:x,expires_at:b,refresh_token:d,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({error:u});const d=(i=c.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,t);if(m&&!(KE(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=aT(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,c;try{const{data:{session:u},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await li(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(ae(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:c}=await this._useSession(async u=>{var d,m,p,g,y;const{data:x,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return Nt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(ae(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:d,provider:m,token:p,access_token:g,nonce:y}=t,x=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:bn}),{data:b,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new oi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:d}=s;if(d)throw d;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await oT(async c=>(c>0&&await rT(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bn})),(c,u)=>{const d=200*Math.pow(2,c);return u&&nh(u)&&Date.now()+d-i<mi})}catch(i){if(this._debug(s,"error",i),ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),Nt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await ls(this.storage,this.storageKey);if(c&&this.userStorage){let d=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await pi(this.userStorage,this.storageKey+"-user",d)),c.user=(t=d?.user)!==null&&t!==void 0?t:sh()}else if(c&&!c.user&&!c.user){const d=await ls(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await Ra(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,c)):c.user=sh()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<th;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${th}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),nh(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(c.access_token);!m&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new uc;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Xt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ae(u)){const d={data:null,error:u};return nh(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,s,i=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await pi(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=Tv(c);await pi(this.storage,this.storageKey,u)}else{const c=Tv(s);await pi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${mi}ms, refresh threshold is ${Ph} ticks`),c<=Ph&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await li(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LT(t.webauthn.credential_response):BT(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:UT(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:PT(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ah(i.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Xt});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Nt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Xt});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Nt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Xt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(m=>m.kid===t);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+GE>c)return i;const{data:u,error:d}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:w,error:N}=await this.getSession();if(N||!w.session)return this._returnResult({data:null,error:N});i=w.session.access_token}const{header:c,payload:u,signature:d,raw:{header:m,payload:p}}=ah(i);s?.allowExpired||mT(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:u,header:c,signature:d},error:null}}const y=pT(c.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,d,tT(`${m}.${p}`)))throw new zh("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}}Kr.nextInstanceID={};const YT=Kr;class KT extends YT{constructor(t){super(t)}}class XT{constructor(t,s,i){var c,u,d;this.supabaseUrl=t,this.supabaseKey=s;const m=qE(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:DE,realtime:UE,auth:Object.assign(Object.assign({},ME),{storageKey:p}),global:OE},y=VE(i??{},g);this.storageKey=(c=y.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=BE(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Hk(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new AE(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Bk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,i)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:u,storageKey:d,flowType:m,lock:p,debug:g,throwOnError:y},x,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KT({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),x),storageKey:d,autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:u,flowType:m,lock:p,debug:g,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(t,s,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WT=(a,t,s)=>new XT(a,t,s);function QT(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}QT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JT="https://uioetcxxqdwntwxlmfhn.supabase.co",ZT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpb2V0Y3h4cWR3bnR3eGxtZmhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMTExMDksImV4cCI6MjA3NzU4NzEwOX0.6eCmAXcBHsb8Mx1BjInBphWkhhyub8u1eOHZtUDaZMs",_e=WT(JT,ZT,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:typeof window<"u"?window.localStorage:void 0,storageKey:"remesas-am-auth"},global:{headers:{"x-application-name":"remesas-am"}}}),eA=Object.freeze(Object.defineProperty({__proto__:null,supabase:_e},Symbol.toStringTag,{value:"Module"})),st=[{name:"Argentina",code:"AR",dialCode:"+54",banks:[{name:"Banco Nacin",type:"National"},{name:"Galicia",type:"National"},{name:"BBVA Argentina",type:"National"},{name:"Mercado Pago",type:"National"}],currency:"ARS",exchangeRateToUSD:1250,region:"LatAm",minimumSendAmount:4e3},{name:"Bolivia",code:"BO",dialCode:"+591",banks:[],currency:"BOB",exchangeRateToUSD:6.91,region:"LatAm",minimumSendAmount:50},{name:"Brasil",code:"BR",dialCode:"+55",banks:[{name:"Banco do Brasil",type:"National"},{name:"Ita",type:"National"},{name:"Bradesco",type:"National"},{name:"Nubank",type:"National"},{name:"Pix",type:"National"}],currency:"BRL",exchangeRateToUSD:5.4,region:"LatAm",minimumSendAmount:50},{name:"Chile",code:"CL",dialCode:"+56",banks:[{name:"Banco de Chile",type:"National"},{name:"BancoEstado",type:"National"},{name:"Santander Chile",type:"National"}],currency:"CLP",exchangeRateToUSD:940,region:"LatAm",minimumSendAmount:4e3},{name:"Colombia",code:"CO",dialCode:"+57",banks:[{name:"Bancolombia",type:"National"},{name:"Davivienda",type:"National"},{name:"Nequi",type:"National"},{name:"Daviplata",type:"National"},{name:"Banco de Bogot",type:"National"}],currency:"COP",exchangeRateToUSD:3950,region:"LatAm",minimumSendAmount:25e3},{name:"Costa Rica",code:"CR",dialCode:"+506",banks:[],currency:"CRC",exchangeRateToUSD:525,region:"LatAm",minimumSendAmount:5e3},{name:"Cuba",code:"CU",dialCode:"+53",banks:[],currency:"CUP",exchangeRateToUSD:24,region:"LatAm",minimumSendAmount:500},{name:"Ecuador",code:"EC",dialCode:"+593",banks:[{name:"Pichincha",type:"National"},{name:"Guayaquil",type:"National"},{name:"Produbanco",type:"National"},{name:"Banco Bolivariano",type:"National"}],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"El Salvador",code:"SV",dialCode:"+503",banks:[],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"Guatemala",code:"GT",dialCode:"+502",banks:[],currency:"GTQ",exchangeRateToUSD:7.78,region:"LatAm",minimumSendAmount:100},{name:"Honduras",code:"HN",dialCode:"+504",banks:[],currency:"HNL",exchangeRateToUSD:24.7,region:"LatAm",minimumSendAmount:300},{name:"Mxico",code:"MX",dialCode:"+52",banks:[{name:"BBVA Mxico",type:"National"},{name:"Santander Mxico",type:"National"},{name:"Banorte",type:"National"},{name:"HSBC Mxico",type:"National"},{name:"Citibanamex",type:"National"}],currency:"MXN",exchangeRateToUSD:17.15,region:"LatAm",minimumSendAmount:80},{name:"Nicaragua",code:"NI",dialCode:"+505",banks:[],currency:"NIO",exchangeRateToUSD:36.6,region:"LatAm",minimumSendAmount:400},{name:"Panam",code:"PA",dialCode:"+507",banks:[],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"Paraguay",code:"PY",dialCode:"+595",banks:[],currency:"PYG",exchangeRateToUSD:7250,region:"LatAm",minimumSendAmount:5e4},{name:"Per",code:"PE",dialCode:"+51",banks:[{name:"BCP",type:"National"},{name:"Interbank",type:"National"},{name:"Scotiabank",type:"National"},{name:"BBVA Per",type:"National"},{name:"Yape",type:"National"},{name:"Plin",type:"National"}],currency:"PEN",exchangeRateToUSD:3.75,region:"LatAm",minimumSendAmount:25},{name:"Repblica Dominicana",code:"DO",dialCode:"+1",banks:[],currency:"DOP",exchangeRateToUSD:59,region:"LatAm",minimumSendAmount:500},{name:"Uruguay",code:"UY",dialCode:"+598",banks:[],currency:"UYU",exchangeRateToUSD:39.5,region:"LatAm",minimumSendAmount:500},{name:"Venezuela",code:"VE",dialCode:"+58",banks:[{name:"Mercantil",type:"National"},{name:"Banesco",type:"National"},{name:"Banco de Venezuela",type:"National"},{name:"Provincial",type:"National"},{name:"Pago Mvil",type:"National"}],currency:"VES",exchangeRateToUSD:36.5,region:"LatAm",minimumSendAmount:500},{name:"Canad",code:"CA",dialCode:"+1",banks:[],currency:"CAD",exchangeRateToUSD:1.37,region:"North America",minimumSendAmount:25},{name:"EE.UU.",code:"US",dialCode:"+1",banks:[{name:"Bank of America",type:"International"},{name:"Chase",type:"International"},{name:"Wells Fargo",type:"International"},{name:"Citibank",type:"International"},{name:"Zelle",type:"International"}],currency:"USD",exchangeRateToUSD:1,region:"North America",minimumSendAmount:20},{name:"Alemania",code:"DE",dialCode:"+49",banks:[{name:"Deutsche Bank",type:"International"},{name:"Commerzbank",type:"International"},{name:"SEPA Transfer",type:"International"},{name:"N26",type:"International"},{name:"Revolut",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Espaa",code:"ES",dialCode:"+34",banks:[{name:"SEPA Transfer",type:"International"},{name:"Revolut",type:"International"},{name:"Wise",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Francia",code:"FR",dialCode:"+33",banks:[{name:"BNP Paribas",type:"International"},{name:"Crdit Agricole",type:"International"},{name:"SEPA Transfer",type:"International"},{name:"Revolut",type:"International"},{name:"Wise",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Italia",code:"IT",dialCode:"+39",banks:[{name:"Intesa Sanpaolo",type:"International"},{name:"UniCredit",type:"International"},{name:"SEPA Transfer",type:"International"},{name:"Revolut",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Portugal",code:"PT",dialCode:"+351",banks:[{name:"Caixa Geral de Depsitos",type:"International"},{name:"Millennium BCP",type:"International"},{name:"SEPA Transfer",type:"International"},{name:"Revolut",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Reino Unido",code:"GB",dialCode:"+44",banks:[{name:"Barclays",type:"International"},{name:"HSBC UK",type:"International"},{name:"Lloyds Bank",type:"International"},{name:"Revolut",type:"International"},{name:"Wise",type:"International"}],currency:"GBP",exchangeRateToUSD:.79,region:"Europe",minimumSendAmount:15}],Vh=.025,Uv=.005,Jl=.06,Zl=3,ec=10,tc=.02,Rt=({countryCode:a,className:t})=>({VE:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"3",y:"0",fill:"#FFCF00"}),o.jsx("rect",{width:"5",height:"2",y:"1",fill:"#00247D"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#CF142B"})]}),PE:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#D91023"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#D91023"})]}),CO:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"1",y:"0",fill:"#FFCD00"}),o.jsx("rect",{width:"3",height:"0.5",y:"1",fill:"#003893"}),o.jsx("rect",{width:"3",height:"0.5",y:"1.5",fill:"#CE1126"})]}),MX:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#006847"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#CE1126"})]}),EC:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"1",y:"0",fill:"#FFCD00"}),o.jsx("rect",{width:"3",height:"0.5",y:"1",fill:"#003893"}),o.jsx("rect",{width:"3",height:"0.5",y:"1.5",fill:"#CE1126"})]}),CL:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"1",y:"1",fill:"#D52B1E"}),o.jsx("rect",{width:"1",height:"1",fill:"#0039A6"})]}),AR:o.jsxs("svg",{viewBox:"0 0 9 5",className:t,children:[o.jsx("rect",{width:"9",height:"5",fill:"#74ACDF"}),o.jsx("rect",{width:"9",height:"3",y:"1",fill:"#FFFFFF"})]}),US:o.jsxs("svg",{viewBox:"0 0 20 12",className:t,children:[o.jsx("defs",{children:o.jsxs("g",{id:"stripe",children:[o.jsx("rect",{width:"20",height:"1",fill:"#B22234"}),o.jsx("rect",{width:"20",height:"1",y:"2",fill:"#B22234"}),o.jsx("rect",{width:"20",height:"1",y:"4",fill:"#B22234"}),o.jsx("rect",{width:"20",height:"1",y:"6",fill:"#B22234"}),o.jsx("rect",{width:"20",height:"1",y:"8",fill:"#B22234"}),o.jsx("rect",{width:"20",height:"1",y:"10",fill:"#B22234"})]})}),o.jsx("rect",{width:"20",height:"12",fill:"#FFFFFF"}),o.jsx("use",{href:"#stripe"}),o.jsx("rect",{width:"9",height:"6",fill:"#3C3B6E"})]}),ES:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"2",fill:"#C60B1E"}),o.jsx("rect",{width:"3",height:"1",y:"0.5",fill:"#FFC400"})]}),BR:o.jsxs("svg",{viewBox:"0 0 20 14",className:t,children:[o.jsx("rect",{width:"20",height:"14",fill:"#009C3B"}),o.jsx("polygon",{points:"10,2 18,7 10,12 2,7",fill:"#FFDF00"}),o.jsx("circle",{cx:"10",cy:"7",r:"3",fill:"#002776"})]}),DE:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1",y:"0",fill:"#000000"}),o.jsx("rect",{width:"5",height:"1",y:"1",fill:"#DD0000"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#FFCE00"})]}),FR:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#002395"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#ED2939"})]}),IT:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#009246"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#CE2B37"})]}),PT:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"2",fill:"#FF0000"}),o.jsx("rect",{width:"1.2",height:"2",fill:"#006600"})]}),NL:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"0.667",fill:"#AE1C28"}),o.jsx("rect",{width:"3",height:"0.667",y:"0.667",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"0.666",y:"1.334",fill:"#21468B"})]}),BE:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#000000"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FDDA24"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#EF3340"})]}),PL:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1.5",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1.5",y:"1.5",fill:"#DC143C"})]}),GR:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"2",fill:"#0D5EAF"}),o.jsx("rect",{width:"3",height:"0.222",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"0.222",y:"0.444",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"0.222",y:"0.889",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"0.222",y:"1.333",fill:"#FFFFFF"}),o.jsx("rect",{width:"3",height:"0.222",y:"1.778",fill:"#FFFFFF"})]}),GB:o.jsxs("svg",{viewBox:"0 0 60 30",className:t,children:[o.jsx("rect",{width:"60",height:"30",fill:"#012169"}),o.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#FFFFFF",strokeWidth:"6"}),o.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#C8102E",strokeWidth:"4"}),o.jsx("path",{d:"M30,0 L30,30 M0,15 L60,15",stroke:"#FFFFFF",strokeWidth:"10"}),o.jsx("path",{d:"M30,0 L30,30 M0,15 L60,15",stroke:"#C8102E",strokeWidth:"6"})]}),CA:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"1.5",height:"3",fill:"#FF0000"}),o.jsx("rect",{width:"2",height:"3",x:"1.5",fill:"#FFFFFF"}),o.jsx("rect",{width:"1.5",height:"3",x:"3.5",fill:"#FF0000"}),o.jsx("polygon",{points:"2.5,1 2.6,1.3 2.9,1.3 2.7,1.5 2.8,1.8 2.5,1.6 2.2,1.8 2.3,1.5 2.1,1.3 2.4,1.3",fill:"#FF0000"})]}),BO:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"0.667",fill:"#D52B1E"}),o.jsx("rect",{width:"3",height:"0.667",y:"0.667",fill:"#F9E300"}),o.jsx("rect",{width:"3",height:"0.666",y:"1.334",fill:"#007A33"})]}),CR:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"3",fill:"#002B7F"}),o.jsx("rect",{width:"5",height:"2.4",y:"0.3",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1.2",y:"0.9",fill:"#CE1126"})]}),CU:o.jsxs("svg",{viewBox:"0 0 10 6",className:t,children:[o.jsx("rect",{width:"10",height:"6",fill:"#002A8F"}),o.jsx("rect",{width:"10",height:"1.2",fill:"#FFFFFF"}),o.jsx("rect",{width:"10",height:"1.2",y:"2.4",fill:"#FFFFFF"}),o.jsx("rect",{width:"10",height:"1.2",y:"4.8",fill:"#FFFFFF"}),o.jsx("polygon",{points:"0,0 4,3 0,6",fill:"#CF142B"}),o.jsx("polygon",{points:"1.5,3 2,2.5 2,3.5",fill:"#FFFFFF"})]}),DO:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"2",fill:"#002D62"}),o.jsx("rect",{width:"3",height:"1",y:"0.5",fill:"#FFFFFF"}),o.jsx("rect",{width:"1.5",height:"2",x:"1.5",fill:"#CE1126"})]}),GT:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"1",height:"2",fill:"#4997D0"}),o.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"1",height:"2",x:"2",fill:"#4997D0"})]}),HN:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1",fill:"#0073CF"}),o.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0073CF"})]}),NI:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1",fill:"#0067C6"}),o.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0067C6"})]}),PA:o.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[o.jsx("rect",{width:"3",height:"2",fill:"#FFFFFF"}),o.jsx("rect",{width:"1.5",height:"1",fill:"#DA121A"}),o.jsx("rect",{width:"1.5",height:"1",x:"1.5",y:"1",fill:"#0000AB"}),o.jsx("polygon",{points:"0.5,0.3 0.6,0.6 0.9,0.6 0.7,0.8 0.8,1.1 0.5,0.9 0.2,1.1 0.3,0.8 0.1,0.6 0.4,0.6",fill:"#0000AB"}),o.jsx("polygon",{points:"2.5,1.3 2.6,1.6 2.9,1.6 2.7,1.8 2.8,2.1 2.5,1.9 2.2,2.1 2.3,1.8 2.1,1.6 2.4,1.6",fill:"#DA121A"})]}),PY:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1",fill:"#D52B1E"}),o.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0038A8"})]}),SV:o.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[o.jsx("rect",{width:"5",height:"1",fill:"#0F47AF"}),o.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),o.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0F47AF"})]}),UY:o.jsxs("svg",{viewBox:"0 0 9 6",className:t,children:[o.jsx("rect",{width:"9",height:"6",fill:"#FFFFFF"}),o.jsx("rect",{width:"9",height:"0.667",fill:"#0038A8"}),o.jsx("rect",{width:"9",height:"0.667",y:"1.333",fill:"#0038A8"}),o.jsx("rect",{width:"9",height:"0.667",y:"2.666",fill:"#0038A8"}),o.jsx("rect",{width:"9",height:"0.667",y:"4",fill:"#0038A8"}),o.jsx("rect",{width:"9",height:"0.667",y:"5.333",fill:"#0038A8"}),o.jsx("rect",{width:"4",height:"3",fill:"#FFFFFF"}),o.jsx("circle",{cx:"2",cy:"1.5",r:"0.8",fill:"#FCD116",stroke:"#7B3F00",strokeWidth:"0.1"})]}),EU:o.jsxs("svg",{viewBox:"0 0 30 20",className:t,children:[o.jsx("rect",{width:"30",height:"20",fill:"#003399"}),o.jsx("circle",{cx:"15",cy:"10",r:"6",fill:"none",stroke:"#FFCC00",strokeWidth:"2"})]})})[a]||o.jsx("div",{className:`bg-gray-300 ${t}`}),xw=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),qh=({value:a,onChange:t,className:s="",required:i=!1,id:c,autoComplete:u,label:d="Nmero de Telfono"})=>{const[m,p]=E.useState(!1),[g,y]=E.useState(!1),x=E.useRef(null),b=E.useMemo(()=>[...st].sort((A,V)=>V.dialCode.length-A.dialCode.length),[]),{countryCode:w,nationalNumber:N}=E.useMemo(()=>{if(!a)return{countryCode:"US",nationalNumber:""};for(const A of b)if(a.startsWith(A.dialCode))return{countryCode:A.code,nationalNumber:a.substring(A.dialCode.length)};return{countryCode:"US",nationalNumber:a.replace(/\D/g,"")}},[a,b]),S=E.useMemo(()=>st.find(A=>A.code===w)||st.find(A=>A.code==="US"),[w]);E.useEffect(()=>{const A=V=>{x.current&&!x.current.contains(V.target)&&p(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const _=A=>{t(`${A.dialCode}${N}`),p(!1)},C=A=>{const V=A.target.value.replace(/\D/g,"");t(`${S.dialCode}${V}`)},T=N!=="";return o.jsx("div",{className:`relative w-full ${s}`,children:o.jsxs("div",{className:`
          flex items-center w-full 
          bg-gray-50 dark:bg-slate-900 
          border rounded-2xl transition-all duration-200
          ${g?"border-primary shadow-[0_0_0_4px_rgba(255,107,157,0.1)]":"border-gray-200 dark:border-slate-700"}
        `,children:[o.jsxs("div",{className:"relative",ref:x,children:[o.jsxs("button",{type:"button",onClick:()=>p(A=>!A),className:"flex items-center gap-2 h-full pl-4 pr-2 py-3.5 rounded-l-2xl hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors border-r border-gray-200 dark:border-slate-700","aria-haspopup":"listbox","aria-expanded":m,children:[o.jsx(Rt,{countryCode:S.code,className:"w-6 h-auto rounded-sm flex-shrink-0 shadow-sm"}),o.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:S.dialCode}),o.jsx(xw,{className:`w-3 h-3 text-slate-400 transition-transform ${m?"rotate-180":""}`})]}),o.jsx(qt,{children:m&&o.jsx(de.ul,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:"absolute z-50 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl shadow-xl max-h-64 overflow-y-auto left-0",role:"listbox",children:st.map(A=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>_(A),className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${A.code===S.code?"bg-primary/5":""}`,role:"option","aria-selected":A.code===S.code,children:[o.jsx(Rt,{countryCode:A.code,className:"w-5 h-auto rounded-sm flex-shrink-0 shadow-sm"}),o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-white flex-grow",children:A.name}),o.jsx("span",{className:"text-sm text-slate-400 font-mono",children:A.dialCode})]})},A.code))})})]}),o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("input",{id:c,type:"tel",autoComplete:u,value:N,onChange:C,onFocus:()=>y(!0),onBlur:()=>y(!1),className:"w-full bg-transparent py-3.5 px-4 text-base text-slate-800 dark:text-white focus:outline-none placeholder-transparent",placeholder:" ",required:i}),o.jsx(de.label,{htmlFor:c,className:`
              absolute left-4 pointer-events-none transition-colors
              ${g?"text-primary":"text-slate-400"}
            `,animate:{top:g||T?"0.5rem":"50%",fontSize:g||T?"0.75rem":"1rem",y:g||T?-14:"-50%"},children:d})]})]})})},tA=()=>{const[a,t]=E.useState("login"),[s,i]=E.useState(""),[c,u]=E.useState(""),[d,m]=E.useState(""),[p,g]=E.useState(""),[y,x]=E.useState(!1),[b,w]=E.useState(null),[N,S]=E.useState(null),[_,C]=E.useState(!1),T=X=>{w(null),S(null),u(""),t(X)},A=async X=>{if(X.preventDefault(),x(!0),w(null),S(null),a==="login"){const{error:Y}=await _e.auth.signInWithPassword({email:s,password:c});Y&&w(Y.message)}else if(a==="register"){const{data:Y,error:ne}=await _e.auth.signUp({email:s,password:c,options:{data:{full_name:d,phone:p}}});ne?w(ne.message):Y.user&&(S("Registro exitoso! Revisa tu correo electrnico para completar la verificacin."),i(""),u(""),m(""),g(""))}x(!1)},V=async X=>{X.preventDefault(),x(!0),w(null),S(null);const{error:Y}=await _e.auth.resetPasswordForEmail(s);Y?w(Y.message):S("Se ha enviado un enlace para restablecer tu contrasea a tu correo electrnico."),x(!1)},z=()=>{switch(a){case"login":return"Bienvenido de Nuevo";case"register":return"Crea tu Cuenta";case"forgotPassword":return"Restablecer Contrasea"}},M=()=>{switch(a){case"forgotPassword":return"Te enviaremos un enlace para que recuperes tu cuenta.";default:return"Tu portal de finanzas globales."}},$=()=>a==="forgotPassword"?o.jsxs("form",{onSubmit:V,className:"space-y-6",children:[o.jsx(gn,{label:"Correo Electrnico",type:"email",value:s,onChange:X=>i(X.target.value),placeholder:"tu@email.com",autoComplete:"email",required:!0,variant:"default"}),o.jsx(be,{type:"submit",isLoading:y,className:"w-full",variant:"primary",children:"Enviar Enlace de Recuperacin"})]}):o.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a==="register"&&o.jsxs(o.Fragment,{children:[o.jsx(gn,{label:"Nombre Completo",type:"text",value:d,onChange:X=>m(X.target.value),placeholder:"John Doe",autoComplete:"name",required:!0,variant:"default"}),o.jsx(qh,{id:"phone",value:p,onChange:g,autoComplete:"tel",label:"Nmero de Telfono (Opcional)"})]}),o.jsx(gn,{label:"Correo Electrnico",type:"email",value:s,onChange:X=>i(X.target.value),placeholder:"tu@email.com",autoComplete:"email",required:!0,variant:"default"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(gn,{label:"Contrasea",type:"password",value:c,onChange:X=>u(X.target.value),placeholder:"",autoComplete:a==="register"?"new-password":"current-password",required:!0,variant:"default"}),a==="login"&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",onClick:()=>T("forgotPassword"),className:"text-sm font-medium text-primary hover:text-primary-dark transition-colors",children:"Olvidaste tu contrasea?"})})]}),a==="login"&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:_,onChange:X=>C(X.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded transition-colors"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-600 dark:text-slate-300",children:"Recordar sesin"})]}),o.jsx(be,{type:"submit",isLoading:y,className:"w-full py-4 text-lg shadow-lg shadow-primary/20",variant:"primary",children:a==="login"?"Iniciar Sesin":"Crear Cuenta"}),o.jsx(qt,{children:y&&a==="login"&&o.jsx(de.div,{initial:{width:"0%"},animate:{width:["0%","75%","0%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"h-1 bg-primary rounded-full mt-4 mx-auto w-1/2 opacity-50"})})]});return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-slate-50 via-indigo-50 to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 transition-colors duration-500",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-700"})]}),o.jsxs(Ve,{variant:"glass",padding:"lg",className:"w-full max-w-md relative z-10 border-white/40 dark:border-white/5 shadow-2xl shadow-indigo-500/10 dark:shadow-black/40",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(de.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},children:o.jsx(Wv,{className:"h-32 w-auto mx-auto drop-shadow-md"})}),o.jsxs(de.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[o.jsx("h1",{className:"text-3xl font-extrabold text-slate-800 dark:text-white mt-6 tracking-tight",children:z()}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 font-medium",children:M()})]})]}),o.jsxs(qt,{mode:"wait",children:[b&&o.jsx(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm text-center p-3 rounded-xl mb-6 border border-red-100 dark:border-red-900/30 font-medium",children:b}),N&&o.jsx(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-sm text-center p-3 rounded-xl mb-6 border border-green-100 dark:border-green-900/30 font-medium",children:N})]}),o.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:$()},a),o.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700/50 text-center",children:o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a==="login"&&o.jsx("span",{children:"No tienes cuenta?"}),a==="register"&&o.jsx("span",{children:"Ya tienes una cuenta?"}),a==="forgotPassword"&&o.jsx("span",{children:"Recordaste tu contrasea?"}),o.jsxs("button",{onClick:()=>T(a==="login"?"register":"login"),className:"ml-2 font-bold text-primary hover:text-primary-dark transition-colors",children:[a==="login"&&o.jsx("span",{children:"Regstrate"}),a==="register"&&o.jsx("span",{children:"Inicia Sesin"}),a==="forgotPassword"&&o.jsx("span",{children:"Volver a Iniciar Sesin"})]})]})})]})]})};var Ye=(a=>(a[a.Home=0]="Home",a[a.Calculator=1]="Calculator",a[a.Exchange=2]="Exchange",a[a.Beneficiaries=3]="Beneficiaries",a[a.History=4]="History",a[a.Profile=5]="Profile",a[a.Info=6]="Info",a[a.Admin=7]="Admin",a))(Ye||{});const nA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),Pv=a=>{const t=aA(a);return t.charAt(0).toUpperCase()+t.slice(1)},bw=(...a)=>a.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim(),sA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var iA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rA=E.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...m},p)=>E.createElement("svg",{ref:p,...iA,width:t,height:t,stroke:a,strokeWidth:i?Number(s)*24/Number(t):s,className:bw("lucide",c),...!u&&!sA(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,y])=>E.createElement(g,y)),...Array.isArray(u)?u:[u]]));const We=(a,t)=>{const s=E.forwardRef(({className:i,...c},u)=>E.createElement(rA,{ref:u,iconNode:t,className:bw(`lucide-${nA(Pv(a))}`,`lucide-${a}`,i),...c}));return s.displayName=Pv(a),s};const oA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lA=We("activity",oA);const cA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uA=We("arrow-right",cA);const dA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hA=We("check",dA);const fA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mA=We("chevron-down",fA);const pA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gA=We("chevron-up",pA);const yA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vA=We("circle-alert",yA);const xA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bl=We("circle-check-big",xA);const bA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hh=We("circle-x",bA);const wA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ww=We("clock",wA);const jA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SA=We("file-text",jA);const _A=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],NA=We("house",_A);const kA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EA=We("info",kA);const TA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AA=We("layout-dashboard",TA);const CA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rh=We("loader-circle",CA);const RA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lv=We("log-out",RA);const OA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fh=We("refresh-cw",OA);const DA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jw=We("search",DA);const MA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],UA=We("send",MA);const PA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LA=We("settings",PA);const BA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zl=We("shield-check",BA);const zA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VA=We("sparkles",zA);const qA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sw=We("user",qA);const HA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_w=We("users",HA);const FA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$A=We("x",FA),IA="pineroanthony2@gmail.com",GA="9ddd1796-86f1-4c39-81c2-9e7c4b64ceda";function $h(a){if(!a)return!1;const t=IA,s=GA;return a.email===t||a.id===s}async function Oi(){const{data:a}=await _e.auth.getSession();return{Authorization:`Bearer ${a?.session?.access_token||""}`}}async function Di(a,t){try{const i=await fetch(`http://localhost:3001${a}`,t);return i.ok?await i.json():null}catch{return null}}async function YA(){const a=await Oi(),t=await Di("/api/admin/metrics",{headers:a});if(t)return t;const s=await _e.from("transactions").select("amount_sent"),i=await _e.from("profiles").select("id"),c=await _e.from("verification_requests").select("id"),u=Array.isArray(s.data)?s.data.length:0,d=Array.isArray(s.data)?s.data.reduce((g,y)=>g+(Number(y.amount_sent)||0),0):0,m=Array.isArray(i.data)?i.data.length:0,p=Array.isArray(c.data)?c.data.length:0;return{totalTransactions:u,totalAmountSent:d,totalUsers:m,totalVerifications:p}}async function oh(){const a=await Oi(),t=await Di("/api/admin/users",{headers:a});if(t)return t;const{data:s}=await _e.from("profiles").select("*").order("created_at",{ascending:!1});return s||[]}async function KA(a,t){const s=await Oi();await Di(`/api/admin/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",...s},body:JSON.stringify(t)})===null&&await _e.from("profiles").update(t).eq("id",a)}async function XA(a){const t=await Oi();await Di(`/api/admin/users/${a}`,{method:"DELETE",headers:t})===null&&await _e.from("profiles").delete().eq("id",a)}async function Bv(){const a=await Oi(),t=await Di("/api/admin/settings",{headers:a});if(t)return t;const{data:s}=await _e.from("settings").select("*");return s||[]}async function WA(a){const t=await Oi();await Di("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(a)})===null&&await _e.from("settings").upsert(a,{onConflict:"key"})}const QA=({activeScreen:a,setActiveScreen:t,user:s})=>{const i=async()=>{await _e.auth.signOut()},c=[{id:Ye.Home,icon:NA,label:"Inicio"},{id:Ye.Calculator,icon:UA,label:"Enviar"},{id:Ye.Beneficiaries,icon:_w,label:"Contactos"},{id:Ye.History,icon:ww,label:"Historial"},{id:Ye.Profile,icon:Sw,label:"Perfil"},{id:Ye.Info,icon:EA,label:"Info"}];$h(s)&&c.push({id:Ye.Admin,icon:zl,label:"Admin"});const u=c.filter((d,m,p)=>m===p.findIndex(g=>g.label===d.label));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed bottom-6 left-6 right-6 md:hidden z-50",children:o.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-full shadow-xl border border-white/50 dark:border-slate-700 px-4 py-3 flex justify-between items-center overflow-x-auto no-scrollbar",children:[u.map(d=>o.jsx("button",{onClick:()=>d.action?d.action():t(d.id),className:`p-3 rounded-full transition-all duration-300 flex-shrink-0 ${a===d.id?"bg-primary text-white shadow-lg shadow-primary/30 scale-110":"text-slate-400 dark:text-slate-500 hover:text-primary hover:bg-primary/10"}`,children:o.jsx(d.icon,{size:20})},d.label)),o.jsx("button",{onClick:i,className:"p-3 rounded-full transition-all duration-300 flex-shrink-0 text-slate-400 dark:text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:o.jsx(Lv,{size:20})})]})}),o.jsxs("div",{className:"hidden md:flex flex-col fixed left-0 top-0 h-full w-24 bg-white dark:bg-slate-900 border-r border-slate-100 dark:border-slate-800 items-center py-8 z-50 transition-colors duration-300 justify-between",children:[o.jsxs("div",{className:"flex flex-col items-center w-full",children:[o.jsx("div",{className:"mb-12",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-primary to-warning rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"AM"})}),o.jsx("div",{className:"flex flex-col gap-6 w-full px-4",children:u.map(d=>o.jsxs("button",{onClick:()=>d.action?d.action():t(d.id),className:`p-3 rounded-2xl flex flex-col items-center gap-1 transition-all duration-300 group relative ${a===d.id?"bg-primary text-white shadow-lg shadow-primary/30":"text-slate-400 dark:text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[o.jsx(d.icon,{size:24,className:`transition-transform duration-300 ${a===d.id?"scale-110":"group-hover:scale-110"}`}),o.jsx("span",{className:"text-[10px] font-medium opacity-0 group-hover:opacity-100 transition-opacity absolute left-20 bg-slate-800 text-white px-2 py-1 rounded-lg whitespace-nowrap z-50 pointer-events-none",children:d.label})]},d.label))})]}),o.jsx("div",{className:"px-4 w-full",children:o.jsxs("button",{onClick:i,className:"p-3 rounded-2xl flex flex-col items-center gap-1 transition-all duration-300 group relative text-slate-400 dark:text-slate-500 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-500 w-full",children:[o.jsx(Lv,{size:24,className:"transition-transform duration-300 group-hover:scale-110"}),o.jsx("span",{className:"text-[10px] font-medium opacity-0 group-hover:opacity-100 transition-opacity absolute left-20 bg-slate-800 text-white px-2 py-1 rounded-lg whitespace-nowrap z-50 pointer-events-none",children:"Salir"})]})})]})]})};async function Nw(){try{const t=await fetch("http://localhost:3001/api/exchange/rates");if(!t.ok)throw new Error(`Error HTTP: ${t.status}`);const s=await t.json(),i={};Array.isArray(s)&&s.forEach(u=>{u.currency&&u.exchangeRateToUSD&&(i[u.currency]=u.exchangeRateToUSD)});const c={base:"USD",date:new Date().toISOString().split("T")[0],rates:i,timestamp:Date.now()};return console.log(" Exchange rates loaded from Backend"),c}catch(a){return console.error(" Error fetching exchange rates from backend:",a),null}}function JA(a,t,s,i,c=!0){if(!i||!i.rates)throw new Error("Exchange rates not available");const u=i.rates[t],d=i.rates[s];if(!u||!d)throw new Error(`Currency not supported: ${t} or ${s}`);let p=a/u*d;return c&&(p=p*(1-.005)),p}function ZA(a,t,s,i=!0){if(!s||!s.rates)return 0;const c=s.rates[a],u=s.rates[t];if(!c||!u)return 0;let d=u/c;return i&&(d=d*(1-.005)),d}async function eC(){return localStorage.removeItem("exchange_rates_cache"),Nw()}const kw=E.createContext(void 0),tC=({children:a})=>{const[t,s]=E.useState(null),[i,c]=E.useState(st),[u,d]=E.useState(!0),[m,p]=E.useState(null),[g,y]=E.useState(null),x=async()=>{try{d(!0),p(null);const _=await Nw();if(!_)throw new Error("No se pudieron obtener las tasas de cambio");s(_),y(new Date);const C=st.map(T=>({...T,exchangeRateToUSD:_.rates[T.currency]||T.exchangeRateToUSD}));c(C),console.log(" Tasas de cambio actualizadas:",_.date)}catch(_){console.error("Error cargando tasas:",_),p("Las tasas de cambio no estn disponibles. Usando valores de respaldo."),c(st)}finally{d(!1)}},b=async()=>{console.log(" Refrescando tasas de cambio...");const _=await eC();if(_){s(_),y(new Date);const C=st.map(T=>({...T,exchangeRateToUSD:_.rates[T.currency]||T.exchangeRateToUSD}));c(C),p(null)}};E.useEffect(()=>{x()},[]),E.useEffect(()=>{const _=setInterval(()=>{console.log(" Auto-refresh de tasas de cambio"),x()},36e5);return()=>clearInterval(_)},[]);const S={countriesWithLatestRates:i,liveRates:t,isLoading:u,error:m,lastUpdated:g,refreshRates:b,convertAmount:(_,C,T,A=!0)=>{if(!t){const V=st.find(M=>M.currency===C),z=st.find(M=>M.currency===T);if(V&&z){let $=_/V.exchangeRateToUSD*z.exchangeRateToUSD;return A&&($=$*(1-Uv)),$}return _}return JA(_,C,T,t,A)},getRate:(_,C,T=!0)=>{if(!t){const A=st.find(z=>z.currency===_),V=st.find(z=>z.currency===C);if(A&&V){let z=V.exchangeRateToUSD/A.exchangeRateToUSD;return T&&(z=z*(1-Uv)),z}return 0}return ZA(_,C,t,T)}};return o.jsx(kw.Provider,{value:S,children:a})},dc=()=>{const a=E.useContext(kw);if(a===void 0)throw new Error("useExchangeRates must be used within an ExchangeRateProvider");return a},nC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),wi=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Xr=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),aC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),hc=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Lf=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),zv=({label:a,countries:t,selectedCode:s,onSelect:i,variant:c="pill"})=>{const[u,d]=E.useState(!1),m=E.useRef(null),p=t.find(y=>y.code===s);E.useEffect(()=>{const y=x=>{m.current&&!m.current.contains(x.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g={default:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg py-3 px-4",pill:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800 px-4 py-2 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"};return o.jsxs("div",{className:"relative",ref:m,children:[a&&o.jsx("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-1 ml-1",children:a}),o.jsxs("button",{type:"button",onClick:()=>d(!u),className:`
                    ${g[c]}
                    flex items-center justify-between shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20
                `,children:[p?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{countryCode:p.code,className:"w-6 h-6 rounded-full object-cover shadow-sm"}),o.jsx("span",{className:"font-bold text-slate-700 dark:text-white",children:p.currency})]}):o.jsx("span",{className:"text-gray-400",children:"Seleccionar"}),o.jsx(xw,{className:`w-4 h-4 text-slate-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(qt,{children:u&&o.jsx(de.ul,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute z-50 mt-2 w-64 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl shadow-xl max-h-80 overflow-auto focus:outline-none p-2",children:t.map(y=>o.jsx("li",{children:o.jsxs("button",{type:"button",onClick:()=>{i(y.code),d(!1)},className:`w-full text-left px-4 py-3 flex items-center gap-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${s===y.code?"bg-primary/5 text-primary":"text-slate-700 dark:text-gray-200"}`,children:[o.jsx(Rt,{countryCode:y.code,className:"w-6 h-6 rounded-full object-cover shadow-sm"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-bold text-sm",children:y.name}),o.jsx("span",{className:"text-xs opacity-70",children:y.currency})]}),s===y.code&&o.jsx("span",{className:"ml-auto text-primary",children:""})]})},y.code))})})]})};class sC{log(t,s,...i){if(t==="error"){const u=`[${new Date().toISOString()}] [${t.toUpperCase()}]`;switch(t){case"info":console.log(u,s,...i);break;case"warn":console.warn(u,s,...i);break;case"error":console.error(u,s,...i);break}}}info(t,...s){this.log("info",t,...s)}warn(t,...s){this.log("warn",t,...s)}error(t,...s){this.log("error",t,...s)}debug(t,...s){this.log("debug",t,...s)}}const Ew=new sC,no=({children:a})=>o.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.43,.13,.23,.96]},children:a}),Cr=({currentStep:a,steps:t})=>o.jsx("div",{className:"w-full py-4 px-2",children:o.jsxs("div",{className:"relative flex items-center justify-between",children:[o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-full h-1 bg-slate-100 dark:bg-slate-700 rounded-full -z-10"}),o.jsx(de.div,{className:"absolute left-0 top-1/2 -translate-y-1/2 h-1 bg-primary rounded-full -z-10",initial:{width:"0%"},animate:{width:`${(a-1)/(t.length-1)*100}%`},transition:{duration:.3,ease:"easeInOut"}}),t.map((s,i)=>{const c=i+1,u=c===a,d=c<a;return o.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[o.jsx(de.div,{initial:!1,animate:{backgroundColor:u||d?"var(--color-primary)":"var(--color-bg-secondary)",scale:u?1.1:1,borderColor:u||d?"var(--color-primary)":"var(--color-border)"},className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors duration-300 ${u||d?"border-primary text-white":"border-slate-200 bg-white text-slate-400 dark:border-slate-600 dark:bg-slate-800"}`,children:d?o.jsx(hA,{size:16,strokeWidth:3}):o.jsx("span",{className:"text-xs font-bold",children:c})}),o.jsx("span",{className:`absolute top-10 text-[10px] font-bold uppercase tracking-wider whitespace-nowrap transition-colors duration-300 ${u?"text-primary":d?"text-slate-600 dark:text-slate-400":"text-slate-300 dark:text-slate-600"}`,children:s})]},s)})]})}),hi={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"spring",stiffness:300,damping:30}},iC=({details:a,onConfirm:t,onClose:s})=>{const{countriesWithLatestRates:i}=dc(),c=({label:p,value:g,isBold:y=!1})=>o.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border/50 last:border-0",children:[o.jsx("span",{className:"text-sm text-text-secondary",children:p}),o.jsx("span",{className:`text-sm text-text-primary ${y?"font-bold":"font-medium"}`,children:g})]}),[u,d]=Ma.useState(!1),m=async()=>{u||(d(!0),await t(),d(!1))};return o.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",onClick:s,children:o.jsx(de.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},onClick:p=>p.stopPropagation(),className:"w-full max-w-md",children:o.jsxs(Ve,{variant:"default",padding:"none",className:"overflow-hidden",children:[o.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-border bg-bg-secondary/50 dark:bg-slate-800/50 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-bold text-text-primary dark:text-white",children:"Confirmar Envo"}),o.jsx("button",{onClick:s,className:"p-2 rounded-full text-text-secondary hover:bg-bg-tertiary transition-colors",children:o.jsx(hc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 p-4 rounded-2xl flex items-center justify-between border border-primary/10 dark:border-primary/20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rt,{countryCode:a.fromCountryCode,className:"w-8 h-8 rounded-full shadow-sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-secondary font-medium uppercase tracking-wider",children:"Envas"}),o.jsxs("p",{className:"font-bold text-lg text-text-primary",children:[parseFloat(a.amount).toLocaleString("en-US",{minimumFractionDigits:2})," ",a.fromCurrency]})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-full shadow-sm",children:o.jsx(Lf,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex items-center gap-3 text-right",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-text-secondary font-medium uppercase tracking-wider",children:"Reciben"}),o.jsxs("p",{className:"font-bold text-lg text-accent-dark",children:[a.receivedAmount.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.receivedCurrency]})]}),o.jsx(Rt,{countryCode:a.toCountryCode,className:"w-8 h-8 rounded-full shadow-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(c,{label:"Comisin",value:`${a.fee.toFixed(2)} ${a.fromCurrency}`}),o.jsx(c,{label:"Total a pagar",value:`${a.total.toFixed(2)} ${a.fromCurrency}`,isBold:!0})]})]}),o.jsxs("footer",{className:"p-4 bg-bg-secondary/30 dark:bg-slate-800/30 flex gap-3",children:[o.jsx(be,{variant:"ghost",onClick:s,disabled:u,className:"flex-1",children:"Cancelar"}),o.jsx(be,{variant:"primary",onClick:()=>{Ew.debug("Confirmar clicked"),m()},isLoading:u,className:"flex-1",children:"Confirmar Envo"})]})]})})})},rC=E.forwardRef(({user:a,setActiveScreen:t,prefillData:s,onClearPrefill:i},c)=>{const{countriesWithLatestRates:u,isLoading:d,getRate:m}=dc(),[p,g]=E.useState(1),[y,x]=E.useState(!1),[b,w]=E.useState(""),[N,S]=E.useState(""),[_,C]=E.useState(""),T=E.useRef(null),[A,V]=E.useState(""),[z,M]=E.useState(""),[$,X]=E.useState(""),[Y,ne]=E.useState(""),[pe,Ae]=E.useState(!1),[Ze,it]=E.useState(!1),[De,H]=E.useState({}),[W,J]=E.useState(null),[ve,we]=E.useState(null),[O,B]=E.useState(!1),[K,Q]=E.useState(null),[re,fe]=E.useState(""),Ee=E.useCallback(()=>{if(g(1),u.length>0){const se=u.find(oe=>oe.code==="US")||u[0],he=u.find(oe=>oe.code==="VE")||u[1]||u[0];S(se.code),C(he.code),w(String(se.minimumSendAmount*2))}V(""),M(""),X(""),ne(""),we(null),Q(null),fe(""),H({}),x(!1),J(null),i(),setTimeout(()=>{T.current?.focus(),T.current?.select()},50)},[u,i]);E.useEffect(()=>{if(u.length>0&&!N&&!_){const se=u.find(oe=>oe.code==="US")||u[0],he=u.find(oe=>oe.code==="VE")||u[1]||u[0];S(se.code),C(he.code),w(String(se.minimumSendAmount*2))}},[u,N,_]),E.useEffect(()=>{if(s){if(w(""),we(null),Q(null),fe(""),H({}),x(!1),J(null),C(s.country_code),V(s.name),M(s.bank),X(s.account_number),ne(s.document_id),Ae(!1),!N){const se=u.find(he=>he.code==="US")||u[0];S(se.code)}g(1),setTimeout(()=>{T.current?.focus(),T.current?.select()},100),i()}},[s,i,u,N]),E.useEffect(()=>{if(!N||u.length===0||s)return;const se=u.find(he=>he.code===N);if(se)if(se.currency==="USD")w("100");else{const he=100*se.exchangeRateToUSD;let oe;he>1e4?oe=Math.round(he/1e3)*1e3:he>100?oe=Math.round(he/10)*10:oe=Math.round(he),w(String(oe))}},[N,u,s]);const $e=se=>parseFloat(se.replace(/,/g,""))||0,He=se=>{const oe=se.replace(/[^\d.]/g,"").split(".");return oe[0]=oe[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),oe.slice(0,2).join(".")},en=E.useMemo(()=>{const se=$e(b);if(!N||!_||se<=0)return{fee:0,total:0,fromCurrency:"",receivedAmount:0,receivedCurrency:"",exchangeRateText:"",arrivalTime:""};const he=u.find(En=>En.code===N),oe=u.find(En=>En.code===_);if(!he||!oe)return null;const xe=se*Vh,et=se+xe,ws=(he.currency==="USD"?se:se/he.exchangeRateToUSD)*oe.exchangeRateToUSD,js=m(he.currency,oe.currency,!0),Ln=`1 ${he.currency}  ${js.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})} ${oe.currency}`,nn=oe.region==="LatAm"?"Instantneo":"2 das hbiles";return{fee:xe,total:et,fromCurrency:he.currency,receivedAmount:ws,receivedCurrency:oe.currency,exchangeRateText:Ln,arrivalTime:nn}},[N,_,b,u,m]),tn=se=>{const{name:he,value:oe}=se.target;switch(he){case"amount":w(He(oe)),De.amount&&H(xe=>({...xe,amount:void 0}));break;case"recipientName":V(oe),De.recipientName&&H(xe=>({...xe,recipientName:void 0}));break;case"recipientBank":M(oe),De.recipientBank&&H(xe=>({...xe,recipientBank:void 0}));break;case"recipientAccount":X(oe),De.recipientAccount&&H(xe=>({...xe,recipientAccount:void 0}));break;case"recipientId":ne(oe),De.recipientId&&H(xe=>({...xe,recipientId:void 0}));break}},{fee:Pn=0,total:ra=0,fromCurrency:mt="USD",receivedAmount:Nn=0,receivedCurrency:kn="USD",exchangeRateText:zf="",arrivalTime:ao=""}=en||{},qa=(se,he)=>{if(!he||he.trim()==="")switch(se){case"recipientName":return"Nombre es requerido";case"recipientAccount":return"Cuenta es requerida";case"recipientId":return"Documento es requerido";default:return}},Mi=()=>{if(!b||parseFloat(b)<=0){H(se=>({...se,amount:"Monto invlido"}));return}g(2)},Ui=async()=>{if(ve){B(!0);try{const{data:{session:se}}=await _e.auth.getSession();if(!se)throw new Error("No hay sesin activa");const he=new FormData;he.append("file",ve);const xe=await fetch("http://localhost:3001/api/upload",{method:"POST",headers:{Authorization:`Bearer ${se.access_token}`},body:he});if(!xe.ok){const xt=await xe.json().catch(()=>({}));throw new Error(xt.error||"Error uploading file")}const et=await xe.json();Q(et.publicUrl),g(4),x(!0)}catch(se){console.error("Upload error:",se),alert("Error subiendo comprobante: "+(se.message||"Error desconocido"))}finally{B(!1)}}},pc=async()=>{Ew.info("handleConfirmSend called"),it(!0),J(null);try{const{data:{session:se}}=await _e.auth.getSession();if(!se)throw new Error("No hay sesin activa");const oe=await fetch("http://localhost:3001/api/remittances/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se.access_token}`},body:JSON.stringify({userId:a.id,amountSent:b,currencySent:mt,amountReceived:Nn,currencyReceived:kn,fee:Pn,fromCountryCode:N,toCountryCode:_,recipientName:A,recipientBank:z,recipientAccount:$,recipientId:Y,receiptUrl:K})});if(!oe.ok){const et=await oe.json().catch(()=>({})),xt=et.message||et.error||"Error al enviar la remesa";throw alert(xt),new Error(xt)}const xe=await oe.json();fe(xe.transaction_id),x(!1),g(5)}catch(se){console.error("handleConfirmSend error:",se);const he=se instanceof Error?se.message:"Error inesperado";J(he),he.includes("mnimo")||(x(!1),g(6))}finally{it(!1)}},gc=()=>{const se=N;S(_),C(se),w("")},Et=se=>he=>{se(he),setTimeout(()=>T.current?.focus(),50)},yc=()=>{Ee()};if(E.useImperativeHandle(c,()=>({resetCalculator:Ee}),[Ee]),u.length===0||d)return o.jsx(Ve,{className:"flex items-center justify-center p-12",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 text-text-secondary",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),o.jsx("p",{children:"Cargando tasas de cambio..."})]})});const so=()=>{const se=["VE","BR","CO","PE","US"],he=u.filter(xe=>se.includes(xe.code)||xe.region==="Europe"),oe=["Monto","Beneficiario","Pago","Confirmacin"];return o.jsxs(de.div,{...hi,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t(Ye.Home),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Enviar Dinero"})]}),o.jsx(Cr,{currentStep:1,steps:oe})]}),o.jsxs("div",{className:"bg-slate-800 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-accent/20 rounded-full blur-2xl"}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse"}),o.jsx("span",{className:"text-accent text-sm font-bold tracking-wide",children:"TASA EN TIEMPO REAL"})]}),o.jsxs("div",{className:"flex justify-between items-end relative z-10",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-slate-400 text-sm",children:["1 ",mt," equivale a"]}),o.jsxs("p",{className:"text-3xl font-bold mt-1",children:[m(mt,kn).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})," ",kn]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-secondary text-sm font-medium flex items-center gap-1",children:[o.jsx(Xr,{className:"w-4 h-4"}),"Mejor tasa garantizada"]})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-2 shadow-sm border border-slate-100 dark:border-slate-700",children:[o.jsx("div",{className:"p-6 pb-2",children:o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx(zv,{countries:he,selectedCode:N,onSelect:Et(S),variant:"pill"}),o.jsx(gn,{ref:T,label:"T envas",name:"amount",value:b,onChange:tn,error:De.amount,placeholder:"0.00",autoComplete:"off",variant:"big"})]})}),o.jsx("div",{className:"relative h-px bg-slate-100 dark:bg-slate-700 my-2 mx-6",children:o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-slate-800 p-2 rounded-full border border-slate-100 dark:border-slate-700 text-secondary shadow-sm cursor-pointer hover:scale-110 transition-transform",onClick:gc,children:o.jsx(nC,{className:"w-5 h-5"})})}),o.jsx("div",{className:"p-6 pt-2",children:o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx(zv,{countries:u.filter(xe=>xe.code!==N),selectedCode:_,onSelect:Et(C),variant:"pill"}),o.jsxs("div",{className:"w-full flex flex-col",children:[o.jsx("span",{className:"block text-slate-400 text-sm font-bold uppercase tracking-wider ml-1 mb-1",children:"Ellos reciben"}),o.jsx("div",{className:"text-4xl font-extrabold text-accent text-right px-0 py-2",children:Nn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"flex items-center gap-2 text-sm",children:"Comisin de servicio"}),o.jsxs("span",{className:"font-bold",children:[Pn.toFixed(2)," ",mt]})]}),o.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"text-sm",children:"Total a pagar"}),o.jsxs("span",{className:"font-bold",children:[ra.toFixed(2)," ",mt]})]}),o.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-2"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:"Tiempo de entrega"}),o.jsxs("span",{className:"font-bold text-accent bg-accent/10 px-3 py-1 rounded-full text-xs",children:[" ",ao]})]})]}),o.jsxs("div",{className:"pt-4",children:[o.jsx(be,{onClick:Mi,disabled:!a.isVerified||!!De.amount||$e(b)<=0||$e(b)<(u.find(xe=>xe.code===N)?.minimumSendAmount||0),size:"lg",className:"w-full py-6 text-xl shadow-xl shadow-primary/30",children:a.isVerified?"Continuar con el Envo":"Verificacin Requerida"}),$e(b)>0&&$e(b)<(u.find(xe=>xe.code===N)?.minimumSendAmount||0)&&o.jsxs("p",{className:"text-error text-sm text-center font-medium mt-2",children:[" El monto mnimo es ",u.find(xe=>xe.code===N)?.minimumSendAmount.toLocaleString()," ",mt]}),!a.isVerified&&o.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-warning/10 text-warning-dark text-sm flex items-center gap-4 border border-warning/20",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-bold",children:"Verificacin Requerida"}),o.jsx("p",{children:"Debes verificar tu perfil para poder enviar dinero."})]}),o.jsx(be,{variant:"secondary",size:"sm",onClick:()=>t(Ye.Profile),children:"Verificar"})]})]})]},"step1")},io=()=>{const he=u.find(xt=>xt.code===_)?.banks||[],oe=A&&z&&$&&Y,xe=["Monto","Beneficiario","Pago","Confirmacin"],et=xt=>{xt.preventDefault();const ws=qa("recipientName",A),js=qa("recipientAccount",$),Ln=qa("recipientId",Y),nn={};ws&&(nn.recipientName=ws),js&&(nn.recipientAccount=js),Ln&&(nn.recipientId=Ln),H(En=>({...En,...nn})),!(Object.keys(nn).length>0)&&oe&&g(3)};return o.jsxs(de.form,{...hi,onSubmit:et,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:()=>g(1),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Datos del Beneficiario"})]}),o.jsx(Cr,{currentStep:2,steps:xe})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-6",children:[o.jsx(gn,{label:"Nombre Completo",name:"recipientName",value:A,onChange:tn,error:De.recipientName,autoComplete:"name",variant:"clean"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary ml-1",children:"Banco del Beneficiario"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{name:"recipientBank",value:z,onChange:tn,className:"w-full px-4 py-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-700 rounded-xl appearance-none focus:outline-none focus:border-primary transition-colors text-slate-800 dark:text-white",children:[o.jsx("option",{value:"",disabled:!0,children:"Selecciona un banco"}),he.map(xt=>o.jsx("option",{value:xt.name,children:xt.name},xt.name))]}),o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-text-secondary",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx(gn,{label:"Nmero de Cuenta",name:"recipientAccount",value:$,onChange:tn,error:De.recipientAccount,autoComplete:"off",variant:"clean"}),o.jsx(gn,{label:"Documento de Identidad",name:"recipientId",value:Y,onChange:tn,error:De.recipientId,autoComplete:"off",variant:"clean"}),o.jsxs("div",{className:"flex items-center pt-2",children:[o.jsx("input",{type:"checkbox",id:"saveBeneficiary",checked:pe,onChange:xt=>Ae(xt.target.checked),className:"h-5 w-5 text-primary focus:ring-primary border-border rounded transition-colors"}),o.jsx("label",{htmlFor:"saveBeneficiary",className:"ml-3 block text-sm font-medium text-text-primary",children:"Guardar como beneficiario frecuente"})]}),o.jsx(be,{type:"submit",size:"lg",className:"w-full mt-4",children:"Continuar al Pago"})]})]},"step2")},bs=()=>{const se=["Monto","Beneficiario","Pago","Confirmacin"];return o.jsxs(de.div,{...hi,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:()=>g(2),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Instrucciones de Pago"})]}),o.jsx(Cr,{currentStep:3,steps:se})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-8",children:[o.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-6 rounded-2xl border border-secondary/20 dark:border-secondary/30",children:[o.jsx("h3",{className:"font-bold text-secondary-dark dark:text-secondary-light mb-4 text-lg",children:"Cuenta Bancaria (BCP)"}),o.jsxs("div",{className:"space-y-2 text-text-primary dark:text-white",children:[o.jsxs("p",{children:["Titular: ",o.jsx("span",{className:"font-semibold",children:"Remesas A&M SAC"})]}),o.jsxs("p",{children:["Cuenta: ",o.jsx("span",{className:"font-mono font-semibold bg-white/50 dark:bg-black/20 px-2 py-1 rounded",children:"193-12345678-0-01"})]}),o.jsxs("p",{children:["CCI: ",o.jsx("span",{className:"font-mono font-semibold bg-white/50 dark:bg-black/20 px-2 py-1 rounded",children:"002-193-0012345678001-14"})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-secondary/20 dark:border-secondary/30",children:o.jsxs("p",{className:"text-xl font-bold text-text-primary dark:text-white",children:["Monto a pagar: ",o.jsxs("span",{className:"text-secondary-dark dark:text-secondary-light",children:[ra.toFixed(2)," ",mt]})]})})]}),o.jsx(be,{onClick:()=>g(4),size:"lg",className:"w-full py-6 text-xl shadow-xl shadow-primary/30",children:"Continuar"})]})]},"step3")},vc=()=>{const se=["Monto","Beneficiario","Pago","Confirmacin"];return o.jsxs(de.div,{...hi,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:()=>g(3),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Subir Comprobante"})]}),o.jsx(Cr,{currentStep:4,steps:se})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-6",children:[o.jsxs("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-8 text-center hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer relative group",children:[o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:he=>we(he.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:ve?ve.name:"Haz clic o arrastra tu comprobante aqu"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Soporta JPG, PNG o PDF"})]})]})]}),o.jsx(be,{onClick:Ui,disabled:!ve||O,isLoading:O,size:"lg",className:"w-full",children:O?"Subiendo...":"Verificar y Enviar"})]})]},"step4")},ro=()=>{const se=["Monto","Beneficiario","Pago","Confirmacin"];return o.jsxs(de.div,{...hi,className:"space-y-6 text-center py-8",children:[o.jsx("div",{className:"space-y-6 mb-8",children:o.jsx(Cr,{currentStep:4,steps:se})}),o.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Xr,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),o.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"Envo Exitoso!"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-md mx-auto mb-8",children:"Tu transaccin ha sido registrada correctamente. Te notificaremos cuando el dinero sea depositado."}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl max-w-sm mx-auto mb-8 border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"ID de Transaccin"}),o.jsx("p",{className:"font-mono font-bold text-lg text-slate-800 dark:text-white tracking-wider",children:re})]}),o.jsxs("div",{className:"flex flex-col gap-3 max-w-xs mx-auto",children:[o.jsx(be,{onClick:yc,size:"lg",className:"w-full",children:"Realizar otro envo"}),o.jsx(be,{variant:"secondary",onClick:()=>t(Ye.History),className:"w-full",children:"Ver historial"})]})]},"step5")},xc=()=>o.jsxs(de.div,{...hi,className:"space-y-6 text-center py-8",children:[o.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(aC,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),o.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"Error en el Envo"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-md mx-auto mb-8",children:W||"Hubo un problema al procesar tu solicitud. Por favor intenta nuevamente."}),o.jsxs("div",{className:"flex flex-col gap-3 max-w-xs mx-auto",children:[o.jsx(be,{onClick:()=>g(3),size:"lg",className:"w-full",children:"Intentar nuevamente"}),o.jsx(be,{variant:"secondary",onClick:()=>t(Ye.Home),className:"w-full",children:"Volver al inicio"})]})]},"step6");return o.jsxs(no,{children:[o.jsxs(qt,{mode:"wait",children:[p===1&&so(),p===2&&io(),p===3&&bs(),p===4&&vc(),p===5&&ro(),p===6&&xc()]}),o.jsx(qt,{children:y&&o.jsx(iC,{details:{amount:b,fee:Pn,total:ra,fromCurrency:mt,receivedAmount:Nn,receivedCurrency:kn,fromCountryCode:N,toCountryCode:_},onConfirm:pc,onClose:()=>x(!1)})})]})}),oC=({children:a,className:t=""})=>o.jsx("div",{className:`bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-lg p-6 md:p-8 ${t}`,children:a}),fc=({className:a="w-5 h-5 border-white"})=>o.jsx("div",{className:`animate-spin rounded-full border-2 border-t-transparent ${a}`,role:"status","aria-live":"polite","aria-label":"Cargando"}),lC=a=>{switch(a){case"WLD":return"WLD";case"PAYPAL":return"USD";case"USDC":return"USDC";default:return""}},cC=()=>{const[a,t]=E.useState("WLD"),[s,i]=E.useState(""),[c,u]=E.useState(!1),d=parseFloat(s)||0;let m=0,p=0,g="";d<0?g="La cantidad no puede ser negativa.":a==="WLD"?(d>0&&d<Zl&&(g=`Mnimo de ${Zl} WLD.`),m=d*.1,p=d-m):a==="PAYPAL"?(m=d*Jl,p=d-m):a==="USDC"&&(d>0&&d<ec&&(g=`Mnimo de ${ec} USDC.`),m=d*tc,p=d-m);const y=async()=>{g||d<=0||(u(!0),await new Promise(b=>setTimeout(b,1500)),console.log("Intercambio enviado por",d,a),u(!1))},x=lC(a);return o.jsxs(oC,{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Intercambiar Crypto y Saldo"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Convierte tus activos digitales a moneda local."}),o.jsxs("div",{className:"grid grid-cols-3 bg-gray-200 dark:bg-gray-700/80 p-1 rounded-lg mb-6",children:[o.jsx("button",{onClick:()=>{t("WLD"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="WLD"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"Worldcoin (WLD)"}),o.jsx("button",{onClick:()=>{t("PAYPAL"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="PAYPAL"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"PayPal"}),o.jsx("button",{onClick:()=>{t("USDC"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="USDC"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"USDC"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"crypto-amount",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Cantidad a intercambiar"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",id:"crypto-amount",autoComplete:"off",value:s,onChange:b=>i(b.target.value),className:`w-full bg-gray-100 dark:bg-gray-700 border rounded-md py-3 pl-4 pr-16 text-gray-800 dark:text-white text-lg font-semibold transition-colors ${g?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"0.00"}),o.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-gray-500 dark:text-gray-400 font-bold",children:x})]}),g&&o.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:g})]}),o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900/50 p-4 rounded-lg space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comisin:"}),o.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[m>0?m.toFixed(2):"0.00"," ",a==="PAYPAL"?"USD":x]})]}),o.jsx("hr",{className:"border-gray-300 dark:border-gray-700"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:"Recibirs (aprox):"}),o.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400 text-xl",children:[p>0?p.toFixed(2):"0.00"," USD"]})]})]}),o.jsx("button",{onClick:y,disabled:!!g||d<=0||c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-4 rounded-lg transition-colors duration-300 text-lg disabled:bg-green-400 dark:disabled:bg-green-800/50 disabled:cursor-wait flex items-center justify-center",children:c?o.jsxs(o.Fragment,{children:[o.jsx(fc,{className:"w-6 h-6 mr-3"}),o.jsx("span",{children:"Procesando..."})]}):"Iniciar Intercambio"}),o.jsx("p",{className:"text-center text-xs text-gray-400 dark:text-gray-500",children:a==="WLD"?"La tasa de cambio WLD a USD es variable.":a==="PAYPAL"?`La comisin de PayPal es del ${Jl*100}%.`:`La comisin de USDC es del ${tc*100}%.`})]})]})},uC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),dC=({className:a})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),hC=({onCapture:a,onClose:t})=>{const[s,i]=E.useState(null),[c,u]=E.useState(null),d=E.useRef(null),m=E.useRef(null);E.useEffect(()=>{let g=null;return(async()=>{try{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(g=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}),i(g),d.current&&(d.current.srcObject=g)):u("Tu navegador no soporta el acceso a la cmara.")}catch(x){console.error("Error accessing camera:",x),u("No se pudo acceder a la cmara. Revisa los permisos.")}})(),()=>{g&&g.getTracks().forEach(x=>x.stop())}},[]);const p=()=>{if(!d.current||!m.current||!s)return;const g=d.current,y=m.current;y.width=g.videoWidth,y.height=g.videoHeight;const x=y.getContext("2d");x&&(x.drawImage(g,0,0,y.width,y.height),y.toBlob(b=>{if(b){const w=new File([b],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});a(w),t()}},"image/jpeg"))};return o.jsx(qt,{children:o.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs(de.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-xl overflow-hidden",onClick:g=>g.stopPropagation(),children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Capturar Foto"})}),o.jsxs("div",{className:"p-4",children:[c?o.jsxs("div",{className:"text-center text-red-500 bg-red-100 dark:bg-red-900/50 p-4 rounded-lg",children:[o.jsx("p",{className:"font-bold",children:"Error de Cmara"}),o.jsx("p",{children:c})]}):o.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:[o.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),!s&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:o.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-t-white border-gray-400/50 animate-spin"})})]}),o.jsx("canvas",{ref:m,style:{display:"none"}})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center gap-4",children:[o.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-300 font-medium py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:p,disabled:!s||!!c,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Capturar"})]})]})})})},fC=a=>{const t="Ocurri un error inesperado. Revisa la calidad de tus imgenes y tu conexin e intntalo de nuevo.";if(!a)return t;if(typeof a=="string")return a;if(a instanceof Error)return a.message;if(typeof a=="object"){const s=a;if(s.response?.data?.error?.message)return s.response.data.error.message;if(s.error?.message)return s.error.message;if(s.message)return String(s.message)}return t},mC=({user:a,onProfileUpdate:t})=>{const[s,i]=E.useState(0),[c,u]=E.useState({fullName:a.fullName||"",country:st[0].code,documentId:"",address:"",phone:a.phone||""}),[d,m]=E.useState({id:null,address:null,selfie:null}),[p,g]=E.useState({id:null,address:null,selfie:null}),[y,x]=E.useState(null),[b,w]=E.useState(!1),[N,S]=E.useState(!1),[_,C]=E.useState(a.phone||""),[T,A]=E.useState(!1),[V,z]=E.useState(null),[M,$]=E.useState(null),[X,Y]=E.useState("not_started"),[ne,pe]=E.useState(null);E.useEffect(()=>{Ae()},[a.id]),E.useEffect(()=>{Ze()},[a.isVerified,a.id]);const Ae=async()=>{try{const K=await fetch(`http://localhost:3001/api/kyc/status/${a.id}`);if(!K.ok)return;const Q=await K.json();Q.status&&Q.status!=="not_started"&&(pe(Q),Y(Q.status))}catch(B){console.error("Error fetching verification status:",B)}},Ze=async()=>{if(a.isVerified)try{const K=await fetch(`http://localhost:3001/api/kyc/status/${a.id}`);if(!K.ok)throw new Error("Error fetching country");const Q=await K.json();if(Q.status&&Q.status!=="not_started"){const re=st.find(fe=>fe.code===Q.country)?.name;$(re||Q.country||"No disponible")}}catch{$("No disponible")}},it=B=>{const{name:K,value:Q}=B.target;u(re=>({...re,[K]:Q}))},De=B=>{u(K=>({...K,phone:B}))},H=B=>{B.preventDefault(),i(2)},W=(B,K,Q)=>{m(re=>({...re,[B]:K})),g(re=>({...re,[B]:Q}))},J=B=>{m(K=>({...K,[B]:null})),g(K=>({...K,[B]:null}))},ve=async()=>{A(!0),z(null);try{await t({phone:_}),z({type:"success",text:"Guardado!"}),setTimeout(()=>z(null),3e3),S(!1)}catch{z({type:"error",text:"Error al guardar."})}finally{A(!1)}},we=async()=>{if(x(null),i(3),!p.id||!p.address||!p.selfie){x("Por favor, sube todos los documentos requeridos."),i(2);return}try{const B=async(en,tn)=>{const Pn=en.name.split(".").pop(),ra=`${Math.random().toString(36).substring(2,15)}.${Pn}`,mt=`${a.id}/${tn}/${ra}`,{error:Nn}=await _e.storage.from("user-documents").upload(mt,en,{cacheControl:"3600",upsert:!1});if(Nn)throw Nn;const{data:{publicUrl:kn}}=_e.storage.from("user-documents").getPublicUrl(mt);return kn},[K,Q,re]=await Promise.all([B(p.id,"id"),B(p.address,"address"),B(p.selfie,"selfie")]),{data:{session:fe}}=await _e.auth.getSession();if(!fe)throw new Error("No hay sesin activa");const $e=await fetch("http://localhost:3001/api/kyc/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fe.access_token}`},body:JSON.stringify({fullName:c.fullName,country:c.country,documentId:c.documentId,address:c.address,phone:c.phone,docUrls:{id:K,address:Q,selfie:re}})});if(!$e.ok){const en=await $e.json();throw new Error(en.message||"Error en la verificacin")}const He=await $e.json();He.status==="approved"?(await t({isVerified:!0,phone:c.phone,fullName:c.fullName}),Y("approved")):(Y("pending"),pe({status:"pending",created_at:new Date().toISOString(),ai_confidence:He.aiConfidence}),await t({phone:c.phone,fullName:c.fullName}),i(0))}catch(B){console.error("KYC Verification Error:",B);const K=fC(B),Q=K.toLowerCase();Q.includes("no se pudo procesar la imagen")||Q.includes("unable to process")?(alert(` Foto no legible

Asegrate de:
 Buena iluminacin
 Sin reflejos
 Documento completo en la foto
 Enfocada y ntida`),x("La imagen no es legible. Por favor, intenta de nuevo siguiendo las recomendaciones.")):Q.includes("api key")||Q.includes("authentication")?(x("El servicio de verificacin no est disponible por un problema de configuracin. Por favor, contacta al soporte."),w(!0)):x(K),i(2)}},O=()=>{if(a.isVerified)return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center gap-6 p-6 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg shadow-primary/20 ring-4 ring-white dark:ring-slate-800",children:a.fullName?.charAt(0)||a.email.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:a.fullName||"Usuario"}),o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 text-xs font-bold uppercase tracking-wide border border-teal-100 dark:border-teal-900/50",children:[o.jsx(Xr,{className:"w-3.5 h-3.5"}),"Verificado"]})]}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:a.email})]})]}),o.jsx(Vv,{}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white border-b border-slate-100 dark:border-slate-700 pb-4",children:"Informacin Personal"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider",children:"Nombre Completo"}),o.jsx("p",{className:"font-medium text-lg text-slate-800 dark:text-white",children:a.fullName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider",children:"Correo Electrnico"}),o.jsx("p",{className:"font-medium text-lg text-slate-800 dark:text-white",children:a.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider",children:"Pas de Residencia"}),o.jsx("p",{className:"font-medium text-lg text-slate-800 dark:text-white",children:M||"Cargando..."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider",children:"Nmero de Telfono"}),N?o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(qh,{value:_,onChange:C,className:"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700 rounded-xl"}),o.jsx(be,{size:"sm",onClick:ve,disabled:T||_===(a.phone||""),isLoading:T,children:"Guardar"}),o.jsx(be,{size:"sm",variant:"ghost",onClick:()=>{S(!1),C(a.phone||""),z(null)},children:"Cancelar"})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"font-medium text-lg text-slate-800 dark:text-white",children:_||"No establecido"}),o.jsx("button",{onClick:()=>S(!0),className:"text-sm font-bold text-primary hover:text-primary-dark transition-colors",children:"Editar"})]}),V&&o.jsx("p",{className:`text-xs mt-1 ${V.type==="success"?"text-green-600":"text-red-600"}`,children:V.text})]})]})]})]});switch(s){case 0:return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-3xl flex items-center justify-center mx-auto mb-6 transform rotate-3",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Verificacin de Identidad"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto text-lg",children:"Completa tu perfil para desbloquear todas las funciones y aumentar tus lmites."})]}),o.jsx(Vv,{onStart:()=>i(1),status:X,data:ne})]});case 1:return o.jsxs("form",{onSubmit:H,className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("button",{type:"button",onClick:()=>i(0),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Datos Personales"}),o.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Paso 1 de 2"})]})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-6",children:[o.jsx(gn,{label:"Nombre Completo",name:"fullName",value:c.fullName,onChange:it,autoComplete:"name",required:!0,variant:"clean"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 ml-1",children:"Pas de Residencia"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{name:"country",value:c.country,onChange:it,required:!0,autoComplete:"country-name",className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl appearance-none focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all font-medium text-slate-800 dark:text-white",children:st.map(B=>o.jsx("option",{value:B.code,children:B.name},B.code))}),o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx(gn,{label:"Documento de Identidad (ID)",name:"documentId",value:c.documentId,onChange:it,required:!0,placeholder:"Nmero de documento",variant:"clean"}),o.jsx(gn,{label:"Direccin",name:"address",value:c.address,onChange:it,autoComplete:"street-address",required:!0,variant:"clean"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 ml-1",children:"Nmero de Telfono"}),o.jsx(qh,{value:c.phone,onChange:De,className:"bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-700 rounded-xl",autoComplete:"tel",required:!0})]}),o.jsx(be,{type:"submit",size:"lg",className:"w-full mt-6 py-4 text-lg shadow-xl shadow-primary/30",disabled:!c.documentId||!c.address||!c.fullName||!c.phone,children:"Continuar"})]})]});case 2:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("button",{onClick:()=>i(1),className:"p-3 bg-white dark:bg-slate-800 rounded-full border border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm group",children:o.jsx(wi,{className:"w-6 h-6 text-slate-600 dark:text-slate-400 group-hover:text-primary transition-colors"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Documentos"}),o.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Paso 2 de 2"})]})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"space-y-6",children:[o.jsx(lh,{title:"Documento de Identidad",description:"Sube o toma una foto clara de tu DNI o pasaporte.",tooltipText:"Asegrate de que la foto tenga buena iluminacin, sin brillos, y que todo el texto y la foto sean claramente visibles.",userId:a.id,isUploaded:!!d.id,onUploadSuccess:(B,K)=>W("id",B,K),onRemove:()=>J("id")}),o.jsx(lh,{title:"Comprobante de Domicilio",description:"Una factura de servicio o estado de cuenta reciente.",tooltipText:"Debe ser un documento reciente (ltimos 3 meses) donde tu nombre y direccin sean legibles.",userId:a.id,isUploaded:!!d.address,onUploadSuccess:(B,K)=>W("address",B,K),onRemove:()=>J("address")}),o.jsx(lh,{title:"Selfie",description:"Toma una foto clara de tu rostro.",tooltipText:"Tmate la foto en un lugar bien iluminado, sin gafas ni sombreros.",userId:a.id,isUploaded:!!d.selfie,onUploadSuccess:(B,K)=>W("selfie",B,K),onRemove:()=>J("selfie")}),y&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl text-red-600 dark:text-red-400 text-center font-medium border border-red-100 dark:border-red-900/30",children:y}),o.jsx(be,{onClick:we,size:"lg",className:"w-full mt-6 py-4 text-lg shadow-xl shadow-primary/30",disabled:!d.id||!d.address||!d.selfie||b,children:"Enviar Verificacin"})]})]});case 3:return o.jsxs(Ve,{className:"text-center py-16 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-8"}),o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Verificando con IA"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto",children:"Estamos analizando tus documentos y biometra para verificar tu identidad. Esto solo tomar unos segundos."})]})}};return o.jsx(no,{children:o.jsx("div",{className:"max-w-3xl mx-auto",children:O()})})},Vv=({onStart:a,status:t,data:s})=>{const i=!a,c=t==="pending",u=t==="rejected",d=i?{bg:"bg-teal-50 dark:bg-teal-900/10",border:"border-teal-100 dark:border-teal-900/30",icon:"text-teal-600 dark:text-teal-400",title:"text-teal-800 dark:text-teal-300"}:c?{bg:"bg-amber-50 dark:bg-amber-900/10",border:"border-amber-100 dark:border-amber-900/30",icon:"text-amber-600 dark:text-amber-400",title:"text-amber-800 dark:text-amber-300"}:u?{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-100 dark:border-red-900/30",icon:"text-red-600 dark:text-red-400",title:"text-red-800 dark:text-red-300"}:{bg:"bg-slate-50 dark:bg-slate-800/50",border:"border-slate-100 dark:border-slate-700",icon:"text-primary",title:"text-slate-800 dark:text-white"},m=i?o.jsx(Xr,{className:"w-8 h-8"}):c?o.jsx(fc,{className:"w-8 h-8"}):u?o.jsx("span",{className:"text-2xl",children:""}):o.jsx("span",{className:"text-2xl",children:""}),p=i?"Identidad Verificada":c?"Verificacin en Revisin":u?"Verificacin Rechazada":"Verificacin Requerida",g=i?"Tu cuenta est totalmente verificada. Puedes realizar envos sin lmites.":c?`Tu verificacin est siendo revisada manualmente.${s?.ai_confidence?` (Confianza IA: ${(s.ai_confidence*100).toFixed(0)}%)`:""}`:u?"Tu verificacin fue rechazada. Por favor, intenta de nuevo con documentos vlidos.":"Para cumplir con las regulaciones y garantizar la seguridad, necesitamos verificar tu identidad antes de realizar envos.";return o.jsxs(Ve,{className:`${d.bg} border ${d.border} p-8`,children:[o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:`p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-sm ${d.icon}`,children:m}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`text-xl font-bold mb-2 ${d.title}`,children:p}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:g})]})]}),!i&&!c&&o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(be,{onClick:a,variant:u?"secondary":"primary",size:"lg",className:"shadow-lg shadow-primary/20",children:u?"Intentar de Nuevo":"Iniciar Verificacin"})})]})},lh=({title:a,description:t,tooltipText:s,userId:i,isUploaded:c,onUploadSuccess:u,onRemove:d})=>{const[m,p]=E.useState(!1),[g,y]=E.useState(null),[x,b]=E.useState(!1),w=E.useRef(null),N=async _=>{if(!_)return;y(null),p(!0);let C="";try{const T=_.name.split(".").pop(),V=`${a.toLowerCase().includes("identidad")?"id-document":a.toLowerCase().includes("domicilio")?"address-proof":"selfie"}-${Date.now()}.${T}`;C=`${i}/${V}`;const{error:z}=await _e.storage.from("user-documents").upload(C,_,{upsert:!1});if(z)throw z;const{data:M}=_e.storage.from("user-documents").getPublicUrl(C);u(M.publicUrl,_)}catch(T){const A=T;console.error("Error durante la carga:",A),y(A.message||"Error al procesar el archivo."),C&&_e.storage.from("user-documents").remove([C]),d()}finally{p(!1),w.current&&(w.current.value="")}},S=()=>{!m&&!c&&w.current?.click()};return o.jsxs("div",{className:`group relative border rounded-2xl p-5 transition-all duration-300 ${c?"border-teal-200 bg-teal-50/50 dark:border-teal-900/30 dark:bg-teal-900/10":"border-slate-200 dark:border-slate-700 hover:border-primary/50 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[x&&o.jsx(hC,{onCapture:N,onClose:()=>b(!1)}),o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 transition-colors ${c?"bg-teal-100 text-teal-600 dark:bg-teal-900/30 dark:text-teal-400":"bg-slate-100 text-slate-400 dark:bg-slate-800 dark:text-slate-500 group-hover:bg-white group-hover:text-primary group-hover:shadow-md"}`,children:m?o.jsx(fc,{className:"w-6 h-6"}):o.jsx(uC,{className:"w-7 h-7"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-bold text-slate-800 dark:text-white truncate text-lg",children:a}),c&&o.jsx(Xr,{className:"w-5 h-5 text-teal-500"})]}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:c?"Documento cargado correctamente":t})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsx("input",{type:"file",ref:w,onChange:_=>N(_.target.files?_.target.files[0]:null),className:"hidden",accept:"image/png, image/jpeg, application/pdf"}),!c&&!m&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>b(!0),className:"p-2.5 text-slate-500 hover:text-primary hover:bg-primary/10 rounded-xl transition-all",title:"Usar cmara",children:o.jsx(dC,{className:"w-6 h-6"})}),o.jsx(be,{size:"sm",onClick:S,className:"shadow-md shadow-primary/20",children:"Subir"})]}),c&&o.jsx("button",{onClick:d,className:"p-2.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",title:"Eliminar",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),g&&o.jsx("p",{className:"text-xs text-red-500 mt-3 pl-20 font-medium",children:g})]})},pC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),gC=({title:a,children:t,onClose:s})=>{const i={hidden:{opacity:0},visible:{opacity:1}},c={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}};return o.jsx(de.div,{variants:i,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"legal-modal-title",children:o.jsxs(de.div,{variants:c,onClick:u=>u.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-2xl h-[90vh] flex flex-col shadow-2xl border border-gray-200 dark:border-slate-700",children:[o.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[o.jsx("h3",{id:"legal-modal-title",className:"text-lg font-bold text-gray-800 dark:text-white",children:a}),o.jsx("button",{onClick:s,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700","aria-label":"Cerrar",children:o.jsx(hc,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 p-6 overflow-y-auto text-gray-700 dark:text-gray-300",children:o.jsx("div",{className:"prose dark:prose-invert max-w-none",children:t})}),o.jsx("footer",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center rounded-b-2xl",children:o.jsx("button",{onClick:s,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cerrar"})})]},"legal-modal-content")},"legal-backdrop")},yC=()=>o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Poltica de Privacidad de Remesas A&M"}),o.jsx("p",{className:"mb-4",children:"En Remesas A&M, nos comprometemos a proteger la privacidad de nuestros usuarios. Esta poltica describe cmo recopilamos, utilizamos, divulgamos y protegemos su informacin personal cuando utiliza nuestra aplicacin de envo y recepcin de remesas internacionales y cambio de criptomonedas."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Informacin que Recopilamos"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Informacin de Registro:"})," Cuando se registra en nuestra aplicacin, recopilamos informacin como su nombre completo, direccin de correo electrnico, nmero de telfono y contrasea."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Informacin de Verificacin de Identidad (KYC):"})," Para cumplir con las regulaciones AML (Anti-Money Laundering) y KYC (Know Your Customer), podemos solicitar documentos de identidad (DNI, pasaporte), comprobantes de domicilio y una selfie para verificar su identidad."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Informacin de Transaccin:"})," Recopilamos detalles sobre las remesas que enva y recibe, incluyendo montos, monedas, datos del beneficiario (nombre, banco, nmero de cuenta, ID) y el pas de origen/destino."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Informacin Financiera:"})," Podemos recopilar informacin de sus mtodos de pago, como detalles de la cuenta bancaria o de carteras de criptomonedas, aunque nunca almacenamos directamente los datos completos de tarjetas de crdito."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Datos de Uso:"})," Recopilamos informacin sobre cmo interacta con nuestra aplicacin, incluyendo las pantallas visitadas, el tiempo de uso y los errores de la aplicacin."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Datos del Dispositivo:"})," Informacin sobre el dispositivo que utiliza para acceder a nuestra aplicacin, como el tipo de dispositivo, sistema operativo, identificadores nicos del dispositivo y datos de red mvil."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Cmo Utilizamos su Informacin"}),o.jsx("p",{className:"mb-4",children:"Utilizamos la informacin recopilada para los siguientes propsitos:"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Procesar Transacciones:"})," Para ejecutar sus solicitudes de remesas y cambios de criptomonedas."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Verificacin de Identidad:"})," Para cumplir con las obligaciones legales y prevenir el fraude, el lavado de dinero y otras actividades ilcitas."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mejorar el Servicio:"})," Para comprender cmo se utiliza nuestra aplicacin y realizar mejoras continuas en la funcionalidad y la experiencia del usuario."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Comunicacin:"})," Para enviarle notificaciones sobre sus transacciones, actualizaciones del servicio, informacin de seguridad y, si lo ha consentido, comunicaciones de marketing."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Soporte al Cliente:"})," Para responder a sus consultas y brindarle asistencia tcnica."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Seguridad:"})," Para proteger la seguridad e integridad de nuestros servicios, detectar y prevenir actividades fraudulentas o no autorizadas."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cumplimiento Legal:"})," Para cumplir con las leyes, regulaciones y solicitudes legales aplicables."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Divulgacin de su Informacin"}),o.jsx("p",{className:"mb-4",children:"Podemos compartir su informacin personal con terceros en las siguientes circunstancias:"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Proveedores de Servicios:"})," Con socios que nos ayudan a operar nuestros servicios, como procesadores de pagos, proveedores de servicios de verificacin de identidad, servicios de alojamiento y anlisis de datos. Estos terceros estn obligados a proteger su informacin y utilizarla solo para los fines para los que fue divulgada."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Reguladores y Autoridades Legales:"})," Si estamos legalmente obligados a hacerlo, o si creemos de buena fe que dicha accin es necesaria para cumplir con una obligacin legal, proteger nuestros derechos o responder a un proceso legal."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Beneficiarios de Transacciones:"})," Para completar sus remesas, compartiremos la informacin necesaria con los bancos o servicios de pago del beneficiario."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Con su Consentimiento:"})," Podemos compartir su informacin con otros terceros si usted nos da su consentimiento expreso."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Seguridad de los Datos"}),o.jsx("p",{className:"mb-4",children:"Implementamos medidas de seguridad tcnicas, administrativas y fsicas para proteger su informacin personal contra el acceso no autorizado, la divulgacin, la alteracin o la destruccin. Esto incluye el cifrado de datos en trnsito y en reposo, el uso de autenticacin de dos factores y auditoras de seguridad peridicas."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Sus Derechos"}),o.jsx("p",{className:"mb-4",children:"Usted tiene ciertos derechos con respecto a su informacin personal, que pueden incluir:"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsx("li",{children:"Acceder a su informacin personal."}),o.jsx("li",{children:"Rectificar informacin inexacta o incompleta."}),o.jsx("li",{children:"Solicitar la eliminacin de su informacin personal, sujeto a nuestras obligaciones legales."}),o.jsx("li",{children:"Oponerse al procesamiento de su informacin personal en ciertas circunstancias."})]}),o.jsx("p",{className:"mb-4",children:"Para ejercer estos derechos, contctenos utilizando la informacin proporcionada al final de esta poltica."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Cambios en esta Poltica de Privacidad"}),o.jsx("p",{className:"mb-4",children:"Podemos actualizar esta Poltica de Privacidad de vez en cuando para reflejar cambios en nuestras prcticas o requisitos legales. Le notificaremos cualquier cambio sustancial publicando la nueva poltica en nuestra aplicacin o sitio web."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"7. Contacto"}),o.jsxs("p",{className:"mb-4",children:["Si tiene preguntas o inquietudes sobre esta Poltica de Privacidad o nuestras prcticas de datos, puede contactarnos en:",o.jsx("br",{}),"Email: remesasamcambios@gmail.com",o.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),o.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),vC=()=>o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Trminos y Condiciones de Servicio de Remesas A&M"}),o.jsx("p",{className:"mb-4",children:"Bienvenido a Remesas A&M. Al acceder o utilizar nuestra aplicacin y servicios, usted acepta estar legalmente vinculado por estos Trminos y Condiciones, nuestra Poltica de Privacidad y nuestra Poltica de Cookies. Si no est de acuerdo con alguna parte de estos trminos, no debe utilizar nuestros servicios."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Descripcin del Servicio"}),o.jsx("p",{className:"mb-4",children:"Remesas A&M ofrece servicios de envo y recepcin de dinero a nivel internacional, as como servicios de intercambio de criptomonedas (Worldcoin, PayPal, USDC) entre pases de Amrica Latina, Estados Unidos y Europa. Nuestros servicios estn diseados para ser rpidos, seguros y eficientes."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Registro y Elegibilidad"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsx("li",{children:"Para utilizar nuestros servicios, debe registrarse y crear una cuenta. Debe tener al menos 18 aos de edad y ser legalmente capaz de celebrar contratos."}),o.jsx("li",{children:"Usted es responsable de mantener la confidencialidad de su informacin de inicio de sesin y de todas las actividades que ocurran bajo su cuenta."}),o.jsx("li",{children:"Nos reservamos el derecho de rechazar el registro o cancelar cuentas a nuestra discrecin."})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Verificacin de Identidad (KYC)"}),o.jsx("p",{className:"mb-4",children:'Para cumplir con las regulaciones contra el lavado de dinero (AML) y "Conozca a su Cliente" (KYC), es obligatorio que todos los usuarios completen un proceso de verificacin de identidad antes de poder enviar dinero. Este proceso puede incluir la presentacin de documentos de identidad, comprobantes de domicilio y una selfie. Nos reservamos el derecho de solicitar informacin adicional o realizar verificaciones adicionales en cualquier momento.'}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Transacciones y Comisiones"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Remesas Internacionales:"})," Aplicamos una comisin del 9% sobre el monto enviado. Los tiempos de procesamiento varan: instantneo para Amrica Latina y hasta 2 das hbiles para EE.UU. y Europa."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Intercambio PayPal:"})," Se aplica una comisin total del 6% (incluye envo y retiro)."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Intercambio Worldcoin (WLD):"})," Requiere un mnimo de 3 WLD. La comisin es variable y se mostrar claramente en la aplicacin antes de confirmar la transaccin."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Intercambio USDC:"})," Requiere un mnimo de 10 USDC. Se aplica una comisin del 5%."]}),o.jsx("li",{children:"Las tasas de cambio son dinmicas y se actualizan en tiempo real. La tasa final aplicable a su transaccin se le mostrar antes de su confirmacin."}),o.jsx("li",{children:"Usted es responsable de la exactitud de la informacin del beneficiario. No nos hacemos responsables por fondos enviados incorrectamente debido a datos errneos proporcionados por usted."})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Uso Prohibido"}),o.jsx("p",{className:"mb-4",children:"Usted acepta no utilizar nuestros servicios para ninguna actividad ilegal o fraudulenta, incluyendo, entre otros, lavado de dinero, financiacin del terrorismo, fraude, juegos de gambling ilegales o cualquier otra actividad que viole las leyes aplicables. Nos reservamos el derecho de suspender o cancelar su cuenta si sospechamos de dicho uso."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Limitacin de Responsabilidad"}),o.jsx("p",{className:"mb-4",children:"Remesas A&M no ser responsable por prdidas o daos, directos o indirectos, incidentales, especiales, punitivos o consecuenciales, que resulten del uso o la imposibilidad de usar nuestros servicios. En ningn caso nuestra responsabilidad total por cualquier reclamo que surja de estos trminos exceder el monto de las comisiones pagadas por usted en la transaccin en cuestin."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"7. Propiedad Intelectual"}),o.jsx("p",{className:"mb-4",children:"Todo el contenido y los materiales disponibles en la aplicacin Remesas A&M, incluyendo textos, grficos, logotipos, conos, imgenes y software, son propiedad de Remesas A&M o de sus licenciantes y estn protegidos por leyes de propiedad intelectual."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"8. Ley Aplicable y Jurisdiccin"}),o.jsx("p",{className:"mb-4",children:"Estos Trminos y Condiciones se regirn e interpretarn de acuerdo con las leyes del pas donde Remesas A&M tiene su sede principal, sin tener en cuenta sus disposiciones sobre conflictos de leyes. Usted acepta someterse a la jurisdiccin exclusiva de los tribunales de dicho pas para la resolucin de cualquier disputa."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"9. Cambios en los Trminos"}),o.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos Trminos y Condiciones en cualquier momento. Le notificaremos cualquier cambio sustancial publicando los trminos actualizados en nuestra aplicacin o sitio web. Su uso continuado de los servicios despus de dichos cambios constituye su aceptacin de los nuevos trminos."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"10. Contacto"}),o.jsxs("p",{className:"mb-4",children:["Si tiene alguna pregunta sobre estos Trminos y Condiciones, por favor contctenos en:",o.jsx("br",{}),"Email: remesasamcambios@gmail.com",o.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),o.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),xC=()=>o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Poltica de Cookies de Remesas A&M"}),o.jsx("p",{className:"mb-4",children:"Esta Poltica de Cookies explica cmo Remesas A&M utiliza cookies y tecnologas similares para reconocerle cuando visita nuestra aplicacin y sitio web. Explica qu son estas tecnologas y por qu las usamos, as como sus derechos para controlar su uso."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Qu son las Cookies?"}),o.jsx("p",{className:"mb-4",children:"Las cookies son pequeos archivos de datos que se colocan en su ordenador o dispositivo mvil cuando visita un sitio web o utiliza una aplicacin. Las cookies son ampliamente utilizadas por los propietarios de sitios web y aplicaciones para hacer que sus servicios funcionen, o funcionen de manera ms eficiente, as como para proporcionar informacin de informes."}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de origen:"})," Son establecidas directamente por el propietario del sitio web o aplicacin que est visitando (en este caso, Remesas A&M)."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de terceros:"})," Son establecidas por partes que no son el propietario del sitio web o aplicacin que est visitando."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Por qu usamos Cookies?"}),o.jsx("p",{className:"mb-4",children:"Utilizamos cookies por varias razones:"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies estrictamente necesarias:"})," Son esenciales para proporcionarle los servicios disponibles a travs de nuestra aplicacin y sitio web, como la autenticacin y la seguridad de la sesin. Sin estas cookies, nuestros servicios no pueden funcionar correctamente."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de rendimiento y funcionalidad:"})," Se utilizan para mejorar el rendimiento y la funcionalidad de nuestra aplicacin y sitio web. Por ejemplo, recuerdan sus preferencias (como el idioma o el tema) y le brindan una experiencia ms personalizada."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de anlisis y personalizacin:"})," Recopilan informacin que se utiliza de forma agregada para ayudarnos a comprender cmo se utilizan nuestros servicios, cun efectivas son nuestras campaas de marketing o para ayudarnos a personalizar nuestros servicios para usted."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de seguridad:"})," Para proteger la seguridad de su cuenta y nuestros servicios en general, por ejemplo, detectando intentos de inicio de sesin no autorizados."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Qu tipos de Cookies usamos?"}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de sesin:"})," Son temporales y se eliminan de su dispositivo cuando cierra su navegador o cierra la aplicacin."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies persistentes:"})," Permanecen en su dispositivo durante un perodo de tiempo establecido o hasta que las elimine manualmente. Las utilizamos para recordar sus preferencias y mejorar la experiencia en visitas futuras."]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Cmo puede controlar las Cookies?"}),o.jsx("p",{className:"mb-4",children:"Tiene derecho a decidir si acepta o rechaza las cookies. Puede ejercer sus derechos de cookies configurando sus preferencias en el gestor de consentimiento de cookies que puede encontrar en el pie de pgina de nuestro sitio web o en la configuracin de privacidad de nuestra aplicacin (si aplica)."}),o.jsxs("ul",{className:"list-disc list-inside mb-4",children:[o.jsx("li",{children:"La mayora de los navegadores web le permiten configurar las preferencias de cookies. Para obtener ms informacin sobre cmo administrar las cookies, visite la seccin de ayuda de su navegador."}),o.jsx("li",{children:"Tenga en cuenta que si decide rechazar las cookies, es posible que algunas funcionalidades de nuestra aplicacin y sitio web no funcionen correctamente."})]}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Cambios en nuestra Poltica de Cookies"}),o.jsx("p",{className:"mb-4",children:"Podemos actualizar esta Poltica de Cookies de vez en cuando para reflejar, por ejemplo, cambios en las cookies que utilizamos o por otras razones operativas, legales o reglamentarias. Le recomendamos que revise esta Poltica de Cookies peridicamente para mantenerse informado sobre nuestro uso de las cookies."}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Contacto"}),o.jsxs("p",{className:"mb-4",children:["Si tiene alguna pregunta sobre nuestro uso de cookies u otras tecnologas, puede contactarnos en:",o.jsx("br",{}),"Email: remesasamcambios@gmail.com",o.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),o.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),ch=()=>o.jsxs("tr",{className:"animate-pulse",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/4"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})})]}),bC=()=>{const{countriesWithLatestRates:a,lastUpdated:t,isLoading:s,error:i}=dc(),[c,u]=E.useState(!1),[d,m]=E.useState(""),[p,g]=E.useState(null),[y,x]=E.useState("rates"),b=t?`ltima actualizacin: ${t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:"Actualizando...",w=(S,_)=>{m(S),g(_),u(!0)},N=[{id:"rates",label:"Tasas y Tarifas",icon:""},{id:"banks",label:"Bancos",icon:""},{id:"legal",label:"Legal",icon:""}];return o.jsxs(no,{children:[o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Informacin"}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Todo lo que necesitas saber sobre nuestros servicios."})]}),o.jsx("div",{className:"flex p-1 space-x-1 bg-slate-100 dark:bg-slate-800/50 rounded-xl max-w-md mx-auto mb-8",children:N.map(S=>o.jsxs("button",{onClick:()=>x(S.id),className:`
                w-full py-2.5 text-sm font-bold leading-5 rounded-lg transition-all duration-200
                flex items-center justify-center gap-2
                ${y===S.id?"bg-white dark:bg-slate-700 text-primary shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-slate-700/50"}
              `,children:[o.jsx("span",{className:"text-lg",children:S.icon}),S.label]},S.id))}),o.jsxs(qt,{mode:"wait",children:[y==="rates"&&o.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Ve,{variant:"default",padding:"lg",className:"h-full",children:[o.jsxs("h3",{className:"text-lg font-bold text-primary mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-8 bg-primary rounded-full"}),"Comisiones Detalladas"]}),o.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-100 dark:border-slate-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-slate-600 dark:text-slate-300",children:[o.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50/50 dark:bg-slate-800/50 dark:text-slate-400",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-4 py-3",children:"Servicio"}),o.jsx("th",{scope:"col",className:"px-4 py-3",children:"Comisin"}),o.jsx("th",{scope:"col",className:"px-4 py-3",children:"Notas"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("th",{scope:"row",className:"px-4 py-4 font-medium text-slate-900 dark:text-white",children:"Remesas Internacionales"}),o.jsxs("td",{className:"px-4 py-4 font-mono font-bold text-primary tabular-nums",children:[Vh*100,"%"]}),o.jsx("td",{className:"px-4 py-4 text-xs text-slate-500",children:"Sin tarifa mnima fija."})]}),o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("th",{scope:"row",className:"px-4 py-4 font-medium text-slate-900 dark:text-white",children:"Intercambio PayPal"}),o.jsxs("td",{className:"px-4 py-4 font-mono font-bold text-primary tabular-nums",children:[Jl*100,"%"]}),o.jsx("td",{className:"px-4 py-4 text-xs text-slate-500",children:"Total (incluye envo y retiro)"})]}),o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("th",{scope:"row",className:"px-4 py-4 font-medium text-slate-900 dark:text-white",children:"Intercambio Worldcoin"}),o.jsx("td",{className:"px-4 py-4 font-mono font-bold text-secondary tabular-nums",children:"Variable"}),o.jsxs("td",{className:"px-4 py-4 text-xs text-slate-500",children:["Mnimo ",Zl," WLD"]})]}),o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("th",{scope:"row",className:"px-4 py-4 font-medium text-slate-900 dark:text-white",children:"Intercambio USDC"}),o.jsxs("td",{className:"px-4 py-4 font-mono font-bold text-primary tabular-nums",children:[tc*100,"%"]}),o.jsxs("td",{className:"px-4 py-4 text-xs text-slate-500",children:["Mnimo ",ec," USDC"]})]})]})]})}),o.jsxs("div",{className:"md:hidden space-y-3",children:[o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Remesas Internacionales"}),o.jsxs("span",{className:"font-mono font-bold text-primary text-lg tabular-nums",children:[Vh*100,"%"]})]}),o.jsx("p",{className:"text-xs text-slate-500",children:"Sin tarifa mnima fija."})]}),o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Intercambio PayPal"}),o.jsxs("span",{className:"font-mono font-bold text-primary text-lg tabular-nums",children:[Jl*100,"%"]})]}),o.jsx("p",{className:"text-xs text-slate-500",children:"Total (incluye envo y retiro)"})]}),o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Intercambio Worldcoin"}),o.jsx("span",{className:"font-mono font-bold text-secondary text-lg tabular-nums",children:"Variable"})]}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Mnimo ",Zl," WLD"]})]}),o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Intercambio USDC"}),o.jsxs("span",{className:"font-mono font-bold text-primary text-lg tabular-nums",children:[tc*100,"%"]})]}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Mnimo ",ec," USDC"]})]})]})]}),o.jsxs(Ve,{variant:"default",padding:"lg",className:"h-full",children:[o.jsxs("h3",{className:"text-lg font-bold text-secondary mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-8 bg-secondary rounded-full"}),"Pases de Origen y Mnimos"]}),o.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-100 dark:border-slate-700 mb-4",children:o.jsxs("table",{className:"w-full text-sm text-left text-slate-600 dark:text-slate-300",children:[o.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50/50 dark:bg-slate-800/50 dark:text-slate-400",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-4 py-3",children:"Pas de Origen"}),o.jsx("th",{scope:"col",className:"px-4 py-3",children:"Mnimo de Envo"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:a.filter(S=>["VE","BR","CO","PE","US"].includes(S.code)||S.region==="Europe").map(S=>o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsxs("th",{scope:"row",className:"px-4 py-3 font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(Rt,{countryCode:S.code,className:"w-5 h-auto rounded-sm shadow-sm"}),S.name]}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs tabular-nums",children:`${S.minimumSendAmount.toLocaleString("es-ES")} ${S.currency}`})]},S.code))})]})}),o.jsx("div",{className:"md:hidden space-y-3 mb-4",children:a.filter(S=>["VE","BR","CO","PE","US"].includes(S.code)||S.region==="Europe").map(S=>o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Rt,{countryCode:S.code,className:"w-6 h-auto rounded-sm shadow-sm"}),o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:S.name})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-xs text-slate-500",children:"Mnimo de envo"}),o.jsx("p",{className:"font-mono text-sm font-medium tabular-nums",children:`${S.minimumSendAmount.toLocaleString("es-ES")} ${S.currency}`})]})]},S.code))}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-100 dark:border-slate-700",children:[o.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white mb-2",children:"Tiempos de Entrega Estimados"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),o.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:["Latinoamrica: ",o.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:"Instantneo"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full"}),o.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:["Resto del mundo: ",o.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:"2 das hbiles"})]})]})]})]})]})]}),o.jsxs(Ve,{variant:"default",padding:"lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-accent-dark flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-8 bg-accent rounded-full"}),"Tasas de Referencia (1 USD)"]}),o.jsx("span",{className:`text-xs font-mono bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-md text-slate-500 transition-opacity duration-300 ${s&&t?"opacity-50":"opacity-100"}`,children:i?o.jsx("span",{className:"text-error",children:"Error al actualizar"}):b})]}),o.jsx("div",{className:"hidden md:block overflow-x-auto rounded-2xl border border-slate-100 dark:border-slate-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-slate-600 dark:text-slate-300",children:[o.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50/50 dark:bg-slate-800/50 dark:text-slate-400",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pas"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Moneda"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tasa"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:s&&!t?o.jsxs(o.Fragment,{children:[o.jsx(ch,{}),o.jsx(ch,{}),o.jsx(ch,{})]}):a.filter(S=>S.currency!=="USD").map(S=>o.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(Rt,{countryCode:S.code,className:"w-6 h-auto rounded-sm shadow-sm"}),S.name]}),o.jsx("td",{className:"px-6 py-4 font-mono text-slate-500",children:S.currency}),o.jsx("td",{className:"px-6 py-4 font-mono font-bold text-slate-800 dark:text-white text-lg tabular-nums",children:S.exchangeRateToUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})})]},S.code))})]})}),o.jsx("div",{className:"md:hidden space-y-3",children:s&&!t?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]}),o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]})]}):a.filter(S=>S.currency!=="USD").map(S=>o.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Rt,{countryCode:S.code,className:"w-6 h-auto rounded-sm shadow-sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:S.name}),o.jsx("p",{className:"text-xs text-slate-500 font-mono",children:S.currency})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-slate-500",children:"1 USD ="}),o.jsx("span",{className:"font-mono font-bold text-slate-800 dark:text-white text-xl tabular-nums",children:S.exchangeRateToUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})})]})]},S.code))}),o.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Las tasas son referenciales y se actualizan en tiempo real."})]})]},"rates"),y==="banks"&&o.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:o.jsxs(Ve,{variant:"default",padding:"lg",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 pl-2 border-l-4 border-warning",children:"Bancos Disponibles"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.filter(S=>["VE","BR","CO","PE","US"].includes(S.code)||S.region==="Europe").map(S=>o.jsxs(Ve,{variant:"default",padding:"md",className:"hover:shadow-lg transition-all duration-200 hover:scale-[1.02] border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Rt,{countryCode:S.code,className:"w-6 h-auto rounded-sm shadow-sm"}),o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:S.name})]}),o.jsxs("ul",{className:"space-y-1.5",children:[S.banks.slice(0,3).map(_=>o.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),_.name]},_.name)),S.banks.length>3&&o.jsxs("li",{className:"text-xs text-slate-400 italic pl-3.5",children:["y ",S.banks.length-3," ms..."]})]})]},S.code))})]})},"banks"),y==="legal"&&o.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:o.jsxs(Ve,{variant:"glass",className:"bg-slate-50/50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[o.jsx(pC,{className:"w-5 h-5 text-primary"}),"Legal y Privacidad"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(be,{variant:"secondary",onClick:()=>w("Poltica de Privacidad",o.jsx(yC,{})),className:"w-full h-auto py-6 text-left justify-start bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Poltica de Privacidad"}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-normal",children:"Cmo protegemos tus datos"})]})}),o.jsx(be,{variant:"secondary",onClick:()=>w("Trminos y Condiciones",o.jsx(vC,{})),className:"w-full h-auto py-6 text-left justify-start bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Trminos y Condiciones"}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-normal",children:"Acuerdo de uso del servicio"})]})}),o.jsx(be,{variant:"secondary",onClick:()=>w("Poltica de Cookies",o.jsx(xC,{})),className:"w-full h-auto py-6 text-left justify-start bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 shadow-sm",children:o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:"Poltica de Cookies"}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-normal",children:"Uso de cookies en el sitio"})]})})]}),o.jsx("p",{className:"text-xs text-slate-400 mt-8 text-center max-w-2xl mx-auto leading-relaxed",children:"Es obligatorio que todos los usuarios completen la verificacin de identidad antes de procesar envos para cumplir con las regulaciones de seguridad. Todas las transacciones son registradas y los comprobantes se almacenan de forma segura."})]})},"legal")]})]}),o.jsx(qt,{children:c&&o.jsx(gC,{title:d,onClose:()=>u(!1),children:p})})]})},wC=({transaction:a,onClose:t})=>{const s=st.find(m=>m.code===a.from_country_code),i=st.find(m=>m.code===a.to_country_code),c={hidden:{opacity:0},visible:{opacity:1}},u={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}},d=({label:m,value:p,isMono:g=!1})=>o.jsxs("div",{className:"flex justify-between items-center py-3",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m}),o.jsx("span",{className:`text-sm font-medium text-gray-800 dark:text-white ${g?"font-mono":""}`,children:p})]});return o.jsx(de.div,{variants:c,initial:"hidden",animate:"visible",exit:"hidden",onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(de.div,{variants:u,onClick:m=>m.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 dark:border-slate-700",children:[o.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Detalles de la Transaccin"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:a.transaction_id})]}),o.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Cerrar modal",children:o.jsx(hc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-4 rounded-xl flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[s&&o.jsx(Rt,{countryCode:s.code,className:"w-6 h-auto rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enviaste"}),o.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:[a.amount_sent.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.currency_sent]})]})]}),o.jsx(Lf,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),o.jsxs("div",{className:"flex items-center gap-2 text-right",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recibieron"}),o.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:[a.amount_received.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.currency_received]})]}),i&&o.jsx(Rt,{countryCode:i.code,className:"w-6 h-auto rounded-full"})]})]}),o.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[o.jsx(d,{label:"Beneficiario",value:a.recipient_name}),o.jsx(d,{label:"Banco",value:a.recipient_bank}),o.jsx(d,{label:"N de Cuenta",value:a.recipient_account,isMono:!0}),o.jsx(d,{label:"ID Beneficiario",value:a.recipient_id,isMono:!0}),o.jsx(d,{label:"Comisin",value:`${a.fee.toFixed(2)} ${a.currency_sent}`}),o.jsx(d,{label:"Estado",value:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Completado"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:a.status})}),o.jsx(d,{label:"Fecha",value:new Date(a.created_at).toLocaleString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]},"modal")},"backdrop")},jC=({direction:a,isActive:t})=>t?a==="asc"?o.jsx("svg",{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-label":"Orden ascendente",children:o.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}):o.jsx("svg",{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-label":"Orden descendente",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):o.jsx("svg",{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),SC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),_C=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),Bf=({currentPage:a,totalPages:t,onPageChange:s,itemsPerPage:i=10,onItemsPerPageChange:c})=>{if(t<=1)return null;const u=()=>{a>1&&s(a-1)},d=()=>{a<t&&s(a+1)},m=g=>{g.preventDefault();const x=g.currentTarget.elements.namedItem("jumpPage"),b=Math.max(1,Math.min(t,Number(x.value)||1));s(b)},p=g=>{const y=Number(g.target.value);c?.(y)};return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mt-4 px-4 py-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",htmlFor:"itemsPerPage",children:"Items por pgina"}),o.jsx("select",{id:"itemsPerPage",value:i,onChange:p,className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-2 py-1 text-sm text-gray-700 dark:text-gray-200",children:[5,10,20,50].map(g=>o.jsx("option",{value:g,children:g},g))}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400","aria-live":"polite",children:["Pgina ",o.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:a})," de ",o.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:u,disabled:a===1,className:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Pgina anterior",children:[o.jsx(SC,{className:"w-4 h-4"}),"Anterior"]}),o.jsxs("button",{onClick:d,disabled:a===t,className:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Pgina siguiente",children:["Siguiente",o.jsx(_C,{className:"w-4 h-4"})]}),o.jsxs("form",{onSubmit:m,className:"flex items-center gap-2","aria-label":"Saltar a pgina especfica",children:[o.jsx("label",{htmlFor:"jumpPage",className:"sr-only",children:"Ir a pgina"}),o.jsx("input",{id:"jumpPage",name:"jumpPage",type:"number",min:1,max:t,defaultValue:a,className:"w-16 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-2 py-1 text-sm text-gray-700 dark:text-gray-200"}),o.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 transition-colors",children:"Ir"})]})]})]})},Ml=({label:a,sortKey:t,currentSortKey:s,currentDirection:i,onSort:c,className:u=""})=>{const d=s===t;return o.jsx("th",{scope:"col",className:`px-4 py-3 text-left ${u}`,children:o.jsxs("button",{onClick:()=>c(t),className:`flex items-center gap-1.5 group transition-colors font-semibold text-xs uppercase tracking-wider ${d?"text-primary":"text-text-secondary hover:text-text-primary"}`,children:[o.jsx("span",{children:a}),o.jsx(jC,{direction:d?i:void 0,isActive:d})]})})},NC=({user:a})=>{const[t,s]=E.useState([]),[i,c]=E.useState(!0),[u,d]=E.useState(null),[m,p]=E.useState(null),[g,y]=E.useState("created_at"),[x,b]=E.useState("desc"),[w,N]=E.useState(1),[S,_]=E.useState(10),[C,T]=E.useState("ALL");E.useEffect(()=>{(async()=>{try{c(!0),d(null);const{data:{session:ne}}=await _e.auth.getSession();if(!ne)throw new Error("No hay sesin activa");const Ae=await fetch(`http://localhost:3001/api/remittances/history?userId=${a.id}`,{headers:{Authorization:`Bearer ${ne.access_token}`}});if(!Ae.ok)throw new Error("Error al obtener el historial");const Ze=await Ae.json();s(Ze||[])}catch(ne){console.error("Error fetching history:",ne),d(ne.message)}finally{c(!1)}})()},[a.id]);const A=Y=>{Y===g?b(ne=>ne==="asc"?"desc":"asc"):(y(Y),b("asc")),N(1)},V=E.useMemo(()=>C==="ALL"?t:t.filter(Y=>Y.status===C),[t,C]),z=E.useMemo(()=>{const Y=[...V];return Y.sort((ne,pe)=>{const Ae=ne[g],Ze=pe[g];return typeof Ae=="number"&&typeof Ze=="number"?Ae-Ze:typeof Ae=="string"&&typeof Ze=="string"?g==="created_at"?new Date(Ae).getTime()-new Date(Ze).getTime():Ae.localeCompare(Ze):0}),x==="desc"&&Y.reverse(),Y},[V,g,x]),M=E.useMemo(()=>{const Y=(w-1)*S;return z.slice(Y,Y+S)},[z,w,S]),$=Math.ceil(z.length/S),X=()=>i?o.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-slate-400",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Cargando historial..."})]}):u?o.jsxs("div",{className:"p-8 text-center bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-100 dark:border-red-900/30",children:[o.jsx("p",{className:"text-error font-medium",children:u}),o.jsx(be,{variant:"ghost",className:"mt-4 text-error hover:bg-error/10",onClick:()=>window.location.reload(),children:"Reintentar"})]}):t.length===0?o.jsxs("div",{className:"text-center p-12 text-slate-400 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-slate-300 dark:text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Sin Transacciones"}),o.jsx("p",{className:"text-sm text-slate-500 mb-8 max-w-xs mx-auto",children:"An no has realizado ningn envo. Tu primera remesa te espera!"}),o.jsx(be,{variant:"primary",className:"shadow-xl shadow-primary/30 px-8 py-3",children:"Realizar mi primer envo"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["ALL","COMPLETADO","PENDIENTE","RECHAZADO"].map(Y=>o.jsx("button",{onClick:()=>{T(Y),N(1)},className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${C===Y?"bg-primary text-white shadow-lg shadow-primary/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:Y==="ALL"?"Todos":Y.charAt(0)+Y.slice(1).toLowerCase()},Y))}),o.jsx("div",{className:"overflow-hidden rounded-3xl border border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-900/30 border-b border-slate-100 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx(Ml,{label:"Fecha",sortKey:"created_at",currentSortKey:g,currentDirection:x,onSort:A}),o.jsx(Ml,{label:"Destinatario",sortKey:"recipient_name",currentSortKey:g,currentDirection:x,onSort:A}),o.jsx(Ml,{label:"Monto",sortKey:"amount_sent",currentSortKey:g,currentDirection:x,onSort:A,className:"hidden sm:table-cell"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left font-semibold text-xs uppercase tracking-wider text-slate-400",children:"Ruta"}),o.jsx(Ml,{label:"Estado",sortKey:"status",currentSortKey:g,currentDirection:x,onSort:A})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:o.jsx(qt,{mode:"popLayout",children:M.length>0?M.map((Y,ne)=>o.jsx(kC,{transaction:Y,onClick:()=>p(Y),index:ne},Y.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-12 text-center text-slate-400",children:"No se encontraron transacciones con este filtro."})})})})]})})}),o.jsx(Bf,{currentPage:w,totalPages:$,onPageChange:N,itemsPerPage:S,onItemsPerPageChange:Y=>{_(Y),N(1)}})]});return o.jsx(no,{children:o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Historial"}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Tus envos recientes"})]})}),X(),o.jsx(qt,{children:m&&o.jsx(wC,{transaction:m,onClose:()=>p(null)})})]})})},kC=({transaction:a,onClick:t,index:s})=>{const i=st.find(m=>m.code===a.from_country_code),c=st.find(m=>m.code===a.to_country_code),d={COMPLETADO:"bg-teal-50 text-teal-600 border-teal-100 dark:bg-teal-900/20 dark:text-teal-400 dark:border-teal-900/30",RECHAZADO:"bg-red-50 text-red-600 border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-900/30",VERIFICADO:"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30",PENDIENTE:"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30"}[a.status]||"bg-slate-100 text-slate-600 border-slate-200";return o.jsxs(de.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.05},onClick:t,className:"group hover:bg-slate-50 dark:hover:bg-slate-800/80 cursor-pointer transition-colors",children:[o.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"font-bold text-slate-700 dark:text-slate-200",children:new Date(a.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}),o.jsx("div",{className:"text-xs text-slate-400 font-medium",children:new Date(a.created_at).getFullYear()})]}),o.jsxs("td",{className:"px-4 py-4",children:[o.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:a.recipient_name}),o.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-[150px]",children:[a.recipient_bank,"  ",a.recipient_account.slice(-4)]})]}),o.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:o.jsxs("div",{className:"font-bold text-slate-800 dark:text-white",children:[a.amount_sent.toLocaleString("en-US",{minimumFractionDigits:2}),o.jsx("span",{className:"text-xs ml-1 text-slate-500 font-medium",children:a.currency_sent})]})}),o.jsx("td",{className:"px-4 py-4",children:o.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 w-fit px-2 py-1 rounded-full border border-slate-200 dark:border-slate-600",children:[i&&o.jsx(Rt,{countryCode:i.code,className:"w-4 h-4 rounded-full shadow-sm"}),o.jsx(Lf,{className:"w-3 h-3 text-slate-400"}),c&&o.jsx(Rt,{countryCode:c.code,className:"w-4 h-4 rounded-full shadow-sm"})]})}),o.jsx("td",{className:"px-4 py-4",children:o.jsxs("span",{className:`px-3 py-1 text-[10px] font-bold rounded-full border ${d} inline-flex items-center gap-1.5 uppercase tracking-wide`,children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d.includes("text-teal")?"bg-teal-500":d.includes("text-red")?"bg-red-500":d.includes("text-blue")?"bg-blue-500":"bg-amber-500"}`}),a.status]})})]})},EC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),TC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L13.196 7.196z"})}),AC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),CC=({user:a,beneficiaryToEdit:t,onClose:s,onSave:i})=>{const[c,u]=E.useState({name:"",country_code:"VE",bank:"",account_number:"",document_id:""}),[d,m]=E.useState(!1),[p,g]=E.useState(null);E.useEffect(()=>{t&&u({name:t.name,country_code:t.country_code,bank:t.bank,account_number:t.account_number,document_id:t.document_id})},[t]);const y=_=>{const{name:C,value:T}=_.target;u(A=>({...A,[C]:T}))},x=async _=>{_.preventDefault(),m(!0),g(null);try{const C={...t,user_id:a.id,name:c.name,country_code:c.country_code,bank:c.bank,account_number:c.account_number,document_id:c.document_id},{error:T}=await _e.from("beneficiaries").upsert(C);if(T)throw T;i()}catch(C){const T=C;g(T.message||"Error al guardar el beneficiario."),console.error(T)}finally{m(!1)}},b=st.find(_=>_.code===c.country_code)?.banks||[],w={hidden:{opacity:0},visible:{opacity:1}},N={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}},S="mt-1 block w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500 transition-colors";return o.jsx(de.div,{variants:w,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsx(de.div,{variants:N,onClick:_=>_.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 dark:border-slate-700",children:o.jsxs("form",{onSubmit:x,children:[o.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:t?"Editar Beneficiario":"Nuevo Beneficiario"}),o.jsx("button",{type:"button",onClick:s,className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-700",children:o.jsx(hc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nombre Completo"}),o.jsx("input",{type:"text",name:"name",id:"name",value:c.name,onChange:y,required:!0,className:S})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"country_code",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pas"}),o.jsx("select",{name:"country_code",id:"country_code",value:c.country_code,onChange:y,required:!0,className:S,children:st.map(_=>o.jsx("option",{value:_.code,children:_.name},_.code))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bank",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Banco"}),o.jsxs("select",{name:"bank",id:"bank",value:c.bank,onChange:y,required:!0,className:S,children:[o.jsx("option",{value:"",disabled:!0,children:"Selecciona un banco"}),b.map(_=>o.jsx("option",{value:_.name,children:_.name},_.name))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nmero de Cuenta"}),o.jsx("input",{type:"text",name:"account_number",id:"account_number",value:c.account_number,onChange:y,required:!0,className:S})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"document_id",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Documento de Identidad (ID)"}),o.jsx("input",{type:"text",name:"document_id",id:"document_id",value:c.document_id,onChange:y,required:!0,className:S})]}),p&&o.jsx("p",{className:"text-red-500 text-sm text-center",children:p})]}),o.jsxs("footer",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center gap-4 rounded-b-2xl",children:[o.jsx("button",{type:"button",onClick:s,className:"text-gray-600 dark:text-gray-300 font-medium py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg disabled:bg-indigo-400 flex items-center justify-center w-28",children:d?o.jsx(fc,{className:"w-5 h-5"}):"Guardar"})]})]})})})},RC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),OC=({className:a})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A10.004 10.004 0 0012 5.292"})}),DC=({user:a,onSelectBeneficiary:t})=>{const[s,i]=E.useState([]),[c,u]=E.useState(!0),[d,m]=E.useState(null),[p,g]=E.useState(!1),[y,x]=E.useState(null),[b,w]=E.useState(1),[N,S]=E.useState(10),_=async()=>{try{u(!0);const{data:M,error:$}=await _e.from("beneficiaries").select("*").eq("user_id",a.id).order("name",{ascending:!0});if($)throw $;i(M||[])}catch(M){const $=M;m($.message||"No se pudieron cargar los beneficiarios."),console.error($)}finally{u(!1)}};E.useEffect(()=>{_()},[a.id]);const C=()=>{x(null),g(!0)},T=M=>{x(M),g(!0)},A=async M=>{if(window.confirm("Ests seguro de que quieres eliminar este beneficiario?"))try{const{error:$}=await _e.from("beneficiaries").delete().eq("id",M);if($)throw $;_()}catch($){alert("Error al eliminar: "+$.message)}},V=()=>{g(!1),_()},z=()=>{if(c)return o.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600 mx-auto mb-4"}),"Cargando beneficiarios..."]});if(d)return o.jsx("div",{className:"text-center p-12 text-red-500 bg-red-50 dark:bg-red-900/30 rounded-lg",children:d});if(s.length===0)return o.jsxs("div",{className:"text-center p-12 text-slate-400",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(OC,{className:"h-10 w-10 text-slate-300"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Sin Beneficiarios"}),o.jsx("p",{className:"mt-2 text-sm max-w-xs mx-auto",children:"Aade tu primer beneficiario para agilizar tus envos."}),o.jsx(be,{onClick:C,className:"mt-6 shadow-xl shadow-primary/30",children:"Aadir Beneficiario"})]});const M=(b-1)*N,$=s.slice(M,M+N),X=Math.ceil(s.length/N)||1;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(Y=>{const ne=st.find(pe=>pe.code===Y.country_code);return o.jsxs(Ve,{variant:"default",padding:"md",className:"group hover:border-primary/30 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[ne&&o.jsx(Rt,{countryCode:ne.code,className:"w-10 h-10 rounded-full shadow-sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg",children:Y.name}),o.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase tracking-wider",children:ne?.name})]})]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>T(Y),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-primary transition-colors",children:o.jsx(TC,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(Y.id),className:"p-2 hover:bg-red-50 rounded-full text-slate-400 hover:text-error transition-colors",children:o.jsx(AC,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-3 mb-4 space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Banco"}),o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:Y.bank})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500",children:"Cuenta"}),o.jsxs("span",{className:"font-mono font-medium text-slate-700 dark:text-slate-300",children:["...",Y.account_number.slice(-4)]})]})]}),o.jsxs(be,{onClick:()=>t(Y),className:"w-full shadow-lg shadow-primary/20 group-hover:shadow-xl group-hover:shadow-primary/30 transition-all",children:[o.jsx(RC,{className:"w-4 h-4 mr-2"}),"Enviar Dinero"]})]},Y.id)})}),X>1&&o.jsx(Bf,{currentPage:b,totalPages:X,onPageChange:w,itemsPerPage:N,onItemsPerPageChange:Y=>{S(Y),w(1)}})]})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Mis Beneficiarios"}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona tus destinatarios frecuentes"})]}),s.length>0&&o.jsxs(be,{onClick:C,className:"shadow-xl shadow-primary/30",children:[o.jsx(EC,{className:"w-5 h-5 mr-2"}),"Nuevo Beneficiario"]})]}),z()]}),o.jsx(qt,{children:p&&o.jsx(CC,{user:a,beneficiaryToEdit:y,onClose:()=>g(!1),onSave:V})})]})},MC=()=>({async*sendMessageStream({message:t}){yield{text:(await(await fetch("http://localhost:3001/api/assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",text:t}]})})).json()).text||""}}}),UC=()=>{const[a,t]=E.useState(!1),[s,i]=E.useState(""),[c,u]=E.useState([]),[d,m]=E.useState(!1),[p,g]=E.useState(!1),[y,x]=E.useState(!1),b=E.useRef(null),w=E.useRef(null),N=E.useRef(null);E.useEffect(()=>{if(a&&!b.current)try{b.current=MC(),u([{role:"model",text:"Hola! Soy tu asistente virtual de Remesas A&M. Cmo puedo ayudarte hoy?"}])}catch(_){console.error("Failed to create chat session:",_),u([{role:"model",text:"Lo siento, el asistente virtual no est disponible en este momento."}]),x(!0)}},[a]),E.useEffect(()=>{const _=N.current;_&&_.scrollHeight-_.clientHeight<=_.scrollTop+100&&w.current?.scrollIntoView({behavior:"smooth"})},[c]);const S=E.useCallback(async()=>{if(!s.trim()||d||!b.current||p||y)return;const _={role:"user",text:s};u(C=>[...C,_]),i(""),m(!0),g(!0),setTimeout(()=>g(!1),3e3);try{const C=await b.current.sendMessageStream({message:s});let T="";u(A=>[...A,{role:"model",text:""}]);for await(const A of C)T+=A.text,u(V=>{const z=[...V];return z[z.length-1].text=T,z})}catch(C){console.error("Gemini API error:",C);const T=C instanceof Error?C.message.toLowerCase():"";if(T.includes("api key")||T.includes("authentication")){const A="El asistente no est disponible por un problema de configuracin. Por favor, contacta al soporte.";u(V=>[...V,{role:"model",text:A}]),x(!0)}else u(A=>{const V=[...A];return V[V.length-1].text="Lo siento, ocurri un error. Por favor, intenta de nuevo.",V})}finally{m(!1)}},[s,d,p,y]);return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(!a),className:"fixed bottom-6 right-6 bg-gradient-to-br from-purple-600 to-indigo-700 text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center transition-transform hover:scale-110","aria-label":"Open virtual assistant",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),o.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h1a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})}),a&&o.jsxs("div",{className:"fixed bottom-24 right-6 w-full max-w-sm h-[70vh] max-h-[600px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsxs("header",{className:"bg-gray-50 dark:bg-gray-900 p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Asistente Virtual"}),o.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Online"})]}),o.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white",children:""})]}),o.jsx("div",{ref:N,className:"flex-1 p-4 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[c.map((_,C)=>o.jsxs("div",{className:`flex items-end gap-2 ${_.role==="user"?"justify-end":""}`,children:[_.role==="model"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex-shrink-0"}),o.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${_.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-bl-none"}`,children:o.jsxs("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:[_.text,d&&_.role==="model"&&C===c.length-1&&!_.text?"...":""]})})]},C)),o.jsx("div",{ref:w})]})}),o.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:s,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&S(),placeholder:y?"Asistente no disponible":"Escribe un mensaje...",className:"flex-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-full py-2 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50",disabled:d||y}),o.jsx("button",{onClick:S,disabled:d||!s.trim()||p||y,className:"bg-indigo-600 text-white p-2 rounded-full disabled:bg-gray-400 dark:disabled:bg-gray-500 transition-colors",title:p?"Por favor espera antes de enviar otro mensaje.":"Enviar mensaje",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]})]})},PC=({user:a})=>{const[t,s]=E.useState([]),[i,c]=E.useState(!0),[u,d]=E.useState(null),[m,p]=E.useState(""),[g,y]=E.useState(""),[x,b]=E.useState(!1),[w,N]=E.useState({}),S={id_matches:"Coincidencia de ID",faces_match:"Rostros Coinciden",is_authentic:"Es Autntico",is_not_expired:"No Ha Expirado",address_matches:"Direccin Coincide",is_from_country:"Pas Correcto",no_parsing_errors:"Sin Errores de Lectura",document_type_matches:"Tipo de Documento Correcto"},_=["Documento ilegible o borroso","Documento vencido o expirado","El documento no coincide con los datos ingresados","La selfie no coincide con la foto del documento","La selfie est borrosa o muy oscura","El documento parece alterado o falso","Comprobante de domicilio no vlido o muy antiguo","Otro (especificar en notas)"],C=M=>{if(!M)return"";if(M.startsWith("http")||M.startsWith("data:"))return M;const{data:$}=_e.storage.from("user-documents").getPublicUrl(M);return $.publicUrl},T=M=>w[M]?w[M]:C(M),A=async(M,$)=>{const X=$.currentTarget,Y=X.parentElement;if(w[M]){X.style.display="none",Y?.classList.add("bg-slate-200","flex","items-center","justify-center"),Y&&(Y.innerHTML='<span class="text-slate-500 text-sm p-2 text-center">Imagen no disponible</span>');return}console.log(" Imagen fall al cargar, intentando obtener URL firmada para:",M);try{let ne="user-documents",pe=M;if(M.includes("/user-documents/")?(ne="user-documents",pe=M.split("/user-documents/")[1]):M.includes("/kyc-documents/")&&(ne="kyc-documents",pe=M.split("/kyc-documents/")[1]),pe.includes("?")&&(pe=pe.split("?")[0]),pe&&pe){const{data:{session:Ae}}=await _e.auth.getSession(),Ze=Ae?.access_token,De=await fetch("http://localhost:3001/api/kyc/signed-url",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ze}`},body:JSON.stringify({path:pe,bucket:ne})});if(De.ok){const H=await De.json();if(H.signedUrl){console.log(" URL firmada generada con xito (backend)"),N(W=>({...W,[M]:H.signedUrl}));return}}else console.error("Error generando URL firmada (backend):",await De.text())}}catch(ne){console.error("Error en recuperacin de imagen:",ne)}X.style.display="none",Y?.classList.add("bg-slate-200","flex","items-center","justify-center"),Y&&(Y.innerHTML='<span class="text-slate-500 text-sm p-2 text-center">Archivo no encontrado (404)</span>')};E.useEffect(()=>{V()},[]);const V=async()=>{try{c(!0);const{data:{session:M}}=await _e.auth.getSession(),$=M?.access_token;if(!$){console.error(" No auth token found"),c(!1);return}console.log(" Fetching pending verifications...");const Y=await fetch("http://localhost:3001/api/kyc/pending",{headers:{Authorization:`Bearer ${$}`}});if(console.log(" Response status:",Y.status),!Y.ok){const pe=await Y.text();throw console.error(" Server error:",Y.status,pe),new Error(`Failed to load verifications: ${Y.status}`)}const ne=await Y.json();console.log(" KYC Data received:",ne),ne.verifications&&ne.verifications.length>0?s(ne.verifications):(console.log(" No verifications found in response"),s([]))}catch(M){console.error(" Error loading verifications:",M),s([])}finally{c(!1)}},z=async M=>{if(u){if(!M&&!g){alert("Por favor selecciona un motivo de rechazo");return}b(!0);try{const{data:{session:$}}=await _e.auth.getSession(),X=$?.access_token,ne=await fetch("http://localhost:3001/api/kyc/review",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({verificationId:u.id,adminId:a.id,approved:M,reason:M?null:g,notes:m})}),pe=await ne.json();if(!ne.ok)throw new Error(pe.error||"Failed to review verification");pe.warning&&console.warn(pe.warning),await V(),d(null),p(""),y("")}catch($){console.error("Error reviewing verification:",$),alert("Error al procesar la revisin: "+($ instanceof Error?$.message:"Error desconocido"))}finally{b(!1)}}};return i?o.jsx(Ve,{variant:"default",padding:"lg",children:o.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[o.jsx(rh,{className:"w-8 h-8 text-primary animate-spin mb-4"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cargando verificaciones..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Ve,{variant:"default",padding:"none",className:"overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Verificaciones KYC Pendientes"}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[t.length," verificacin",t.length!==1?"es":""," pendiente",t.length!==1?"s":""]})]}),o.jsx(be,{variant:"ghost",size:"sm",onClick:V,className:"text-slate-500 hover:text-primary",children:o.jsx(Fh,{size:16})})]}),t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Bl,{className:"w-16 h-16 text-green-500 mx-auto mb-4 opacity-20"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No hay verificaciones pendientes"}),o.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Todo est al da!"})]}):o.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.map(M=>o.jsx("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer group",onClick:()=>d(M),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-primary transition-colors",children:M.profiles.full_name}),M.ai_confidence&&o.jsxs("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded-full ${M.ai_confidence>=.95?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-warning/20 text-warning-dark"}`,children:["IA: ",(M.ai_confidence*100).toFixed(0),"%"]})]}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:M.profiles.email}),o.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 flex items-center gap-1",children:[o.jsx(Clock,{size:12}),new Date(M.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning-dark text-xs font-bold rounded-full border border-warning/20",children:M.status==="pending"?"Pendiente":"En Revisin"}),o.jsx(be,{size:"sm",variant:"secondary",children:"Revisar"})]})]})},M.id))})]}),o.jsx(qt,{children:u&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:o.jsx(de.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white dark:bg-slate-800 rounded-3xl w-full max-w-5xl shadow-2xl border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6 md:p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white",children:"Revisar Verificacin"}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 font-medium",children:[u.profiles.full_name,"  ",u.profiles.email]})]}),o.jsx("button",{onClick:()=>d(null),className:"p-2 rounded-full text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:o.jsx($A,{className:"w-6 h-6"})})]}),u.ai_validation&&o.jsxs("div",{className:"mb-8 p-6 bg-secondary/5 rounded-2xl border border-secondary/20",children:[o.jsxs("h4",{className:"font-bold text-secondary-dark mb-4 flex items-center gap-2",children:[o.jsx("span",{children:""})," Validacin de IA",o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${(u.ai_confidence||0)>=.95?"bg-green-100 text-green-700":"bg-warning/20 text-warning-dark"}`,children:["Confianza: ",((u.ai_confidence||0)*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.entries(u.ai_validation.validations||{}).map(([M,$])=>{const X=M.replace(/([A-Z])/g,"_$1").toLowerCase(),Y=S[M]||S[X]||M.replace(/_/g," ");return o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-900/50 p-3 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[o.jsx("span",{className:$?"text-green-500":"text-red-500",children:$?o.jsx(Bl,{className:"w-5 h-5"}):o.jsx(Hh,{className:"w-5 h-5"})}),o.jsx("span",{className:"text-slate-700 dark:text-slate-300 capitalize font-medium",children:Y})]},M)})}),u.ai_validation.summary&&o.jsxs("p",{className:"mt-4 text-sm text-slate-600 dark:text-slate-400 italic border-t border-secondary/20 pt-3",children:['"',u.ai_validation.summary,'"']})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(SA,{className:"w-5 h-5 text-primary"})," Documento de Identidad"]}),o.jsxs("div",{className:"aspect-video bg-slate-100 dark:bg-slate-900 rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700 relative group shadow-inner",children:[o.jsx("img",{src:T(u.id_document_url),alt:"Documento de Identidad",className:"w-full h-full object-contain",onError:M=>A(u.id_document_url,M)}),o.jsx("a",{href:T(u.id_document_url),target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold",children:"Ver original"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(Sw,{className:"w-5 h-5 text-secondary"})," Selfie"]}),o.jsxs("div",{className:"aspect-square max-w-[300px] mx-auto bg-slate-100 dark:bg-slate-900 rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700 relative group shadow-inner",children:[o.jsx("img",{src:T(u.selfie_url),alt:"Selfie",className:"w-full h-full object-cover",onError:M=>A(u.selfie_url,M)}),o.jsx("a",{href:T(u.selfie_url),target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold",children:"Ver original"})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 h-full flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-6 text-lg",children:"Decisin de Revisin"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Notas internas (opcional)"}),o.jsx("textarea",{value:m,onChange:M=>p(M.target.value),className:"w-full rounded-xl border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary p-3 transition-all outline-none",rows:4,placeholder:"Agrega notas para el registro..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Motivo de rechazo (si aplica)"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:g,onChange:M=>y(M.target.value),className:"w-full rounded-xl border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-red-500/20 focus:border-red-500 p-3 appearance-none outline-none transition-all",children:[o.jsx("option",{value:"",children:"-- Selecciona un motivo --"}),_.map(M=>o.jsx("option",{value:M,children:M},M))]}),o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[o.jsxs(be,{variant:"danger",onClick:()=>z(!1),disabled:x,className:"w-full py-4 text-base",children:[x?o.jsx(rh,{className:"w-5 h-5 animate-spin"}):o.jsx(Hh,{className:"w-5 h-5 mr-2"}),"Rechazar"]}),o.jsxs(be,{variant:"primary",onClick:()=>z(!0),disabled:x,className:"w-full py-4 text-base shadow-lg shadow-primary/30",children:[x?o.jsx(rh,{className:"w-5 h-5 animate-spin"}):o.jsx(Bl,{className:"w-5 h-5 mr-2"}),"Aprobar"]})]})]})})]})]})})})})]})},Tw=6048e5,LC=864e5,qv=Symbol.for("constructDateFrom");function Ba(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&qv in a?a[qv](t):a instanceof Date?new a.constructor(t):new Date(t)}function _n(a,t){return Ba(t||a,a)}let BC={};function mc(){return BC}function Wr(a,t){const s=mc(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=_n(a,t?.in),u=c.getDay(),d=(u<i?7:0)+u-i;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}function nc(a,t){return Wr(a,{...t,weekStartsOn:1})}function Aw(a,t){const s=_n(a,t?.in),i=s.getFullYear(),c=Ba(s,0);c.setFullYear(i+1,0,4),c.setHours(0,0,0,0);const u=nc(c),d=Ba(s,0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);const m=nc(d);return s.getTime()>=u.getTime()?i+1:s.getTime()>=m.getTime()?i:i-1}function Hv(a){const t=_n(a),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+a-+s}function zC(a,...t){const s=Ba.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function Fv(a,t){const s=_n(a,t?.in);return s.setHours(0,0,0,0),s}function VC(a,t,s){const[i,c]=zC(s?.in,a,t),u=Fv(i),d=Fv(c),m=+u-Hv(u),p=+d-Hv(d);return Math.round((m-p)/LC)}function qC(a,t){const s=Aw(a,t),i=Ba(a,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),nc(i)}function HC(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function FC(a){return!(!HC(a)&&typeof a!="number"||isNaN(+_n(a)))}function $C(a,t){const s=_n(a,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const IC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GC=(a,t,s)=>{let i;const c=IC[a];return typeof c=="string"?i=c:t===1?i=c.one:i=c.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function Si(a){return(t={})=>{const s=t.width?String(t.width):a.defaultWidth;return a.formats[s]||a.formats[a.defaultWidth]}}const YC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WC={date:Si({formats:YC,defaultWidth:"full"}),time:Si({formats:KC,defaultWidth:"full"}),dateTime:Si({formats:XC,defaultWidth:"full"})},QC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JC=(a,t,s,i)=>QC[a];function On(a){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let c;if(i==="formatting"&&a.formattingValues){const d=a.defaultFormattingWidth||a.defaultWidth,m=s?.width?String(s.width):d;c=a.formattingValues[m]||a.formattingValues[d]}else{const d=a.defaultWidth,m=s?.width?String(s.width):a.defaultWidth;c=a.values[m]||a.values[d]}const u=a.argumentCallback?a.argumentCallback(t):t;return c[u]}}const ZC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},e4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},a4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i4=(a,t)=>{const s=Number(a),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},r4={ordinalNumber:i4,era:On({values:ZC,defaultWidth:"wide"}),quarter:On({values:e4,defaultWidth:"wide",argumentCallback:a=>a-1}),month:On({values:t4,defaultWidth:"wide"}),day:On({values:n4,defaultWidth:"wide"}),dayPeriod:On({values:a4,defaultWidth:"wide",formattingValues:s4,defaultFormattingWidth:"wide"})};function Dn(a){return(t,s={})=>{const i=s.width,c=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],u=t.match(c);if(!u)return null;const d=u[0],m=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],p=Array.isArray(m)?l4(m,x=>x.test(d)):o4(m,x=>x.test(d));let g;g=a.valueCallback?a.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const y=t.slice(d.length);return{value:g,rest:y}}}function o4(a,t){for(const s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&t(a[s]))return s}function l4(a,t){for(let s=0;s<a.length;s++)if(t(a[s]))return s}function Cw(a){return(t,s={})=>{const i=t.match(a.matchPattern);if(!i)return null;const c=i[0],u=t.match(a.parsePattern);if(!u)return null;let d=a.valueCallback?a.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const m=t.slice(c.length);return{value:d,rest:m}}}const c4=/^(\d+)(th|st|nd|rd)?/i,u4=/\d+/i,d4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h4={any:[/^b/i,/^(a|c)/i]},f4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m4={any:[/1/i,/2/i,/3/i,/4/i]},p4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},v4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w4={ordinalNumber:Cw({matchPattern:c4,parsePattern:u4,valueCallback:a=>parseInt(a,10)}),era:Dn({matchPatterns:d4,defaultMatchWidth:"wide",parsePatterns:h4,defaultParseWidth:"any"}),quarter:Dn({matchPatterns:f4,defaultMatchWidth:"wide",parsePatterns:m4,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Dn({matchPatterns:p4,defaultMatchWidth:"wide",parsePatterns:g4,defaultParseWidth:"any"}),day:Dn({matchPatterns:y4,defaultMatchWidth:"wide",parsePatterns:v4,defaultParseWidth:"any"}),dayPeriod:Dn({matchPatterns:x4,defaultMatchWidth:"any",parsePatterns:b4,defaultParseWidth:"any"})},j4={code:"en-US",formatDistance:GC,formatLong:WC,formatRelative:JC,localize:r4,match:w4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S4(a,t){const s=_n(a,t?.in);return VC(s,$C(s))+1}function _4(a,t){const s=_n(a,t?.in),i=+nc(s)-+qC(s);return Math.round(i/Tw)+1}function Rw(a,t){const s=_n(a,t?.in),i=s.getFullYear(),c=mc(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,d=Ba(t?.in||a,0);d.setFullYear(i+1,0,u),d.setHours(0,0,0,0);const m=Wr(d,t),p=Ba(t?.in||a,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const g=Wr(p,t);return+s>=+m?i+1:+s>=+g?i:i-1}function N4(a,t){const s=mc(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Rw(a,t),u=Ba(t?.in||a,0);return u.setFullYear(c,0,i),u.setHours(0,0,0,0),Wr(u,t)}function k4(a,t){const s=_n(a,t?.in),i=+Wr(s,t)-+N4(s,t);return Math.round(i/Tw)+1}function Pe(a,t){const s=a<0?"-":"",i=Math.abs(a).toString().padStart(t,"0");return s+i}const Oa={y(a,t){const s=a.getFullYear(),i=s>0?s:1-s;return Pe(t==="yy"?i%100:i,t.length)},M(a,t){const s=a.getMonth();return t==="M"?String(s+1):Pe(s+1,2)},d(a,t){return Pe(a.getDate(),t.length)},a(a,t){const s=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(a,t){return Pe(a.getHours()%12||12,t.length)},H(a,t){return Pe(a.getHours(),t.length)},m(a,t){return Pe(a.getMinutes(),t.length)},s(a,t){return Pe(a.getSeconds(),t.length)},S(a,t){const s=t.length,i=a.getMilliseconds(),c=Math.trunc(i*Math.pow(10,s-3));return Pe(c,t.length)}},fi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$v={G:function(a,t,s){const i=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(a,t,s){if(t==="yo"){const i=a.getFullYear(),c=i>0?i:1-i;return s.ordinalNumber(c,{unit:"year"})}return Oa.y(a,t)},Y:function(a,t,s,i){const c=Rw(a,i),u=c>0?c:1-c;if(t==="YY"){const d=u%100;return Pe(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Pe(u,t.length)},R:function(a,t){const s=Aw(a);return Pe(s,t.length)},u:function(a,t){const s=a.getFullYear();return Pe(s,t.length)},Q:function(a,t,s){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Pe(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,t,s){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Pe(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,t,s){const i=a.getMonth();switch(t){case"M":case"MM":return Oa.M(a,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(a,t,s){const i=a.getMonth();switch(t){case"L":return String(i+1);case"LL":return Pe(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(a,t,s,i){const c=k4(a,i);return t==="wo"?s.ordinalNumber(c,{unit:"week"}):Pe(c,t.length)},I:function(a,t,s){const i=_4(a);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):Pe(i,t.length)},d:function(a,t,s){return t==="do"?s.ordinalNumber(a.getDate(),{unit:"date"}):Oa.d(a,t)},D:function(a,t,s){const i=S4(a);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):Pe(i,t.length)},E:function(a,t,s){const i=a.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(a,t,s,i){const c=a.getDay(),u=(c-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Pe(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(c,{width:"short",context:"formatting"});case"eeee":default:return s.day(c,{width:"wide",context:"formatting"})}},c:function(a,t,s,i){const c=a.getDay(),u=(c-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Pe(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(c,{width:"narrow",context:"standalone"});case"cccccc":return s.day(c,{width:"short",context:"standalone"});case"cccc":default:return s.day(c,{width:"wide",context:"standalone"})}},i:function(a,t,s){const i=a.getDay(),c=i===0?7:i;switch(t){case"i":return String(c);case"ii":return Pe(c,t.length);case"io":return s.ordinalNumber(c,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(a,t,s){const c=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(a,t,s){const i=a.getHours();let c;switch(i===12?c=fi.noon:i===0?c=fi.midnight:c=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(a,t,s){const i=a.getHours();let c;switch(i>=17?c=fi.evening:i>=12?c=fi.afternoon:i>=4?c=fi.morning:c=fi.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(a,t,s){if(t==="ho"){let i=a.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return Oa.h(a,t)},H:function(a,t,s){return t==="Ho"?s.ordinalNumber(a.getHours(),{unit:"hour"}):Oa.H(a,t)},K:function(a,t,s){const i=a.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):Pe(i,t.length)},k:function(a,t,s){let i=a.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):Pe(i,t.length)},m:function(a,t,s){return t==="mo"?s.ordinalNumber(a.getMinutes(),{unit:"minute"}):Oa.m(a,t)},s:function(a,t,s){return t==="so"?s.ordinalNumber(a.getSeconds(),{unit:"second"}):Oa.s(a,t)},S:function(a,t){return Oa.S(a,t)},X:function(a,t,s){const i=a.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Gv(i);case"XXXX":case"XX":return hs(i);case"XXXXX":case"XXX":default:return hs(i,":")}},x:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"x":return Gv(i);case"xxxx":case"xx":return hs(i);case"xxxxx":case"xxx":default:return hs(i,":")}},O:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Iv(i,":");case"OOOO":default:return"GMT"+hs(i,":")}},z:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Iv(i,":");case"zzzz":default:return"GMT"+hs(i,":")}},t:function(a,t,s){const i=Math.trunc(+a/1e3);return Pe(i,t.length)},T:function(a,t,s){return Pe(+a,t.length)}};function Iv(a,t=""){const s=a>0?"-":"+",i=Math.abs(a),c=Math.trunc(i/60),u=i%60;return u===0?s+String(c):s+String(c)+t+Pe(u,2)}function Gv(a,t){return a%60===0?(a>0?"-":"+")+Pe(Math.abs(a)/60,2):hs(a,t)}function hs(a,t=""){const s=a>0?"-":"+",i=Math.abs(a),c=Pe(Math.trunc(i/60),2),u=Pe(i%60,2);return s+c+t+u}const Yv=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ow=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},E4=(a,t)=>{const s=a.match(/(P+)(p+)?/)||[],i=s[1],c=s[2];if(!c)return Yv(a,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Yv(i,t)).replace("{{time}}",Ow(c,t))},T4={p:Ow,P:E4},A4=/^D+$/,C4=/^Y+$/,R4=["D","DD","YY","YYYY"];function O4(a){return A4.test(a)}function D4(a){return C4.test(a)}function M4(a,t,s){const i=U4(a,t,s);if(console.warn(i),R4.includes(a))throw new RangeError(i)}function U4(a,t,s){const i=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const P4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B4=/^'([^]*?)'?$/,z4=/''/g,V4=/[a-zA-Z]/;function q4(a,t,s){const i=mc(),c=s?.locale??i.locale??j4,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,m=_n(a,s?.in);if(!FC(m))throw new RangeError("Invalid time value");let p=t.match(L4).map(y=>{const x=y[0];if(x==="p"||x==="P"){const b=T4[x];return b(y,c.formatLong)}return y}).join("").match(P4).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:H4(y)};if($v[x])return{isToken:!0,value:y};if(x.match(V4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});c.localize.preprocessor&&(p=c.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:c};return p.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!s?.useAdditionalWeekYearTokens&&D4(x)||!s?.useAdditionalDayOfYearTokens&&O4(x))&&M4(x,t,String(a));const b=$v[x[0]];return b(m,x,c.localize,g)}).join("")}function H4(a){const t=a.match(B4);return t?t[1].replace(z4,"'"):a}const F4={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},$4=(a,t,s)=>{let i;const c=F4[a];return typeof c=="string"?i=c:t===1?i=c.one:i=c.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"en "+i:"hace "+i:i},I4={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},G4={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Y4={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K4={date:Si({formats:I4,defaultWidth:"full"}),time:Si({formats:G4,defaultWidth:"full"}),dateTime:Si({formats:Y4,defaultWidth:"full"})},X4={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},W4={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Q4=(a,t,s,i)=>t.getHours()!==1?W4[a]:X4[a],J4={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Z4={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},e3={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},t3={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},n3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},a3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},s3=(a,t)=>Number(a)+"",i3={ordinalNumber:s3,era:On({values:J4,defaultWidth:"wide"}),quarter:On({values:Z4,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:On({values:e3,defaultWidth:"wide"}),day:On({values:t3,defaultWidth:"wide"}),dayPeriod:On({values:n3,defaultWidth:"wide",formattingValues:a3,defaultFormattingWidth:"wide"})},r3=/^(\d+)()?/i,o3=/\d+/i,l3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},c3={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},u3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},d3={any:[/1/i,/2/i,/3/i,/4/i]},h3={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},f3={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},m3={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},p3={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},g3={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},y3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},v3={ordinalNumber:Cw({matchPattern:r3,parsePattern:o3,valueCallback:function(a){return parseInt(a,10)}}),era:Dn({matchPatterns:l3,defaultMatchWidth:"wide",parsePatterns:c3,defaultParseWidth:"any"}),quarter:Dn({matchPatterns:u3,defaultMatchWidth:"wide",parsePatterns:d3,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Dn({matchPatterns:h3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),day:Dn({matchPatterns:m3,defaultMatchWidth:"wide",parsePatterns:p3,defaultParseWidth:"any"}),dayPeriod:Dn({matchPatterns:g3,defaultMatchWidth:"any",parsePatterns:y3,defaultParseWidth:"any"})},x3={code:"es",formatDistance:$4,formatLong:K4,formatRelative:Q4,localize:i3,match:v3,options:{weekStartsOn:1,firstWeekContainsDate:1}},b3=()=>{const[a,t]=E.useState([]),[s,i]=E.useState(!0),[c,u]=E.useState(null),[d,m]=E.useState(null),p=async()=>{try{i(!0);const{data:{session:b}}=await _e.auth.getSession();if(!b)throw new Error("No hay sesin activa");const N=await fetch("http://localhost:3001/api/admin/transactions",{headers:{Authorization:`Bearer ${b.access_token}`}});if(!N.ok)throw new Error("Error al obtener transacciones");const S=await N.json();t(S||[])}catch(b){console.error("Error fetching transactions:",b),u(b.message)}finally{i(!1)}};E.useEffect(()=>{p()},[]);const g=async(b,w)=>{console.log("handleStatusChange called:",{transaction_id:b,newStatus:w});try{console.log("Updating status in Supabase...");const{error:N}=await _e.from("transactions").update({status:w,processed_at:new Date().toISOString()}).eq("transaction_id",b);if(N)throw console.error("Supabase error:",N),N;console.log("Status updated successfully, refreshing list..."),await p()}catch(N){console.error("handleStatusChange error:",N),alert(` Error: ${N.message}`)}},y=b=>{m(d===b?null:b)},x=b=>{const w={PENDIENTE:"bg-warning/10 text-warning-dark border-warning/20",PROCESANDO:"bg-secondary/10 text-secondary-dark border-secondary/20",COMPLETADO:"bg-accent/10 text-accent-dark border-accent/20",FALLIDO:"bg-red-50 text-red-600 border-red-100"},N={PENDIENTE:o.jsx(ww,{size:12}),PROCESANDO:o.jsx(Fh,{size:12,className:"animate-spin"}),COMPLETADO:o.jsx(Bl,{size:12}),FALLIDO:o.jsx(Hh,{size:12})};return o.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border flex items-center gap-1.5 w-fit ${w[b]||"bg-slate-100 text-slate-600 border-slate-200"}`,children:[N[b],b]})};return s?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})}):c?o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl border border-red-100 dark:border-red-900/30 flex items-center gap-3",children:[o.jsx(vA,{className:"w-5 h-5 flex-shrink-0"}),o.jsxs("p",{className:"text-sm font-medium",children:["Error: ",c]})]}):o.jsxs(Ve,{variant:"default",padding:"none",className:"overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Mesa de Operaciones"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Gestiona y supervisa todas las transacciones"})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[o.jsx(jw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Buscar ID...",className:"pl-9 pr-4 py-2 text-sm bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all w-full sm:w-48"})]}),o.jsx(be,{variant:"ghost",size:"sm",onClick:p,className:"text-slate-500 hover:text-primary",children:o.jsx(Fh,{size:16})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-xs uppercase text-slate-500 font-semibold",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Fecha / ID"}),o.jsx("th",{className:"px-6 py-3",children:"Usuario"}),o.jsx("th",{className:"px-6 py-3",children:"Enva"}),o.jsx("th",{className:"px-6 py-3",children:"Recibe"}),o.jsx("th",{className:"px-6 py-3",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:a.map(b=>o.jsxs(Ma.Fragment,{children:[o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer ${d===b.id?"bg-slate-50 dark:bg-slate-800/50":""}`,onClick:()=>y(b.id),children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:q4(new Date(b.created_at),"dd MMM HH:mm",{locale:x3})}),o.jsxs("div",{className:"text-xs text-slate-400 font-mono mt-0.5 flex items-center gap-1",children:[b.transaction_id.slice(0,8),"...",d===b.id?o.jsx(gA,{size:12}):o.jsx(mA,{size:12})]})]}),o.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300 font-mono text-xs",children:[b.user_id.slice(0,8),"..."]}),o.jsxs("td",{className:"px-6 py-4 font-bold text-slate-800 dark:text-white",children:[b.amount_sent.toLocaleString()," ",o.jsx("span",{className:"text-xs font-normal text-slate-500",children:b.currency_sent})]}),o.jsxs("td",{className:"px-6 py-4 font-bold text-accent-dark",children:[b.amount_received.toLocaleString()," ",o.jsx("span",{className:"text-xs font-normal text-accent-dark/70",children:b.currency_received})]}),o.jsx("td",{className:"px-6 py-4",children:x(b.status)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex justify-end gap-2",onClick:w=>w.stopPropagation(),children:[b.status==="PENDIENTE"&&o.jsx(be,{size:"sm",variant:"secondary",onClick:()=>g(b.transaction_id,"PROCESANDO"),children:"Verificar"}),b.status==="PROCESANDO"&&o.jsxs(o.Fragment,{children:[o.jsx(be,{size:"sm",className:"bg-accent hover:bg-accent-dark text-white border-none",onClick:()=>g(b.transaction_id,"COMPLETADO"),children:"Completar"}),o.jsx(be,{size:"sm",variant:"danger",onClick:()=>g(b.transaction_id,"FALLIDO"),children:"Rechazar"})]})]})})]}),d===b.id&&o.jsx("tr",{className:"bg-slate-50/50 dark:bg-slate-800/30",children:o.jsx("td",{colSpan:6,className:"p-0",children:o.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-primary rounded-full"}),"Detalles del Beneficiario"]}),o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-700 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Nombre:"}),o.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:b.recipient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Banco:"}),o.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:b.recipient_bank})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Cuenta:"}),o.jsx("span",{className:"font-mono font-medium text-slate-800 dark:text-white",children:b.recipient_account})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Documento:"}),o.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:b.recipient_id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Pas Destino:"}),o.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:b.to_country_code})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-secondary rounded-full"}),"Detalles Financieros"]}),o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-700 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Comisin:"}),o.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[b.fee," ",b.currency_sent]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Tasa Implcita:"}),o.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:["1 ",b.currency_sent," = ",(b.amount_received/(b.amount_sent-b.fee)).toFixed(4)," ",b.currency_received]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"ID Completo:"}),o.jsx("span",{className:"font-mono text-xs text-slate-400",children:b.transaction_id})]})]}),b.receipt_url?o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Comprobante de Pago"}),o.jsxs("a",{href:b.receipt_url,target:"_blank",rel:"noopener noreferrer",className:"block group relative overflow-hidden rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("img",{src:b.receipt_url,alt:"Comprobante",className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-white font-medium text-sm bg-black/50 px-3 py-1 rounded-full backdrop-blur-sm",children:"Ver original"})})]})]}):o.jsx("div",{className:"mt-4 p-4 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl text-center bg-slate-50 dark:bg-slate-800/50",children:o.jsx("p",{className:"text-slate-400 text-xs",children:"Sin comprobante adjunto"})})]})]})})})]},b.id))})]})})]})};function w3({user:a}){const[t,s]=E.useState("Dashboard"),[i,c]=E.useState(null),[u,d]=E.useState([]),[m,p]=E.useState([]),[g,y]=E.useState(!1),[x,b]=E.useState(null),[w,N]=E.useState(1),[S,_]=E.useState(10);if(E.useEffect(()=>{$h(a)&&(async()=>{y(!0);try{const[T,A,V]=await Promise.all([YA(),oh(),Bv()]);c(T),d(A),p(V),b(null)}catch{b("No se pudo conectar al backend en http://localhost:3001. Verifica que el servidor est iniciado y variables SUPABASE_URL/SERVICE_ROLE estn configuradas.")}finally{y(!1)}})()},[a]),!$h(a))return o.jsxs("div",{className:"p-6 flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:o.jsx(zl,{className:"w-8 h-8 text-red-500"})}),o.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"Acceso denegado"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-2",children:"No tienes privilegios de administrador para ver esta seccin."})]});const C=[{id:"Dashboard",label:"Dashboard",icon:AA},{id:"Operaciones",label:"Operaciones",icon:lA},{id:"Users",label:"Usuarios",icon:_w},{id:"KYC",label:"KYC",icon:zl},{id:"Settings",label:"Configuracin",icon:LA}];return o.jsx(no,{children:o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Panel de Administracin"}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Gestin integral de la plataforma"})]}),o.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl overflow-x-auto max-w-full no-scrollbar",children:C.map(T=>o.jsxs("button",{onClick:()=>s(T.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${t===T.id?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[o.jsx(T.icon,{size:16}),T.label]},T.id))})]}),g&&o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})}),x&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl border border-red-100 dark:border-red-900/30 flex items-center gap-3",children:[o.jsx(zl,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("p",{className:"text-sm font-medium",children:x})]}),!g&&!x&&o.jsxs(o.Fragment,{children:[t==="Dashboard"&&i&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(Ve,{variant:"default",padding:"md",className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Transacciones"}),o.jsx("p",{className:"text-3xl font-extrabold text-slate-800 dark:text-white",children:i.totalTransactions}),o.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-primary w-3/4 rounded-full"})})]}),o.jsxs(Ve,{variant:"default",padding:"md",className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Monto enviado"}),o.jsx("p",{className:"text-3xl font-extrabold text-slate-800 dark:text-white",children:i.totalAmountSent}),o.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-secondary w-1/2 rounded-full"})})]}),o.jsxs(Ve,{variant:"default",padding:"md",className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Usuarios"}),o.jsx("p",{className:"text-3xl font-extrabold text-slate-800 dark:text-white",children:i.totalUsers}),o.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-accent w-2/3 rounded-full"})})]}),o.jsxs(Ve,{variant:"default",padding:"md",className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Verificaciones"}),o.jsx("p",{className:"text-3xl font-extrabold text-slate-800 dark:text-white",children:i.totalVerifications}),o.jsx("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-warning w-4/5 rounded-full"})})]})]}),t==="Users"&&o.jsxs(Ve,{variant:"default",padding:"none",className:"overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Gestin de Usuarios"}),o.jsxs("div",{className:"relative",children:[o.jsx(jw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Buscar usuario...",className:"pl-9 pr-4 py-2 text-sm bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all w-64"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-xs uppercase text-slate-500 font-semibold",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Nombre"}),o.jsx("th",{className:"px-6 py-3",children:"Email"}),o.jsx("th",{className:"px-6 py-3",children:"Telfono"}),o.jsx("th",{className:"px-6 py-3",children:"Verificado"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u.slice((w-1)*S,(w-1)*S+S).map(T=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:T.full_name||"-"}),o.jsx("td",{className:"px-6 py-4 text-slate-500",children:T.email||"-"}),o.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono",children:T.phone||"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${T.is_verified?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}`,children:T.is_verified?"Verificado":"Pendiente"})}),o.jsxs("td",{className:"px-6 py-4 flex justify-end gap-2",children:[o.jsx(be,{variant:"secondary",size:"sm",onClick:async()=>{await KA(T.id,{is_verified:!T.is_verified});const A=await oh();d(A)},children:T.is_verified?"Invalidar":"Verificar"}),o.jsx(be,{variant:"danger",size:"sm",onClick:async()=>{if(confirm("Ests seguro?")){await XA(T.id);const A=await oh();d(A)}},children:"Eliminar"})]})]},T.id))})]})}),o.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700",children:o.jsx(Bf,{currentPage:w,totalPages:Math.max(1,Math.ceil(u.length/S)),onPageChange:N,itemsPerPage:S,onItemsPerPageChange:T=>{_(T),N(1)}})})]}),t==="KYC"&&o.jsx(PC,{user:a}),t==="Settings"&&o.jsxs(Ve,{variant:"default",padding:"lg",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6",children:"Configuracin del Sistema"}),o.jsx("div",{className:"space-y-4",children:m.map((T,A)=>o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:T.key||"Configuracin"}),o.jsx("input",{className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-800 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",value:T.value||"",onChange:V=>{const z=[...m];z[A]={...T,value:V.target.value},p(z)}})]}),o.jsx(be,{onClick:async()=>{await WA(T);const V=await Bv();p(V)},className:"mt-6 sm:mt-0",children:"Guardar"})]},A))})]}),t==="Operaciones"&&o.jsx(b3,{})]})]})})}const j3="modulepreload",S3=function(a){return"/"+a},Kv={},_3=function(t,s,i){let c=Promise.resolve();if(s&&s.length>0){let g=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var d=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");c=g(s.map(y=>{if(y=S3(y),y in Kv)return;Kv[y]=!0;const x=y.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":j3,x||(w.as="script"),w.crossOrigin="",w.href=y,p&&w.setAttribute("nonce",p),document.head.appendChild(w),x)return new Promise((N,S)=>{w.addEventListener("load",N),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return c.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return t().catch(u)})},uh=({title:a,icon:t,children:s,className:i="",onClick:c,variant:u="default",delay:d=0})=>{const m=()=>{switch(u){case"primary":return"bg-primary/5 dark:bg-primary/10 border-primary/10 text-primary-dark dark:text-primary-light";case"secondary":return"bg-secondary/5 dark:bg-secondary/10 border-secondary/10 text-secondary-dark dark:text-secondary-light";case"accent":return"bg-accent/5 dark:bg-accent/10 border-accent/10 text-accent-dark dark:text-accent-light";default:return"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-800 dark:text-white"}};return o.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d},onClick:c,className:`
        relative overflow-hidden
        rounded-[2rem] p-6
        border shadow-lg shadow-slate-200/50 dark:shadow-none
        transition-all duration-300
        ${c?"cursor-pointer hover:scale-[1.02] active:scale-95":""}
        ${m()}
        ${i}
      `,children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-current opacity-[0.03] rounded-full blur-2xl transform translate-x-1/2 -translate-y-1/2 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider opacity-80",children:a}),t&&o.jsx("div",{className:"p-2 rounded-full bg-white/50 dark:bg-black/20 backdrop-blur-sm",children:t})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-end",children:s})]})]})},N3=({user:a,onNewTransaction:t})=>o.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl bg-gradient-to-br from-primary via-primary/90 to-purple-600 text-white shadow-2xl shadow-primary/20 mb-8",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-warning/20 rounded-full blur-2xl translate-y-1/3 -translate-x-1/4 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 px-6 py-8 md:px-10 md:py-12 flex flex-col md:flex-row items-center justify-between gap-8",children:[o.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[o.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-xs font-medium text-white/90",children:[o.jsx(VA,{size:12,className:"text-warning"}),o.jsx("span",{children:"Tu dinero, seguro y al instante"})]}),o.jsxs(de.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-3xl md:text-5xl font-extrabold tracking-tight leading-tight",children:["Hola, ",a.fullName.split(" ")[0]," ",o.jsx("span",{className:"inline-block animate-bounce",children:""})]}),o.jsx(de.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg text-white/80 max-w-md mx-auto md:mx-0 font-medium",children:"Enva remesas a Venezuela, Colombia, Per y ms con las mejores tasas del mercado."})]}),o.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"flex-shrink-0",children:o.jsxs("button",{onClick:t,className:"group relative px-8 py-4 bg-white text-primary font-bold text-lg rounded-2xl shadow-xl hover:shadow-2xl hover:bg-slate-50 transition-all duration-300 flex items-center gap-3 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-100/50 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),o.jsx("span",{className:"relative",children:"Enviar Dinero"}),o.jsx("div",{className:"bg-primary/10 p-1.5 rounded-full group-hover:bg-primary/20 transition-colors",children:o.jsx(uA,{size:20,className:"group-hover:translate-x-1 transition-transform"})})]})})]})]}),Xv=({user:a,onNewTransaction:t})=>{const[s,i]=Ma.useState(0),[c,u]=Ma.useState(0),[d,m]=Ma.useState(!0),[p,g]=Ma.useState([]),{getRate:y,isLoading:x}=dc(),b=y("USD","VES");return Ma.useEffect(()=>{(async()=>{try{const{data:{session:N}}=await _3(()=>Promise.resolve().then(()=>eA),void 0).then(C=>C.supabase.auth.getSession());if(!N)return;const _=await fetch(`http://localhost:3001/api/remittances/history?userId=${a.id}`,{headers:{Authorization:`Bearer ${N.access_token}`}});if(_.ok){const C=await _.json();if(Array.isArray(C)){const T=C.filter(z=>z.status==="COMPLETADO"),A=T.reduce((z,M)=>z+(Number(M.amount_sent)||0),0);i(A),u(T.length);const V=new Map;C.forEach(z=>{V.has(z.recipient_name)||V.set(z.recipient_name,{name:z.recipient_name,bank:z.recipient_bank,initials:z.recipient_name.split(" ").map(M=>M[0]).join("").substring(0,2).toUpperCase(),account_number:z.recipient_account,document_id:z.recipient_id,country_code:z.to_country_code})}),g(Array.from(V.values()).slice(0,3))}}}catch(N){console.error("Error fetching dashboard stats:",N)}finally{m(!1)}})()},[a.id]),o.jsxs("div",{className:"space-y-8 animate-fade-in-up mb-8",children:[o.jsx(N3,{user:a,onNewTransaction:t}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(uh,{title:"Total Enviado",variant:"primary",className:"lg:col-span-2 min-h-[200px]",icon:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),o.jsx("polyline",{points:"17 6 23 6 23 12"})]}),children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsxs("span",{className:"text-5xl sm:text-6xl font-extrabold tracking-tighter",children:["$",s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsx("span",{className:"text-xl opacity-60 font-bold",children:"USD"})]}),o.jsx("div",{className:"h-16 w-full flex items-end gap-1 opacity-50",children:[40,65,50,80,55,90,70,85,60,95].map((w,N)=>o.jsx("div",{className:"flex-1 bg-current rounded-t-sm",style:{height:`${w}%`}},N))}),o.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-70",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),o.jsxs("span",{children:[c," transacciones exitosas"]})]})]})}),o.jsx(uh,{title:"Tasa del Da",variant:"accent",delay:.1,icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),children:o.jsxs("div",{className:"flex flex-col h-full justify-between",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"text-sm opacity-70 mb-1",children:"1 USD ="}),o.jsx("div",{className:"text-4xl font-black tracking-tight flex items-center justify-center gap-2",children:x?o.jsx("span",{className:"animate-pulse",children:"..."}):o.jsxs(o.Fragment,{children:[b.toFixed(2),o.jsx("span",{className:"text-lg opacity-60",children:"VES"})]})})]}),o.jsxs("div",{className:"bg-white/50 dark:bg-black/20 rounded-xl p-3 text-xs text-center",children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:" 0.5%"})," vs ayer"]})]})}),o.jsx(uh,{title:"Enviar de Nuevo",variant:"secondary",className:"lg:col-span-3",delay:.2,children:o.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[o.jsxs("button",{onClick:()=>t(),className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-primary p-4 rounded-2xl shadow-sm flex items-center gap-3 transition-all group",children:[o.jsx("div",{className:"bg-primary/10 p-2 rounded-full group-hover:bg-primary/20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),o.jsx("span",{className:"font-bold",children:"Nuevo Destinatario"})]}),o.jsx("div",{className:"w-px h-12 bg-current opacity-10 mx-2 hidden sm:block"}),p.length>0?p.map((w,N)=>o.jsxs(de.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(w),className:"flex items-center gap-3 bg-white/60 dark:bg-black/20 p-3 pr-6 rounded-2xl hover:bg-white/80 dark:hover:bg-black/30 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md",children:w.initials}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-sm leading-tight",children:w.name.split(" ")[0]}),o.jsx("p",{className:"text-[10px] opacity-70",children:w.bank})]})]},N)):o.jsx("p",{className:"text-sm opacity-60 italic",children:"Tus envos recientes aparecern aqu"})]})})]})]})},k3=({user:a,onProfileUpdate:t})=>{const[s,i]=E.useState(Ye.Home),c=E.useRef(null),[u,d]=E.useState(!1),[m,p]=E.useState(null);E.useEffect(()=>{s===Ye.Calculator&&u&&(c.current?.resetCalculator(),d(!1))},[s,u]);const g=w=>{p(w),i(Ye.Calculator)},y=()=>{p(null)},x=w=>{if(w){const N={id:w.id||"temp-id",created_at:new Date().toISOString(),user_id:a.id,name:w.name,country_code:w.country_code||"VE",bank:w.bank,account_number:w.account_number||"",document_id:w.document_id||""};p(N)}else y();s===Ye.Calculator?w||c.current?.resetCalculator():(d(!0),i(Ye.Calculator))},b=()=>{switch(s){case Ye.Home:return o.jsx(Xv,{user:a,onNewTransaction:x});case Ye.Calculator:return o.jsx(rC,{ref:c,user:a,setActiveScreen:i,prefillData:m,onClearPrefill:y});case Ye.Exchange:return o.jsx(cC,{});case Ye.History:return o.jsx(NC,{user:a});case Ye.Profile:return o.jsx(mC,{user:a,onProfileUpdate:t});case Ye.Info:return o.jsx(bC,{});case Ye.Admin:return o.jsx(w3,{user:a});case Ye.Beneficiaries:return o.jsx(DC,{user:a,onSelectBeneficiary:g});default:return o.jsx(Xv,{user:a,onNewTransaction:x})}};return o.jsxs("div",{className:"min-h-screen bg-bg-primary dark:bg-gray-900 text-text-primary pb-24 md:pb-0 md:pl-24 relative overflow-hidden transition-colors duration-300",children:[o.jsx("div",{className:"fixed top-[-10%] right-[-5%] w-96 h-96 bg-secondary/10 rounded-full blur-3xl -z-10 pointer-events-none"}),o.jsx("div",{className:"fixed bottom-[-10%] left-[-5%] w-96 h-96 bg-warning/10 rounded-full blur-3xl -z-10 pointer-events-none"}),o.jsx(QA,{activeScreen:s,setActiveScreen:i,user:a}),o.jsx("main",{className:"max-w-4xl mx-auto p-6 md:p-12",children:o.jsx("div",{className:"w-full",children:o.jsx(qt,{mode:"wait",children:o.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeOut"},children:b()},s)})})}),o.jsx(UC,{})]})},E3=E.createContext(void 0),T3=({children:a})=>{const[t,s]=E.useState(()=>{const c=localStorage.getItem("theme");return c==="light"||c==="dark"?c:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});E.useEffect(()=>{const c=window.document.documentElement;t==="dark"?c.classList.add("dark"):c.classList.remove("dark")},[t]),E.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),u=d=>{localStorage.getItem("theme")||s(d.matches?"dark":"light")};return c.addEventListener("change",u),()=>c.removeEventListener("change",u)},[]);const i=()=>{s(c=>{const u=c==="light"?"dark":"light";return localStorage.setItem("theme",u),u})};return o.jsx(E3.Provider,{value:{theme:t,toggleTheme:i},children:a})};class A3 extends E.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Uncaught error:",t,s)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:o.jsxs(Ve,{className:"max-w-md w-full text-center p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Algo sali mal"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la pgina."}),this.state.error&&o.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg text-left text-xs font-mono text-red-500 overflow-auto max-h-32 mb-6",children:this.state.error.toString()})]}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(be,{onClick:()=>window.location.reload(),variant:"primary",children:"Recargar Pgina"}),o.jsx(be,{onClick:()=>window.location.href="/",variant:"secondary",children:"Ir al Inicio"})]})]})}):this.props.children}}const C3=()=>{const[a,t]=E.useState(null),[s,i]=E.useState(!0),c=async d=>{try{let{data:m,error:p}=await _e.from("profiles").select("full_name, is_verified, phone").eq("id",d.id).single();if(p&&p.code==="PGRST116"){console.warn("Perfil no encontrado para nuevo usuario, reintentando en 1 segundo..."),await new Promise(y=>setTimeout(y,1e3));const g=await _e.from("profiles").select("full_name, is_verified, phone").eq("id",d.id).single();m=g.data,p=g.error}return p?(console.error("Error fetching profile:",p.message),null):m?{...d,fullName:m.full_name||"",isVerified:m.is_verified||!1,phone:m.phone||""}:null}catch(m){return console.error("Ocurri un error inesperado en fetchUserProfile:",m.message),null}};E.useEffect(()=>{let d=null;return(async()=>{try{const{data:p}=await _e.auth.getSession(),g=p?.session||null;if(g){const y=await c(g.user);t(y)}else t(null)}finally{i(!1)}d=_e.auth.onAuthStateChange(async(p,g)=>{if(g){const y=await c(g.user);t(y)}else t(null)}).data||null})(),()=>{d?.subscription.unsubscribe()}},[]);const u=async d=>{if(!a)return;const m={};if(d.fullName!==void 0&&(m.full_name=d.fullName),d.isVerified!==void 0&&(m.is_verified=d.isVerified),d.phone!==void 0&&(m.phone=d.phone),Object.keys(m).length===0)return;const{error:p}=await _e.from("profiles").update(m).eq("id",a.id);if(!p)t(g=>g?{...g,...d}:null);else throw console.error("Error updating profile:",p),p};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-100 dark:from-gray-900 dark:to-slate-800 flex flex-col items-center justify-center transition-colors duration-300",children:o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsx(de.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},children:o.jsx(Wv,{className:"h-32 w-auto"})}),o.jsx("div",{className:"w-48 h-1.5 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden relative",children:o.jsx(de.div,{className:"absolute top-0 left-0 h-full w-1/4 bg-gradient-to-r from-transparent via-white/50 dark:via-white/20 to-transparent",initial:{x:"-150%"},animate:{x:"550%"},transition:{duration:2,repeat:1/0,ease:"linear"}})}),o.jsx(de.p,{className:"text-sm text-gray-500 dark:text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"Conectando de forma segura..."})]})}):o.jsx(T3,{children:o.jsx(tC,{children:o.jsx(A3,{children:o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:a?o.jsx(k3,{user:a,onProfileUpdate:u}):o.jsx(tA,{})})})})})},Dw=document.getElementById("root");if(!Dw)throw new Error("Could not find root element to mount to");const R3=iS.createRoot(Dw);R3.render(o.jsx(Ma.StrictMode,{children:o.jsx(C3,{})}));
