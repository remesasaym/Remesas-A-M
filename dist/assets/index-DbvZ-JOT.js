function Bj(a,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function zh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function zj(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var s=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),s}var Td={exports:{}},Cr={};var Op;function Vj(){if(Op)return Cr;Op=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:i,key:d,ref:l!==void 0?l:null,props:u}}return Cr.Fragment=t,Cr.jsx=s,Cr.jsxs=s,Cr}var Rp;function qj(){return Rp||(Rp=1,Td.exports=Vj()),Td.exports}var c=qj(),kd={exports:{}},fe={};var Dp;function Fj(){if(Dp)return fe;Dp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(N,$,G){this.props=N,this.context=$,this.refs=S,this.updater=G||_}k.prototype.isReactComponent={},k.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=k.prototype;function R(N,$,G){this.props=N,this.context=$,this.refs=S,this.updater=G||_}var z=R.prototype=new O;z.constructor=R,E(z,k.prototype),z.isPureReactComponent=!0;var V=Array.isArray;function M(){}var q={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function Q(N,$,G){var W=G.ref;return{$$typeof:a,type:N,key:$,ref:W!==void 0?W:null,props:G}}function he(N,$){return Q(N.type,$,N.props)}function xe(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function ze(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(G){return $[G]})}var xt=/\/+/g;function Ye(N,$){return typeof N=="object"&&N!==null&&N.key!=null?ze(""+N.key):$.toString(36)}function Tt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(M,M):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,$,G,W,ie){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var _e=!1;if(N===null)_e=!0;else switch(ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(N.$$typeof){case a:case t:_e=!0;break;case y:return _e=N._init,F(_e(N._payload),$,G,W,ie)}}if(_e)return ie=ie(N),_e=W===""?"."+Ye(N,0):W,V(ie)?(G="",_e!=null&&(G=_e.replace(xt,"$&/")+"/"),F(ie,$,G,"",function(wt){return wt})):ie!=null&&(xe(ie)&&(ie=he(ie,G+(ie.key==null||N&&N.key===ie.key?"":(""+ie.key).replace(xt,"$&/")+"/")+_e)),$.push(ie)),1;_e=0;var Ke=W===""?".":W+":";if(V(N))for(var Ce=0;Ce<N.length;Ce++)W=N[Ce],ce=Ke+Ye(W,Ce),_e+=F(W,$,G,ce,ie);else if(Ce=w(N),typeof Ce=="function")for(N=Ce.call(N),Ce=0;!(W=N.next()).done;)W=W.value,ce=Ke+Ye(W,Ce++),_e+=F(W,$,G,ce,ie);else if(ce==="object"){if(typeof N.then=="function")return F(Tt(N),$,G,W,ie);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(N,$,G){if(N==null)return N;var W=[],ie=0;return F(N,W,"","",function(ce){return $.call(G,ce,ie++)}),W}function J(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(G){(N._status===0||N._status===-1)&&(N._status=1,N._result=G)},function(G){(N._status===0||N._status===-1)&&(N._status=2,N._result=G)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var we=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},pe={map:K,forEach:function(N,$,G){K(N,function(){$.apply(this,arguments)},G)},count:function(N){var $=0;return K(N,function(){$++}),$},toArray:function(N){return K(N,function($){return $})||[]},only:function(N){if(!xe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return fe.Activity=b,fe.Children=pe,fe.Component=k,fe.Fragment=s,fe.Profiler=l,fe.PureComponent=R,fe.StrictMode=i,fe.Suspense=g,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},fe.cache=function(N){return function(){return N.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(N,$,G){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=E({},N.props),ie=N.key;if($!=null)for(ce in $.key!==void 0&&(ie=""+$.key),$)!X.call($,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&$.ref===void 0||(W[ce]=$[ce]);var ce=arguments.length-2;if(ce===1)W.children=G;else if(1<ce){for(var _e=Array(ce),Ke=0;Ke<ce;Ke++)_e[Ke]=arguments[Ke+2];W.children=_e}return Q(N.type,ie,W)},fe.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},fe.createElement=function(N,$,G){var W,ie={},ce=null;if($!=null)for(W in $.key!==void 0&&(ce=""+$.key),$)X.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=$[W]);var _e=arguments.length-2;if(_e===1)ie.children=G;else if(1<_e){for(var Ke=Array(_e),Ce=0;Ce<_e;Ce++)Ke[Ce]=arguments[Ce+2];ie.children=Ke}if(N&&N.defaultProps)for(W in _e=N.defaultProps,_e)ie[W]===void 0&&(ie[W]=_e[W]);return Q(N,ce,ie)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(N){return{$$typeof:m,render:N}},fe.isValidElement=xe,fe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:J}},fe.memo=function(N,$){return{$$typeof:p,type:N,compare:$===void 0?null:$}},fe.startTransition=function(N){var $=q.T,G={};q.T=G;try{var W=N(),ie=q.S;ie!==null&&ie(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(M,we)}catch(ce){we(ce)}finally{$!==null&&G.types!==null&&($.types=G.types),q.T=$}},fe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},fe.use=function(N){return q.H.use(N)},fe.useActionState=function(N,$,G){return q.H.useActionState(N,$,G)},fe.useCallback=function(N,$){return q.H.useCallback(N,$)},fe.useContext=function(N){return q.H.useContext(N)},fe.useDebugValue=function(){},fe.useDeferredValue=function(N,$){return q.H.useDeferredValue(N,$)},fe.useEffect=function(N,$){return q.H.useEffect(N,$)},fe.useEffectEvent=function(N){return q.H.useEffectEvent(N)},fe.useId=function(){return q.H.useId()},fe.useImperativeHandle=function(N,$,G){return q.H.useImperativeHandle(N,$,G)},fe.useInsertionEffect=function(N,$){return q.H.useInsertionEffect(N,$)},fe.useLayoutEffect=function(N,$){return q.H.useLayoutEffect(N,$)},fe.useMemo=function(N,$){return q.H.useMemo(N,$)},fe.useOptimistic=function(N,$){return q.H.useOptimistic(N,$)},fe.useReducer=function(N,$,G){return q.H.useReducer(N,$,G)},fe.useRef=function(N){return q.H.useRef(N)},fe.useState=function(N){return q.H.useState(N)},fe.useSyncExternalStore=function(N,$,G){return q.H.useSyncExternalStore(N,$,G)},fe.useTransition=function(){return q.H.useTransition()},fe.version="19.2.0",fe}var Mp;function Vh(){return Mp||(Mp=1,kd.exports=Fj()),kd.exports}var A=Vh();const qh=zh(A);var Ad={exports:{}},Or={},Nd={exports:{}},Cd={};var Up;function Hj(){return Up||(Up=1,(function(a){function t(F,K){var J=F.length;F.push(K);e:for(;0<J;){var we=J-1>>>1,pe=F[we];if(0<l(pe,K))F[we]=K,F[J]=pe,J=we;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],J=F.pop();if(J!==K){F[0]=J;e:for(var we=0,pe=F.length,N=pe>>>1;we<N;){var $=2*(we+1)-1,G=F[$],W=$+1,ie=F[W];if(0>l(G,J))W<pe&&0>l(ie,G)?(F[we]=ie,F[W]=J,we=W):(F[we]=G,F[$]=J,we=$);else if(W<pe&&0>l(ie,J))F[we]=ie,F[W]=J,we=W;else break e}}return K}function l(F,K){var J=F.sortIndex-K.sortIndex;return J!==0?J:F.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var g=[],p=[],y=1,b=null,x=3,w=!1,_=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(F){for(var K=s(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=F)i(p),K.sortIndex=K.expirationTime,t(g,K);else break;K=s(p)}}function V(F){if(E=!1,z(F),!_)if(s(g)!==null)_=!0,M||(M=!0,ze());else{var K=s(p);K!==null&&Tt(V,K.startTime-F)}}var M=!1,q=-1,X=5,Q=-1;function he(){return S?!0:!(a.unstable_now()-Q<X)}function xe(){if(S=!1,M){var F=a.unstable_now();Q=F;var K=!0;try{e:{_=!1,E&&(E=!1,O(q),q=-1),w=!0;var J=x;try{t:{for(z(F),b=s(g);b!==null&&!(b.expirationTime>F&&he());){var we=b.callback;if(typeof we=="function"){b.callback=null,x=b.priorityLevel;var pe=we(b.expirationTime<=F);if(F=a.unstable_now(),typeof pe=="function"){b.callback=pe,z(F),K=!0;break t}b===s(g)&&i(g),z(F)}else i(g);b=s(g)}if(b!==null)K=!0;else{var N=s(p);N!==null&&Tt(V,N.startTime-F),K=!1}}break e}finally{b=null,x=J,w=!1}K=void 0}}finally{K?ze():M=!1}}}var ze;if(typeof R=="function")ze=function(){R(xe)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Ye=xt.port2;xt.port1.onmessage=xe,ze=function(){Ye.postMessage(null)}}else ze=function(){k(xe,0)};function Tt(F,K){q=k(function(){F(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(F){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var J=x;x=K;try{return F()}finally{x=J}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=x;x=F;try{return K()}finally{x=J}},a.unstable_scheduleCallback=function(F,K,J){var we=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?we+J:we):J=we,F){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=J+pe,F={id:y++,callback:K,priorityLevel:F,startTime:J,expirationTime:pe,sortIndex:-1},J>we?(F.sortIndex=J,t(p,F),s(g)===null&&F===s(p)&&(E?(O(q),q=-1):E=!0,Tt(V,J-we))):(F.sortIndex=pe,t(g,F),_||w||(_=!0,M||(M=!0,ze()))),F},a.unstable_shouldYield=he,a.unstable_wrapCallback=function(F){var K=x;return function(){var J=x;x=K;try{return F.apply(this,arguments)}finally{x=J}}}})(Cd)),Cd}var Pp;function Ij(){return Pp||(Pp=1,Nd.exports=Hj()),Nd.exports}var Od={exports:{}},jt={};var Lp;function $j(){if(Lp)return jt;Lp=1;var a=Vh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,jt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,y)},jt.flushSync=function(g){var p=d.T,y=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=p,i.p=y,i.d.f()}},jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},jt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):y==="script"&&i.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);i.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},jt.requestFormReset=function(g){i.d.r(g)},jt.unstable_batchedUpdates=function(g,p){return g(p)},jt.useFormState=function(g,p,y){return d.H.useFormState(g,p,y)},jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},jt.version="19.2.0",jt}var Bp;function Gj(){if(Bp)return Od.exports;Bp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Od.exports=$j(),Od.exports}var zp;function Yj(){if(zp)return Or;zp=1;var a=Ij(),t=Vh(),s=Gj();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(i(188))}if(r.return!==o.return)r=h,o=f;else{for(var v=!1,j=h.child;j;){if(j===r){v=!0,r=h,o=f;break}if(j===o){v=!0,o=h,r=f;break}j=j.sibling}if(!v){for(j=f.child;j;){if(j===r){v=!0,r=f,o=h;break}if(j===o){v=!0,o=f,r=h;break}j=j.sibling}if(!v)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=xe&&e[xe]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case M:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case R:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:Ye(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return Ye(e(n))}catch{}}return null}var Tt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},we=[],pe=-1;function N(e){return{current:e}}function $(e){0>pe||(e.current=we[pe],we[pe]=null,pe--)}function G(e,n){pe++,we[pe]=e.current,e.current=n}var W=N(null),ie=N(null),ce=N(null),_e=N(null);function Ke(e,n){switch(G(ce,n),G(ie,e),G(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ep(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ep(n),e=tp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(W),G(W,e)}function Ce(){$(W),$(ie),$(ce)}function wt(e){e.memoizedState!==null&&G(_e,e);var n=W.current,r=tp(n,e.type);n!==r&&(G(ie,e),G(W,r))}function sa(e){ie.current===e&&($(W),$(ie)),_e.current===e&&($(_e),Tr._currentValue=J)}var za,Sn;function kt(e){if(za===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);za=n&&n[1]||"",Sn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+e+Sn}var dn=!1;function Lt(e,n){if(!e||dn)return"";dn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var L=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){L=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){L=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],j=f[1];if(v&&j){var T=v.split(`
`),P=j.split(`
`);for(h=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===T.length||h===P.length)for(o=T.length-1,h=P.length-1;1<=o&&0<=h&&T[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(T[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||T[o]!==P[h]){var H=`
`+T[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{dn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?kt(r):""}function ws(e,n){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==n&&n!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Lt(e.type,!1);case 11:return Lt(e.type.render,!1);case 1:return Lt(e.type,!0);case 31:return kt("Activity");default:return""}}function js(e){try{var n="",r=null;do n+=ws(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Di=Object.prototype.hasOwnProperty,Mi=a.unstable_scheduleCallback,Va=a.unstable_cancelCallback,lc=a.unstable_shouldYield,cc=a.unstable_requestPaint,At=a.unstable_now,uc=a.unstable_getCurrentPriorityLevel,Ui=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ss=a.unstable_NormalPriority,dc=a.unstable_LowPriority,Li=a.unstable_IdlePriority,hc=a.log,fc=a.unstable_setDisableYieldValue,qa=null,te=null;function oe(e){if(typeof hc=="function"&&fc(e),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(qa,e)}catch{}}var Z=Math.clz32?Math.clz32:Bi,Xe=Math.log,ut=Math.LN2;function Bi(e){return e>>>=0,e===0?32:31-(Xe(e)/ut|0)|0}var Mn=256,Un=262144,Wt=4194304;function hn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ia(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var j=o&134217727;return j!==0?(o=j&~f,o!==0?h=hn(o):(v&=j,v!==0?h=hn(v):r||(r=j&~e,r!==0&&(h=hn(r))))):(j=o&~f,j!==0?h=hn(j):v!==0?h=hn(v):r||(r=o&~e,r!==0&&(h=hn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ew(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var e=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),e}function mc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Vi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tw(e,n,r,o,h,f){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var j=e.entanglements,T=e.expirationTimes,P=e.hiddenUpdates;for(r=v&~r;0<r;){var H=31-Z(r),Y=1<<H;j[H]=0,T[H]=-1;var L=P[H];if(L!==null)for(P[H]=null,H=0;H<L.length;H++){var B=L[H];B!==null&&(B.lane&=-536870913)}r&=~Y}o!==0&&Pf(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function Pf(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Z(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Lf(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Z(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Bf(e,n){var r=n&-n;return r=(r&42)!==0?1:gc(r),(r&(e.suspendedLanes|n))!==0?0:r}function gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zf(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:_p(e.type))}function Vf(e,n){var r=K.p;try{return K.p=e,n()}finally{K.p=r}}var ra=Math.random().toString(36).slice(2),ft="__reactFiber$"+ra,Ct="__reactProps$"+ra,_s="__reactContainer$"+ra,yc="__reactEvents$"+ra,kw="__reactListeners$"+ra,Aw="__reactHandles$"+ra,qf="__reactResources$"+ra,qi="__reactMarker$"+ra;function vc(e){delete e[ft],delete e[Ct],delete e[yc],delete e[kw],delete e[Aw]}function Es(e){var n=e[ft];if(n)return n;for(var r=e.parentNode;r;){if(n=r[_s]||r[ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=lp(e);e!==null;){if(r=e[ft])return r;e=lp(e)}return n}e=r,r=e.parentNode}return null}function Ts(e){if(e=e[ft]||e[_s]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Fi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function ks(e){var n=e[qf];return n||(n=e[qf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function dt(e){e[qi]=!0}var Ff=new Set,Hf={};function Fa(e,n){As(e,n),As(e+"Capture",n)}function As(e,n){for(Hf[e]=n,e=0;e<n.length;e++)Ff.add(n[e])}var Nw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},$f={};function Cw(e){return Di.call($f,e)?!0:Di.call(If,e)?!1:Nw.test(e)?$f[e]=!0:(If[e]=!0,!1)}function ro(e,n,r){if(Cw(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function oo(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Pn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ow(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function bc(e){if(!e._valueTracker){var n=Gf(e)?"checked":"value";e._valueTracker=Ow(e,n,""+e[n])}}function Yf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Gf(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function lo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rw=/[\n"\\]/g;function Jt(e){return e.replace(Rw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xc(e,n,r,o,h,f,v,j){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qt(n)):e.value!==""+Qt(n)&&(e.value=""+Qt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?wc(e,v,Qt(n)):r!=null?wc(e,v,Qt(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Qt(j):e.removeAttribute("name")}function Kf(e,n,r,o,h,f,v,j){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){bc(e);return}r=r!=null?""+Qt(r):"",n=n!=null?""+Qt(n):r,j||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=j?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),bc(e)}function wc(e,n,r){n==="number"&&lo(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ns(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Xf(e,n,r){if(n!=null&&(n=""+Qt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Qt(r):""}function Wf(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(i(92));if(Tt(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Qt(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),bc(e)}function Cs(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Dw.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Jf(e,n,r){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Qf(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Qf(e,f,n[f])}function jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return Uw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Sc=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,Rs=null;function Zf(e){var n=Ts(e);if(n&&(e=n.stateNode)){var r=e[Ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(xc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ct]||null;if(!h)throw Error(i(90));xc(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Yf(o)}break e;case"textarea":Xf(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(e,!!r.multiple,n,!1)}}}var Ec=!1;function em(e,n,r){if(Ec)return e(n,r);Ec=!0;try{var o=e(n);return o}finally{if(Ec=!1,(Os!==null||Rs!==null)&&(Qo(),Os&&(n=Os,e=Rs,Rs=Os=null,Zf(n),e)))for(n=0;n<e.length;n++)Zf(e[n])}}function Hi(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ct]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(Bn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Tc=!1}var oa=null,kc=null,uo=null;function tm(){if(uo)return uo;var e,n=kc,r=n.length,o,h="value"in oa?oa.value:oa.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var v=r-e;for(o=1;o<=v&&n[r-o]===h[f-o];o++);return uo=h.slice(e,1<o?1-o:void 0)}function ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function nm(){return!1}function Ot(e){function n(r,o,h,f,v){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(r=e[j],this[j]=r?r(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fo:nm,this.isPropagationStopped=nm,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),n}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Ot(Ha),$i=b({},Ha,{view:0,detail:0}),Pw=Ot($i),Ac,Nc,Gi,go=b({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(Ac=e.screenX-Gi.screenX,Nc=e.screenY-Gi.screenY):Nc=Ac=0,Gi=e),Ac)},movementY:function(e){return"movementY"in e?e.movementY:Nc}}),am=Ot(go),Lw=b({},go,{dataTransfer:0}),Bw=Ot(Lw),zw=b({},$i,{relatedTarget:0}),Cc=Ot(zw),Vw=b({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),qw=Ot(Vw),Fw=b({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hw=Ot(Fw),Iw=b({},Ha,{data:0}),sm=Ot(Iw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yw[e])?!!n[e]:!1}function Oc(){return Kw}var Xw=b({},$i,{key:function(e){if(e.key){var n=$w[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=Ot(Xw),Qw=b({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Ot(Qw),Jw=b({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),Zw=Ot(Jw),e1=b({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=Ot(e1),n1=b({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=Ot(n1),s1=b({},Ha,{newState:0,oldState:0}),i1=Ot(s1),r1=[9,13,27,32],Rc=Bn&&"CompositionEvent"in window,Yi=null;Bn&&"documentMode"in document&&(Yi=document.documentMode);var o1=Bn&&"TextEvent"in window&&!Yi,rm=Bn&&(!Rc||Yi&&8<Yi&&11>=Yi),om=" ",lm=!1;function cm(e,n){switch(e){case"keyup":return r1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function um(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function l1(e,n){switch(e){case"compositionend":return um(n);case"keypress":return n.which!==32?null:(lm=!0,om);case"textInput":return e=n.data,e===om&&lm?null:e;default:return null}}function c1(e,n){if(Ds)return e==="compositionend"||!Rc&&cm(e,n)?(e=tm(),uo=kc=oa=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rm&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u1[e.type]:n==="textarea"}function hm(e,n,r,o){Os?Rs?Rs.push(o):Rs=[o]:Os=o,n=sl(n,"onChange"),0<n.length&&(r=new mo("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ki=null,Xi=null;function d1(e){Kg(e,0)}function po(e){var n=Fi(e);if(Yf(n))return e}function fm(e,n){if(e==="change")return n}var mm=!1;if(Bn){var Dc;if(Bn){var Mc="oninput"in document;if(!Mc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Mc=typeof gm.oninput=="function"}Dc=Mc}else Dc=!1;mm=Dc&&(!document.documentMode||9<document.documentMode)}function pm(){Ki&&(Ki.detachEvent("onpropertychange",ym),Xi=Ki=null)}function ym(e){if(e.propertyName==="value"&&po(Xi)){var n=[];hm(n,Xi,e,_c(e)),em(d1,n)}}function h1(e,n,r){e==="focusin"?(pm(),Ki=n,Xi=r,Ki.attachEvent("onpropertychange",ym)):e==="focusout"&&pm()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Xi)}function m1(e,n){if(e==="click")return po(n)}function g1(e,n){if(e==="input"||e==="change")return po(n)}function p1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bt=typeof Object.is=="function"?Object.is:p1;function Wi(e,n){if(Bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Di.call(n,h)||!Bt(e[h],n[h]))return!1}return!0}function vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bm(e,n){var r=vm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vm(r)}}function xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=lo(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=lo(e.document)}return n}function Uc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var y1=Bn&&"documentMode"in document&&11>=document.documentMode,Ms=null,Pc=null,Qi=null,Lc=!1;function jm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lc||Ms==null||Ms!==lo(o)||(o=Ms,"selectionStart"in o&&Uc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qi&&Wi(Qi,o)||(Qi=o,o=sl(Pc,"onSelect"),0<o.length&&(n=new mo("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ms)))}function Ia(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Us={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Bc={},Sm={};Bn&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function $a(e){if(Bc[e])return Bc[e];if(!Us[e])return e;var n=Us[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sm)return Bc[e]=n[r];return e}var _m=$a("animationend"),Em=$a("animationiteration"),Tm=$a("animationstart"),v1=$a("transitionrun"),b1=$a("transitionstart"),x1=$a("transitioncancel"),km=$a("transitionend"),Am=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function fn(e,n){Am.set(e,n),Fa(n,[e])}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],Ps=0,Vc=0;function vo(){for(var e=Ps,n=Vc=Ps=0;n<e;){var r=Zt[n];Zt[n++]=null;var o=Zt[n];Zt[n++]=null;var h=Zt[n];Zt[n++]=null;var f=Zt[n];if(Zt[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Nm(r,h,f)}}function bo(e,n,r,o){Zt[Ps++]=e,Zt[Ps++]=n,Zt[Ps++]=r,Zt[Ps++]=o,Vc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qc(e,n,r,o){return bo(e,n,r,o),xo(e)}function Ga(e,n){return bo(e,null,null,n),xo(e)}function Nm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Z(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function xo(e){if(50<br)throw br=0,Wu=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ls={};function w1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,n,r,o){return new w1(e,n,r,o)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,n){var r=e.alternate;return r===null?(r=zt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wo(e,n,r,o,h,f){var v=0;if(o=e,typeof e=="function")Fc(e)&&(v=1);else if(typeof e=="string")v=Tj(e,r,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=zt(31,r,n,h),e.elementType=Q,e.lanes=f,e;case E:return Ya(r.children,h,f,n);case S:v=8,h|=24;break;case k:return e=zt(12,r,n,h|2),e.elementType=k,e.lanes=f,e;case V:return e=zt(13,r,n,h),e.elementType=V,e.lanes=f,e;case M:return e=zt(19,r,n,h),e.elementType=M,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:v=10;break e;case O:v=9;break e;case z:v=11;break e;case q:v=14;break e;case X:v=16,o=null;break e}v=29,r=Error(i(130,e===null?"null":typeof e,"")),o=null}return n=zt(v,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ya(e,n,r,o){return e=zt(7,e,o,n),e.lanes=r,e}function Hc(e,n,r){return e=zt(6,e,null,n),e.lanes=r,e}function Om(e){var n=zt(18,null,null,0);return n.stateNode=e,n}function Ic(e,n,r){return n=zt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rm=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var r=Rm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:js(n)},Rm.set(e,n),n)}return{value:e,source:n,stack:js(n)}}var Bs=[],zs=0,jo=null,Ji=0,tn=[],nn=0,la=null,_n=1,En="";function Vn(e,n){Bs[zs++]=Ji,Bs[zs++]=jo,jo=e,Ji=n}function Dm(e,n,r){tn[nn++]=_n,tn[nn++]=En,tn[nn++]=la,la=e;var o=_n;e=En;var h=32-Z(o)-1;o&=~(1<<h),r+=1;var f=32-Z(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,_n=1<<32-Z(n)+h|r<<h|o,En=f+e}else _n=1<<f|r<<h|o,En=e}function $c(e){e.return!==null&&(Vn(e,1),Dm(e,1,0))}function Gc(e){for(;e===jo;)jo=Bs[--zs],Bs[zs]=null,Ji=Bs[--zs],Bs[zs]=null;for(;e===la;)la=tn[--nn],tn[nn]=null,En=tn[--nn],tn[nn]=null,_n=tn[--nn],tn[nn]=null}function Mm(e,n){tn[nn++]=_n,tn[nn++]=En,tn[nn++]=la,_n=n.id,En=n.overflow,la=e}var mt=null,qe=null,Ee=!1,ca=null,an=!1,Yc=Error(i(519));function ua(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zi(en(n,e)),Yc}function Um(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ft]=e,n[Ct]=o,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(r=0;r<wr.length;r++)ve(wr[r],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),Kf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),Wf(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Jg(n.textContent,r)?(o.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),o.onScroll!=null&&ve("scroll",n),o.onScrollEnd!=null&&ve("scrollend",n),o.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ua(e,!0)}function Pm(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:mt=mt.return}}function Vs(e){if(e!==mt)return!1;if(!Ee)return Pm(e),Ee=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&qe&&ua(e),Pm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));qe=op(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));qe=op(e)}else n===27?(n=qe,_a(e.type)?(e=pd,pd=null,qe=e):qe=n):qe=mt?rn(e.stateNode.nextSibling):null;return!0}function Ka(){qe=mt=null,Ee=!1}function Kc(){var e=ca;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),ca=null),e}function Zi(e){ca===null?ca=[e]:ca.push(e)}var Xc=N(null),Xa=null,qn=null;function da(e,n,r){G(Xc,n._currentValue),n._currentValue=r}function Fn(e){e._currentValue=Xc.current,$(Xc)}function Wc(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Qc(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var j=f;f=h;for(var T=0;T<n.length;T++)if(j.context===n[T]){f.lanes|=r,j=f.alternate,j!==null&&(j.lanes|=r),Wc(f.return,r,e),o||(v=null);break e}f=j.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(i(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Wc(v,r,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qs(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var j=h.type;Bt(h.pendingProps.value,v.value)||(e!==null?e.push(j):e=[j])}}else if(h===_e.current){if(v=h.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tr):e=[Tr])}h=h.return}e!==null&&Qc(n,e,r,o),n.flags|=262144}function So(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){Xa=e,qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return Lm(Xa,e)}function _o(e,n){return Xa===null&&Wa(e),Lm(e,n)}function Lm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},qn===null){if(e===null)throw Error(i(308));qn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qn=qn.next=n;return r}var j1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},S1=a.unstable_scheduleCallback,_1=a.unstable_NormalPriority,at={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new j1,data:new Map,refCount:0}}function er(e){e.refCount--,e.refCount===0&&S1(_1,function(){e.controller.abort()})}var tr=null,Zc=0,Fs=0,Hs=null;function E1(e,n){if(tr===null){var r=tr=[];Zc=0,Fs=nd(),Hs={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zc++,n.then(Bm,Bm),n}function Bm(){if(--Zc===0&&tr!==null){Hs!==null&&(Hs.status="fulfilled");var e=tr;tr=null,Fs=0,Hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function T1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var zm=F.S;F.S=function(e,n){jg=At(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&E1(e,n),zm!==null&&zm(e,n)};var Qa=N(null);function eu(){var e=Qa.current;return e!==null?e:Le.pooledCache}function Eo(e,n){n===null?G(Qa,Qa.current):G(Qa,n.pool)}function Vm(){var e=eu();return e===null?null:{parent:at._currentValue,pool:e}}var Is=Error(i(460)),tu=Error(i(474)),To=Error(i(542)),ko={then:function(){}};function qm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fm(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ln,Ln),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Im(e),e;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Im(e),e}throw Za=n,Is}}function Ja(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Za=r,Is):r}}var Za=null;function Hm(){if(Za===null)throw Error(i(459));var e=Za;return Za=null,e}function Im(e){if(e===Is||e===To)throw Error(i(483))}var $s=null,nr=0;function Ao(e){var n=nr;return nr+=1,$s===null&&($s=[]),Fm($s,e,n)}function ar(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function No(e,n){throw n.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $m(e){function n(D,C){if(e){var U=D.deletions;U===null?(D.deletions=[C],D.flags|=16):U.push(C)}}function r(D,C){if(!e)return null;for(;C!==null;)n(D,C),C=C.sibling;return null}function o(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function h(D,C){return D=zn(D,C),D.index=0,D.sibling=null,D}function f(D,C,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<C?(D.flags|=67108866,C):U):(D.flags|=67108866,C)):(D.flags|=1048576,C)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function j(D,C,U,I){return C===null||C.tag!==6?(C=Hc(U,D.mode,I),C.return=D,C):(C=h(C,U),C.return=D,C)}function T(D,C,U,I){var re=U.type;return re===E?H(D,C,U.props.children,I,U.key):C!==null&&(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===X&&Ja(re)===C.type)?(C=h(C,U.props),ar(C,U),C.return=D,C):(C=wo(U.type,U.key,U.props,null,D.mode,I),ar(C,U),C.return=D,C)}function P(D,C,U,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=Ic(U,D.mode,I),C.return=D,C):(C=h(C,U.children||[]),C.return=D,C)}function H(D,C,U,I,re){return C===null||C.tag!==7?(C=Ya(U,D.mode,I,re),C.return=D,C):(C=h(C,U),C.return=D,C)}function Y(D,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Hc(""+C,D.mode,U),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return U=wo(C.type,C.key,C.props,null,D.mode,U),ar(U,C),U.return=D,U;case _:return C=Ic(C,D.mode,U),C.return=D,C;case X:return C=Ja(C),Y(D,C,U)}if(Tt(C)||ze(C))return C=Ya(C,D.mode,U,null),C.return=D,C;if(typeof C.then=="function")return Y(D,Ao(C),U);if(C.$$typeof===R)return Y(D,_o(D,C),U);No(D,C)}return null}function L(D,C,U,I){var re=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:j(D,C,""+U,I);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===re?T(D,C,U,I):null;case _:return U.key===re?P(D,C,U,I):null;case X:return U=Ja(U),L(D,C,U,I)}if(Tt(U)||ze(U))return re!==null?null:H(D,C,U,I,null);if(typeof U.then=="function")return L(D,C,Ao(U),I);if(U.$$typeof===R)return L(D,C,_o(D,U),I);No(D,U)}return null}function B(D,C,U,I,re){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return D=D.get(U)||null,j(C,D,""+I,re);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return D=D.get(I.key===null?U:I.key)||null,T(C,D,I,re);case _:return D=D.get(I.key===null?U:I.key)||null,P(C,D,I,re);case X:return I=Ja(I),B(D,C,U,I,re)}if(Tt(I)||ze(I))return D=D.get(U)||null,H(C,D,I,re,null);if(typeof I.then=="function")return B(D,C,U,Ao(I),re);if(I.$$typeof===R)return B(D,C,U,_o(C,I),re);No(C,I)}return null}function ee(D,C,U,I){for(var re=null,Te=null,ne=C,ge=C=0,Se=null;ne!==null&&ge<U.length;ge++){ne.index>ge?(Se=ne,ne=null):Se=ne.sibling;var ke=L(D,ne,U[ge],I);if(ke===null){ne===null&&(ne=Se);break}e&&ne&&ke.alternate===null&&n(D,ne),C=f(ke,C,ge),Te===null?re=ke:Te.sibling=ke,Te=ke,ne=Se}if(ge===U.length)return r(D,ne),Ee&&Vn(D,ge),re;if(ne===null){for(;ge<U.length;ge++)ne=Y(D,U[ge],I),ne!==null&&(C=f(ne,C,ge),Te===null?re=ne:Te.sibling=ne,Te=ne);return Ee&&Vn(D,ge),re}for(ne=o(ne);ge<U.length;ge++)Se=B(ne,D,ge,U[ge],I),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?ge:Se.key),C=f(Se,C,ge),Te===null?re=Se:Te.sibling=Se,Te=Se);return e&&ne.forEach(function(Na){return n(D,Na)}),Ee&&Vn(D,ge),re}function le(D,C,U,I){if(U==null)throw Error(i(151));for(var re=null,Te=null,ne=C,ge=C=0,Se=null,ke=U.next();ne!==null&&!ke.done;ge++,ke=U.next()){ne.index>ge?(Se=ne,ne=null):Se=ne.sibling;var Na=L(D,ne,ke.value,I);if(Na===null){ne===null&&(ne=Se);break}e&&ne&&Na.alternate===null&&n(D,ne),C=f(Na,C,ge),Te===null?re=Na:Te.sibling=Na,Te=Na,ne=Se}if(ke.done)return r(D,ne),Ee&&Vn(D,ge),re;if(ne===null){for(;!ke.done;ge++,ke=U.next())ke=Y(D,ke.value,I),ke!==null&&(C=f(ke,C,ge),Te===null?re=ke:Te.sibling=ke,Te=ke);return Ee&&Vn(D,ge),re}for(ne=o(ne);!ke.done;ge++,ke=U.next())ke=B(ne,D,ge,ke.value,I),ke!==null&&(e&&ke.alternate!==null&&ne.delete(ke.key===null?ge:ke.key),C=f(ke,C,ge),Te===null?re=ke:Te.sibling=ke,Te=ke);return e&&ne.forEach(function(Lj){return n(D,Lj)}),Ee&&Vn(D,ge),re}function Pe(D,C,U,I){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var re=U.key;C!==null;){if(C.key===re){if(re=U.type,re===E){if(C.tag===7){r(D,C.sibling),I=h(C,U.props.children),I.return=D,D=I;break e}}else if(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===X&&Ja(re)===C.type){r(D,C.sibling),I=h(C,U.props),ar(I,U),I.return=D,D=I;break e}r(D,C);break}else n(D,C);C=C.sibling}U.type===E?(I=Ya(U.props.children,D.mode,I,U.key),I.return=D,D=I):(I=wo(U.type,U.key,U.props,null,D.mode,I),ar(I,U),I.return=D,D=I)}return v(D);case _:e:{for(re=U.key;C!==null;){if(C.key===re)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){r(D,C.sibling),I=h(C,U.children||[]),I.return=D,D=I;break e}else{r(D,C);break}else n(D,C);C=C.sibling}I=Ic(U,D.mode,I),I.return=D,D=I}return v(D);case X:return U=Ja(U),Pe(D,C,U,I)}if(Tt(U))return ee(D,C,U,I);if(ze(U)){if(re=ze(U),typeof re!="function")throw Error(i(150));return U=re.call(U),le(D,C,U,I)}if(typeof U.then=="function")return Pe(D,C,Ao(U),I);if(U.$$typeof===R)return Pe(D,C,_o(D,U),I);No(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(r(D,C.sibling),I=h(C,U),I.return=D,D=I):(r(D,C),I=Hc(U,D.mode,I),I.return=D,D=I),v(D)):r(D,C)}return function(D,C,U,I){try{nr=0;var re=Pe(D,C,U,I);return $s=null,re}catch(ne){if(ne===Is||ne===To)throw ne;var Te=zt(29,ne,null,D.mode);return Te.lanes=I,Te.return=D,Te}finally{}}}var es=$m(!0),Gm=$m(!1),ha=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function au(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ma(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xo(e),Nm(e,null,r),n}return bo(e,o,n,r),xo(e)}function sr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Lf(e,r)}}function su(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var iu=!1;function ir(){if(iu){var e=Hs;if(e!==null)throw e}}function rr(e,n,r,o){iu=!1;var h=e.updateQueue;ha=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var T=j,P=T.next;T.next=null,v===null?f=P:v.next=P,v=T;var H=e.alternate;H!==null&&(H=H.updateQueue,j=H.lastBaseUpdate,j!==v&&(j===null?H.firstBaseUpdate=P:j.next=P,H.lastBaseUpdate=T))}if(f!==null){var Y=h.baseState;v=0,H=P=T=null,j=f;do{var L=j.lane&-536870913,B=L!==j.lane;if(B?(je&L)===L:(o&L)===L){L!==0&&L===Fs&&(iu=!0),H!==null&&(H=H.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ee=e,le=j;L=n;var Pe=r;switch(le.tag){case 1:if(ee=le.payload,typeof ee=="function"){Y=ee.call(Pe,Y,L);break e}Y=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=le.payload,L=typeof ee=="function"?ee.call(Pe,Y,L):ee,L==null)break e;Y=b({},Y,L);break e;case 2:ha=!0}}L=j.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[L]:B.push(L))}else B={lane:L,tag:j.tag,payload:j.payload,callback:j.callback,next:null},H===null?(P=H=B,T=Y):H=H.next=B,v|=L;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;B=j,j=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(T=Y),h.baseState=T,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),ba|=v,e.lanes=v,e.memoizedState=Y}}function Ym(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Km(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ym(r[e],n)}var Gs=N(null),Co=N(0);function Xm(e,n){e=Qn,G(Co,e),G(Gs,n),Qn=e|n.baseLanes}function ru(){G(Co,Qn),G(Gs,Gs.current)}function ou(){Qn=Co.current,$(Gs),$(Co)}var Vt=N(null),sn=null;function ga(e){var n=e.alternate;G(et,et.current&1),G(Vt,e),sn===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(sn=e)}function lu(e){G(et,et.current),G(Vt,e),sn===null&&(sn=e)}function Wm(e){e.tag===22?(G(et,et.current),G(Vt,e),sn===null&&(sn=e)):pa()}function pa(){G(et,et.current),G(Vt,Vt.current)}function qt(e){$(Vt),sn===e&&(sn=null),$(et)}var et=N(0);function Oo(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||gd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hn=0,me=null,Me=null,st=null,Ro=!1,Ys=!1,ts=!1,Do=0,or=0,Ks=null,k1=0;function We(){throw Error(i(321))}function cu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Bt(e[r],n[r]))return!1;return!0}function uu(e,n,r,o,h,f){return Hn=f,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?D0:Eu,ts=!1,f=r(o,h),ts=!1,Ys&&(f=Jm(n,r,o,h)),Qm(e),f}function Qm(e){F.H=ur;var n=Me!==null&&Me.next!==null;if(Hn=0,st=Me=me=null,Ro=!1,or=0,Ks=null,n)throw Error(i(300));e===null||it||(e=e.dependencies,e!==null&&So(e)&&(it=!0))}function Jm(e,n,r,o){me=e;var h=0;do{if(Ys&&(Ks=null),or=0,Ys=!1,25<=h)throw Error(i(301));if(h+=1,st=Me=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=M0,f=n(r,o)}while(Ys);return f}function A1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?lr(n):n,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(me.flags|=1024),n}function du(){var e=Do!==0;return Do=0,e}function hu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function fu(e){if(Ro){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ro=!1}Hn=0,st=Me=me=null,Ys=!1,or=Do=0,Ks=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?me.memoizedState=st=e:st=st.next=e,st}function tt(){if(Me===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=st===null?me.memoizedState:st.next;if(n!==null)st=n,Me=e;else{if(e===null)throw me.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},st===null?me.memoizedState=st=e:st=st.next=e}return st}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(e){var n=or;return or+=1,Ks===null&&(Ks=[]),e=Fm(Ks,e,n),n=me,(st===null?n.memoizedState:st.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?D0:Eu),e}function Uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lr(e);if(e.$$typeof===R)return gt(e)}throw Error(i(438,String(e)))}function mu(e){var n=null,r=me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Mo(),me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=he;return n.index++,r}function In(e,n){return typeof n=="function"?n(e):n}function Po(e){var n=tt();return gu(n,Me,e)}function gu(e,n,r){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var j=v=null,T=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(je&Y)===Y:(Hn&Y)===Y){var L=P.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Fs&&(H=!0);else if((Hn&L)===L){P=P.next,L===Fs&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(j=T=Y,v=f):T=T.next=Y,me.lanes|=L,ba|=L;Y=P.action,ts&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else L={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(j=T=L,v=f):T=T.next=L,me.lanes|=Y,ba|=Y;P=P.next}while(P!==null&&P!==n);if(T===null?v=f:T.next=j,!Bt(f,e.memoizedState)&&(it=!0,H&&(r=Hs,r!==null)))throw r;e.memoizedState=f,e.baseState=v,e.baseQueue=T,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pu(e){var n=tt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);Bt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Zm(e,n,r){var o=me,h=tt(),f=Ee;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=n();var v=!Bt((Me||h).memoizedState,r);if(v&&(h.memoizedState=r,it=!0),h=h.queue,bu(n0.bind(null,o,h,e),[e]),h.getSnapshot!==n||v||st!==null&&st.memoizedState.tag&1){if(o.flags|=2048,Xs(9,{destroy:void 0},t0.bind(null,o,h,r,n),null),Le===null)throw Error(i(349));f||(Hn&127)!==0||e0(o,n,r)}return r}function e0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=me.updateQueue,n===null?(n=Mo(),me.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function t0(e,n,r,o){n.value=r,n.getSnapshot=o,a0(n)&&s0(e)}function n0(e,n,r){return r(function(){a0(n)&&s0(e)})}function a0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Bt(e,r)}catch{return!0}}function s0(e){var n=Ga(e,2);n!==null&&Pt(n,e,2)}function yu(e){var n=Nt();if(typeof e=="function"){var r=e;if(e=r(),ts){oe(!0);try{r()}finally{oe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},n}function i0(e,n,r,o){return e.baseState=r,gu(e,Me,typeof o=="function"?o:In)}function N1(e,n,r,o,h){if(zo(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,r0(n,f)):(f.next=r.next,n.pending=r.next=f)}}function r0(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var j=r(h,o),T=F.S;T!==null&&T(v,j),o0(e,n,j)}catch(P){vu(e,n,P)}finally{f!==null&&v.types!==null&&(f.types=v.types),F.T=f}}else try{f=r(h,o),o0(e,n,f)}catch(P){vu(e,n,P)}}function o0(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){l0(e,n,o)},function(o){return vu(e,n,o)}):l0(e,n,r)}function l0(e,n,r){n.status="fulfilled",n.value=r,c0(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,r0(e,r)))}function vu(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,c0(n),n=n.next;while(n!==o)}e.action=null}function c0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function u0(e,n){return n}function d0(e,n){if(Ee){var r=Le.formState;if(r!==null){e:{var o=me;if(Ee){if(qe){t:{for(var h=qe,f=an;h.nodeType!==8;){if(!f){h=null;break t}if(h=rn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){qe=rn(h.nextSibling),o=h.data==="F!";break e}}ua(o)}o=!1}o&&(n=r[0])}}return r=Nt(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:n},r.queue=o,r=C0.bind(null,me,o),o.dispatch=r,o=yu(!1),f=_u.bind(null,me,!1,o.queue),o=Nt(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=N1.bind(null,me,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function h0(e){var n=tt();return f0(n,Me,e)}function f0(e,n,r){if(n=gu(e,n,u0)[0],e=Po(In)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=lr(n)}catch(v){throw v===Is?To:v}else o=n;n=tt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(me.flags|=2048,Xs(9,{destroy:void 0},C1.bind(null,h,r),null)),[o,f,e]}function C1(e,n){e.action=n}function m0(e){var n=tt(),r=Me;if(r!==null)return f0(n,r,e);tt(),n=n.memoizedState,r=tt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Xs(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=me.updateQueue,n===null&&(n=Mo(),me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function g0(){return tt().memoizedState}function Lo(e,n,r,o){var h=Nt();me.flags|=e,h.memoizedState=Xs(1|n,{destroy:void 0},r,o===void 0?null:o)}function Bo(e,n,r,o){var h=tt();o=o===void 0?null:o;var f=h.memoizedState.inst;Me!==null&&o!==null&&cu(o,Me.memoizedState.deps)?h.memoizedState=Xs(n,f,r,o):(me.flags|=e,h.memoizedState=Xs(1|n,f,r,o))}function p0(e,n){Lo(8390656,8,e,n)}function bu(e,n){Bo(2048,8,e,n)}function O1(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=Mo(),me.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function y0(e){var n=tt().memoizedState;return O1({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function v0(e,n){return Bo(4,2,e,n)}function b0(e,n){return Bo(4,4,e,n)}function x0(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function w0(e,n,r){r=r!=null?r.concat([e]):null,Bo(4,4,x0.bind(null,n,e),r)}function xu(){}function j0(e,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&cu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function S0(e,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&cu(n,o[1]))return o[0];if(o=e(),ts){oe(!0);try{e()}finally{oe(!1)}}return r.memoizedState=[o,n],o}function wu(e,n,r){return r===void 0||(Hn&1073741824)!==0&&(je&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=_g(),me.lanes|=e,ba|=e,r)}function _0(e,n,r,o){return Bt(r,n)?r:Gs.current!==null?(e=wu(e,r,o),Bt(e,n)||(it=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(je&261930)===0?(it=!0,e.memoizedState=r):(e=_g(),me.lanes|=e,ba|=e,n)}function E0(e,n,r,o,h){var f=K.p;K.p=f!==0&&8>f?f:8;var v=F.T,j={};F.T=j,_u(e,!1,n,r);try{var T=h(),P=F.S;if(P!==null&&P(j,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=T1(T,o);cr(e,n,H,It(e))}else cr(e,n,o,It(e))}catch(Y){cr(e,n,{then:function(){},status:"rejected",reason:Y},It())}finally{K.p=f,v!==null&&j.types!==null&&(v.types=j.types),F.T=v}}function R1(){}function ju(e,n,r,o){if(e.tag!==5)throw Error(i(476));var h=T0(e).queue;E0(e,h,n,J,r===null?R1:function(){return k0(e),r(o)})}function T0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:J},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function k0(e){var n=T0(e);n.next===null&&(n=e.alternate.memoizedState),cr(e,n.next.queue,{},It())}function Su(){return gt(Tr)}function A0(){return tt().memoizedState}function N0(){return tt().memoizedState}function D1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=It();e=fa(r);var o=ma(n,e,r);o!==null&&(Pt(o,n,r),sr(o,n,r)),n={cache:Jc()},e.payload=n;return}n=n.return}}function M1(e,n,r){var o=It();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},zo(e)?O0(n,r):(r=qc(e,n,r,o),r!==null&&(Pt(r,e,o),R0(r,n,o)))}function C0(e,n,r){var o=It();cr(e,n,r,o)}function cr(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(zo(e))O0(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,j=f(v,r);if(h.hasEagerState=!0,h.eagerState=j,Bt(j,v))return bo(e,n,h,0),Le===null&&vo(),!1}catch{}finally{}if(r=qc(e,n,h,o),r!==null)return Pt(r,e,o),R0(r,n,o),!0}return!1}function _u(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(n)throw Error(i(479))}else n=qc(e,r,o,2),n!==null&&Pt(n,e,2)}function zo(e){var n=e.alternate;return e===me||n!==null&&n===me}function O0(e,n){Ys=Ro=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function R0(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Lf(e,r)}}var ur={readContext:gt,use:Uo,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};ur.useEffectEvent=We;var D0={readContext:gt,use:Uo,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:gt,useEffect:p0,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Lo(4194308,4,x0.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Lo(4194308,4,e,n)},useInsertionEffect:function(e,n){Lo(4,2,e,n)},useMemo:function(e,n){var r=Nt();n=n===void 0?null:n;var o=e();if(ts){oe(!0);try{e()}finally{oe(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Nt();if(r!==void 0){var h=r(n);if(ts){oe(!0);try{r(n)}finally{oe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=M1.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=yu(e);var n=e.queue,r=C0.bind(null,me,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:xu,useDeferredValue:function(e,n){var r=Nt();return wu(r,e,n)},useTransition:function(){var e=yu(!1);return e=E0.bind(null,me,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=me,h=Nt();if(Ee){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),Le===null)throw Error(i(349));(je&127)!==0||e0(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,p0(n0.bind(null,o,f,e),[e]),o.flags|=2048,Xs(9,{destroy:void 0},t0.bind(null,o,f,r,n),null),r},useId:function(){var e=Nt(),n=Le.identifierPrefix;if(Ee){var r=En,o=_n;r=(o&~(1<<32-Z(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Do++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=k1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Su,useFormState:d0,useActionState:d0,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_u.bind(null,me,!0,r),r.dispatch=n,[e,n]},useMemoCache:mu,useCacheRefresh:function(){return Nt().memoizedState=D1.bind(null,me)},useEffectEvent:function(e){var n=Nt(),r={impl:e};return n.memoizedState=r,function(){if((Ae&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},Eu={readContext:gt,use:Uo,useCallback:j0,useContext:gt,useEffect:bu,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:b0,useMemo:S0,useReducer:Po,useRef:g0,useState:function(){return Po(In)},useDebugValue:xu,useDeferredValue:function(e,n){var r=tt();return _0(r,Me.memoizedState,e,n)},useTransition:function(){var e=Po(In)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:lr(e),n]},useSyncExternalStore:Zm,useId:A0,useHostTransitionStatus:Su,useFormState:h0,useActionState:h0,useOptimistic:function(e,n){var r=tt();return i0(r,Me,e,n)},useMemoCache:mu,useCacheRefresh:N0};Eu.useEffectEvent=y0;var M0={readContext:gt,use:Uo,useCallback:j0,useContext:gt,useEffect:bu,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:b0,useMemo:S0,useReducer:pu,useRef:g0,useState:function(){return pu(In)},useDebugValue:xu,useDeferredValue:function(e,n){var r=tt();return Me===null?wu(r,e,n):_0(r,Me.memoizedState,e,n)},useTransition:function(){var e=pu(In)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:lr(e),n]},useSyncExternalStore:Zm,useId:A0,useHostTransitionStatus:Su,useFormState:m0,useActionState:m0,useOptimistic:function(e,n){var r=tt();return Me!==null?i0(r,Me,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mu,useCacheRefresh:N0};M0.useEffectEvent=y0;function Tu(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ku={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=It(),h=fa(o);h.payload=n,r!=null&&(h.callback=r),n=ma(e,h,o),n!==null&&(Pt(n,e,o),sr(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=It(),h=fa(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ma(e,h,o),n!==null&&(Pt(n,e,o),sr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=It(),o=fa(r);o.tag=2,n!=null&&(o.callback=n),n=ma(e,o,r),n!==null&&(Pt(n,e,r),sr(n,e,r))}};function U0(e,n,r,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!Wi(r,o)||!Wi(h,f):!0}function P0(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&ku.enqueueReplaceState(n,n.state,null)}function ns(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function L0(e){yo(e)}function B0(e){console.error(e)}function z0(e){yo(e)}function Vo(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function V0(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Au(e,n,r){return r=fa(r),r.tag=3,r.payload={element:null},r.callback=function(){Vo(e,n)},r}function q0(e){return e=fa(e),e.tag=3,e}function F0(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){V0(n,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){V0(n,r,o),typeof h!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var j=o.stack;this.componentDidCatch(o.value,{componentStack:j!==null?j:""})})}function U1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&qs(n,r,h,!0),r=Vt.current,r!==null){switch(r.tag){case 31:case 13:return sn===null?Jo():r.alternate===null&&Qe===0&&(Qe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ko?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zu(e,o,h)),!1;case 22:return r.flags|=65536,o===ko?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zu(e,o,h)),!1}throw Error(i(435,r.tag))}return Zu(e,o,h),Jo(),!1}if(Ee)return n=Vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yc&&(e=Error(i(422),{cause:o}),Zi(en(e,r)))):(o!==Yc&&(n=Error(i(423),{cause:o}),Zi(en(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=en(o,r),h=Au(e.stateNode,o,h),su(e,h),Qe!==4&&(Qe=2)),!1;var f=Error(i(520),{cause:o});if(f=en(f,r),vr===null?vr=[f]:vr.push(f),Qe!==4&&(Qe=2),n===null)return!0;o=en(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Au(r.stateNode,o,e),su(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xa===null||!xa.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=q0(h),F0(h,e,r,o),su(r,h),!1}r=r.return}while(r!==null);return!1}var Nu=Error(i(461)),it=!1;function pt(e,n,r,o){n.child=e===null?Gm(n,null,r,o):es(n,e.child,r,o)}function H0(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var v={};for(var j in o)j!=="ref"&&(v[j]=o[j])}else v=o;return Wa(n),o=uu(e,n,r,v,f,h),j=du(),e!==null&&!it?(hu(e,n,h),$n(e,n,h)):(Ee&&j&&$c(n),n.flags|=1,pt(e,n,o,h),n.child)}function I0(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,$0(e,n,f,o,h)):(e=wo(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lu(e,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:Wi,r(v,o)&&e.ref===n.ref)return $n(e,n,h)}return n.flags|=1,e=zn(f,o),e.ref=n.ref,e.return=n,n.child=e}function $0(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Wi(f,o)&&e.ref===n.ref)if(it=!1,n.pendingProps=o=f,Lu(e,h))(e.flags&131072)!==0&&(it=!0);else return n.lanes=e.lanes,$n(e,n,h)}return Cu(e,n,r,o,h)}function G0(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Y0(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eo(n,f!==null?f.cachePool:null),f!==null?Xm(n,f):ru(),Wm(n);else return o=n.lanes=536870912,Y0(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Eo(n,f.cachePool),Xm(n,f),pa(),n.memoizedState=null):(e!==null&&Eo(n,null),ru(),pa());return pt(e,n,h,r),n.child}function dr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Y0(e,n,r,o,h){var f=eu();return f=f===null?null:{parent:at._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Eo(n,null),ru(),Wm(n),e!==null&&qs(e,n,o,!0),n.childLanes=h,null}function qo(e,n){return n=Ho({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function K0(e,n,r){return es(n,e.child,null,r),e=qo(n,n.pendingProps),e.flags|=2,qt(n),n.memoizedState=null,e}function P1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(o.mode==="hidden")return e=qo(n,o),n.lanes=536870912,dr(null,e);if(lu(n),(e=qe)?(e=rp(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:la!==null?{id:_n,overflow:En}:null,retryLane:536870912,hydrationErrors:null},r=Om(e),r.return=n,n.child=r,mt=n,qe=null)):e=null,e===null)throw ua(n);return n.lanes=536870912,null}return qo(n,o)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(lu(n),h)if(n.flags&256)n.flags&=-257,n=K0(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(it||qs(e,n,r,!1),h=(r&e.childLanes)!==0,it||h){if(o=Le,o!==null&&(v=Bf(o,r),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ga(e,v),Pt(o,e,v),Nu;Jo(),n=K0(e,n,r)}else e=f.treeContext,qe=rn(v.nextSibling),mt=n,Ee=!0,ca=null,an=!1,e!==null&&Mm(n,e),n=qo(n,o),n.flags|=4096;return n}return e=zn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fo(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cu(e,n,r,o,h){return Wa(n),r=uu(e,n,r,o,void 0,h),o=du(),e!==null&&!it?(hu(e,n,h),$n(e,n,h)):(Ee&&o&&$c(n),n.flags|=1,pt(e,n,r,h),n.child)}function X0(e,n,r,o,h,f){return Wa(n),n.updateQueue=null,r=Jm(n,o,r,h),Qm(e),o=du(),e!==null&&!it?(hu(e,n,f),$n(e,n,f)):(Ee&&o&&$c(n),n.flags|=1,pt(e,n,r,f),n.child)}function W0(e,n,r,o,h){if(Wa(n),n.stateNode===null){var f=Ls,v=r.contextType;typeof v=="object"&&v!==null&&(f=gt(v)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ku,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nu(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?gt(v):Ls,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Tu(n,r,v,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ku.enqueueReplaceState(f,f.state,null),rr(n,o,f,h),ir(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var j=n.memoizedProps,T=ns(r,j);f.props=T;var P=f.context,H=r.contextType;v=Ls,typeof H=="object"&&H!==null&&(v=gt(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(j||P!==v)&&P0(n,f,o,v),ha=!1;var L=n.memoizedState;f.state=L,rr(n,o,f,h),ir(),P=n.memoizedState,j||L!==P||ha?(typeof Y=="function"&&(Tu(n,r,Y,o),P=n.memoizedState),(T=ha||U0(n,r,T,o,L,P,v))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=v,o=T):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,au(e,n),v=n.memoizedProps,H=ns(r,v),f.props=H,Y=n.pendingProps,L=f.context,P=r.contextType,T=Ls,typeof P=="object"&&P!==null&&(T=gt(P)),j=r.getDerivedStateFromProps,(P=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||L!==T)&&P0(n,f,o,T),ha=!1,L=n.memoizedState,f.state=L,rr(n,o,f,h),ir();var B=n.memoizedState;v!==Y||L!==B||ha||e!==null&&e.dependencies!==null&&So(e.dependencies)?(typeof j=="function"&&(Tu(n,r,j,o),B=n.memoizedState),(H=ha||U0(n,r,H,o,L,B,T)||e!==null&&e.dependencies!==null&&So(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,T)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=T,o=H):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fo(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=es(n,e.child,null,h),n.child=es(n,null,r,h)):pt(e,n,r,h),n.memoizedState=f.state,e=n.child):e=$n(e,n,h),e}function Q0(e,n,r,o){return Ka(),n.flags|=256,pt(e,n,r,o),n.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:Vm()}}function Du(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Ht),e}function J0(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(h?ga(n):pa(),(e=qe)?(e=rp(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:la!==null?{id:_n,overflow:En}:null,retryLane:536870912,hydrationErrors:null},r=Om(e),r.return=n,n.child=r,mt=n,qe=null)):e=null,e===null)throw ua(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var j=o.children;return o=o.fallback,h?(pa(),h=n.mode,j=Ho({mode:"hidden",children:j},h),o=Ya(o,h,r,null),j.return=n,o.return=n,j.sibling=o,n.child=j,o=n.child,o.memoizedState=Ru(r),o.childLanes=Du(e,v,r),n.memoizedState=Ou,dr(null,o)):(ga(n),Mu(n,j))}var T=e.memoizedState;if(T!==null&&(j=T.dehydrated,j!==null)){if(f)n.flags&256?(ga(n),n.flags&=-257,n=Uu(e,n,r)):n.memoizedState!==null?(pa(),n.child=e.child,n.flags|=128,n=null):(pa(),j=o.fallback,h=n.mode,o=Ho({mode:"visible",children:o.children},h),j=Ya(j,h,r,null),j.flags|=2,o.return=n,j.return=n,o.sibling=j,n.child=o,es(n,e.child,null,r),o=n.child,o.memoizedState=Ru(r),o.childLanes=Du(e,v,r),n.memoizedState=Ou,n=dr(null,o));else if(ga(n),gd(j)){if(v=j.nextSibling&&j.nextSibling.dataset,v)var P=v.dgst;v=P,o=Error(i(419)),o.stack="",o.digest=v,Zi({value:o,source:null,stack:null}),n=Uu(e,n,r)}else if(it||qs(e,n,r,!1),v=(r&e.childLanes)!==0,it||v){if(v=Le,v!==null&&(o=Bf(v,r),o!==0&&o!==T.retryLane))throw T.retryLane=o,Ga(e,o),Pt(v,e,o),Nu;md(j)||Jo(),n=Uu(e,n,r)}else md(j)?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,qe=rn(j.nextSibling),mt=n,Ee=!0,ca=null,an=!1,e!==null&&Mm(n,e),n=Mu(n,o.children),n.flags|=4096);return n}return h?(pa(),j=o.fallback,h=n.mode,T=e.child,P=T.sibling,o=zn(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,P!==null?j=zn(P,j):(j=Ya(j,h,r,null),j.flags|=2),j.return=n,o.return=n,o.sibling=j,n.child=o,dr(null,o),o=n.child,j=e.child.memoizedState,j===null?j=Ru(r):(h=j.cachePool,h!==null?(T=at._currentValue,h=h.parent!==T?{parent:T,pool:T}:h):h=Vm(),j={baseLanes:j.baseLanes|r,cachePool:h}),o.memoizedState=j,o.childLanes=Du(e,v,r),n.memoizedState=Ou,dr(e.child,o)):(ga(n),r=e.child,e=r.sibling,r=zn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function Mu(e,n){return n=Ho({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ho(e,n){return e=zt(22,e,null,n),e.lanes=0,e}function Uu(e,n,r){return es(n,e.child,null,r),e=Mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Z0(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wc(e.return,n,r)}function Pu(e,n,r,o,h,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=h,v.treeForkCount=f)}function eg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var v=et.current,j=(v&2)!==0;if(j?(v=v&1|2,n.flags|=128):v&=1,G(et,v),pt(e,n,o,r),o=Ee?Ji:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z0(e,r,n);else if(e.tag===19)Z0(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Oo(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pu(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Oo(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Pu(n,!0,r,null,f,o);break;case"together":Pu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $n(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ba|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(qs(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=zn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=zn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Lu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&So(e)))}function L1(e,n,r){switch(n.tag){case 3:Ke(n,n.stateNode.containerInfo),da(n,at,e.memoizedState.cache),Ka();break;case 27:case 5:wt(n);break;case 4:Ke(n,n.stateNode.containerInfo);break;case 10:da(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ga(n),n.flags|=128,null):(r&n.child.childLanes)!==0?J0(e,n,r):(ga(n),e=$n(e,n,r),e!==null?e.sibling:null);ga(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(qs(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return eg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(et,et.current),o)break;return null;case 22:return n.lanes=0,G0(e,n,r,n.pendingProps);case 24:da(n,at,e.memoizedState.cache)}return $n(e,n,r)}function tg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)it=!0;else{if(!Lu(e,r)&&(n.flags&128)===0)return it=!1,L1(e,n,r);it=(e.flags&131072)!==0}else it=!1,Ee&&(n.flags&1048576)!==0&&Dm(n,Ji,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ja(n.elementType),n.type=e,typeof e=="function")Fc(e)?(o=ns(e,o),n.tag=1,n=W0(null,n,e,o,r)):(n.tag=0,n=Cu(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===z){n.tag=11,n=H0(null,n,e,o,r);break e}else if(h===q){n.tag=14,n=I0(null,n,e,o,r);break e}}throw n=Ye(e)||e,Error(i(306,n,""))}}return n;case 0:return Cu(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ns(o,n.pendingProps),W0(e,n,o,h,r);case 3:e:{if(Ke(n,n.stateNode.containerInfo),e===null)throw Error(i(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,au(e,n),rr(n,o,null,r);var v=n.memoizedState;if(o=v.cache,da(n,at,o),o!==f.cache&&Qc(n,[at],r,!0),ir(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Q0(e,n,o,r);break e}else if(o!==h){h=en(Error(i(424)),n),Zi(h),n=Q0(e,n,o,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=rn(e.firstChild),mt=n,Ee=!0,ca=null,an=!0,r=Gm(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ka(),o===h){n=$n(e,n,r);break e}pt(e,n,o,r)}n=n.child}return n;case 26:return Fo(e,n),e===null?(r=hp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ee||(r=n.type,e=n.pendingProps,o=il(ce.current).createElement(r),o[ft]=n,o[Ct]=e,yt(o,r,e),dt(o),n.stateNode=o):n.memoizedState=hp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wt(n),e===null&&Ee&&(o=n.stateNode=cp(n.type,n.pendingProps,ce.current),mt=n,an=!0,h=qe,_a(n.type)?(pd=h,qe=rn(o.firstChild)):qe=h),pt(e,n,n.pendingProps.children,r),Fo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((h=o=qe)&&(o=fj(o,n.type,n.pendingProps,an),o!==null?(n.stateNode=o,mt=n,qe=rn(o.firstChild),an=!1,h=!0):h=!1),h||ua(n)),wt(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:v!==null&&dd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=uu(e,n,A1,null,null,r),Tr._currentValue=h),Fo(e,n),pt(e,n,o,r),n.child;case 6:return e===null&&Ee&&((e=r=qe)&&(r=mj(r,n.pendingProps,an),r!==null?(n.stateNode=r,mt=n,qe=null,e=!0):e=!1),e||ua(n)),null;case 13:return J0(e,n,r);case 4:return Ke(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=es(n,null,o,r):pt(e,n,o,r),n.child;case 11:return H0(e,n,n.type,n.pendingProps,r);case 7:return pt(e,n,n.pendingProps,r),n.child;case 8:return pt(e,n,n.pendingProps.children,r),n.child;case 12:return pt(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,da(n,n.type,o.value),pt(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Wa(n),h=gt(h),o=o(h),n.flags|=1,pt(e,n,o,r),n.child;case 14:return I0(e,n,n.type,n.pendingProps,r);case 15:return $0(e,n,n.type,n.pendingProps,r);case 19:return eg(e,n,r);case 31:return P1(e,n,r);case 22:return G0(e,n,r,n.pendingProps);case 24:return Wa(n),o=gt(at),e===null?(h=eu(),h===null&&(h=Le,f=Jc(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},nu(n),da(n,at,h)):((e.lanes&r)!==0&&(au(e,n),rr(n,null,null,r),ir()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),da(n,at,o)):(o=f.cache,da(n,at,o),o!==h.cache&&Qc(n,[at],r,!0))),pt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Gn(e){e.flags|=4}function Bu(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ag())e.flags|=8192;else throw Za=ko,tu}else e.flags&=-16777217}function ng(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yp(n))if(Ag())e.flags|=8192;else throw Za=ko,tu}function Io(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Uf():536870912,e.lanes|=n,Zs|=n)}function hr(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function B1(e,n,r){var o=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fn(at),Ce(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vs(n)?Gn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),Fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gn(n),f!==null?(Fe(n),ng(n,f)):(Fe(n),Bu(n,h,null,o,r))):f?f!==e.memoizedState?(Gn(n),Fe(n),ng(n,f)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gn(n),Fe(n),Bu(n,h,e,o,r)),null;case 27:if(sa(n),r=ce.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Fe(n),null}e=W.current,Vs(n)?Um(n):(e=cp(h,o,r),n.stateNode=e,Gn(n))}return Fe(n),null;case 5:if(sa(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return Fe(n),null}if(f=W.current,Vs(n))Um(n);else{var v=il(ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}f[ft]=n,f[Ct]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(yt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gn(n)}}return Fe(n),Bu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(e=ce.current,Vs(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=mt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ft]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jg(e.nodeValue,r)),e||ua(n,!0)}else e=il(e).createTextNode(o),e[ft]=n,n.stateNode=e}return Fe(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Vs(n),r!==null){if(e===null){if(!o)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ft]=n}else Ka(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else r=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(qt(n),n):(qt(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ft]=n}else Ka(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),h=!1}else h=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qt(n),n):(qt(n),null)}return qt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Io(n,n.updateQueue),Fe(n),null);case 4:return Ce(),e===null&&rd(n.stateNode.containerInfo),Fe(n),null;case 10:return Fn(n.type),Fe(n),null;case 19:if($(et),o=n.memoizedState,o===null)return Fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)hr(o,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Oo(e),f!==null){for(n.flags|=128,hr(o,!1),e=f.updateQueue,n.updateQueue=e,Io(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cm(r,e),r=r.sibling;return G(et,et.current&1|2),Ee&&Vn(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&At()>Xo&&(n.flags|=128,h=!0,hr(o,!1),n.lanes=4194304)}else{if(!h)if(e=Oo(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Io(n,e),hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ee)return Fe(n),null}else 2*At()-o.renderingStartTime>Xo&&r!==536870912&&(n.flags|=128,h=!0,hr(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=At(),e.sibling=null,r=et.current,G(et,h?r&1|2:r&1),Ee&&Vn(n,o.treeForkCount),e):(Fe(n),null);case 22:case 23:return qt(n),ou(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),r=n.updateQueue,r!==null&&Io(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&$(Qa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fn(at),Fe(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function z1(e,n){switch(Gc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fn(at),Ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return sa(n),null;case 31:if(n.memoizedState!==null){if(qt(n),n.alternate===null)throw Error(i(340));Ka()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(qt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ka()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(et),null;case 4:return Ce(),null;case 10:return Fn(n.type),null;case 22:case 23:return qt(n),ou(),e!==null&&$(Qa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fn(at),null;case 25:return null;default:return null}}function ag(e,n){switch(Gc(n),n.tag){case 3:Fn(at),Ce();break;case 26:case 27:case 5:sa(n);break;case 4:Ce();break;case 31:n.memoizedState!==null&&qt(n);break;case 13:qt(n);break;case 19:$(et);break;case 10:Fn(n.type);break;case 22:case 23:qt(n),ou(),e!==null&&$(Qa);break;case 24:Fn(at)}}function fr(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,v=r.inst;o=f(),v.destroy=o}r=r.next}while(r!==h)}}catch(j){Re(n,n.return,j)}}function ya(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,j=v.destroy;if(j!==void 0){v.destroy=void 0,h=n;var T=r,P=j;try{P()}catch(H){Re(h,T,H)}}}o=o.next}while(o!==f)}}catch(H){Re(n,n.return,H)}}function sg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Km(n,r)}catch(o){Re(e,e.return,o)}}}function ig(e,n,r){r.props=ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Re(e,n,o)}}function mr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Re(e,n,h)}}function Tn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Re(e,n,h)}else r.current=null}function rg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Re(e,e.return,h)}}function zu(e,n,r){try{var o=e.stateNode;oj(o,e.type,r,n),o[Ct]=n}catch(h){Re(e,e.return,h)}}function og(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function Vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||og(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ln));else if(o!==4&&(o===27&&_a(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(qu(e,n,r),e=e.sibling;e!==null;)qu(e,n,r),e=e.sibling}function $o(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&_a(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($o(e,n,r),e=e.sibling;e!==null;)$o(e,n,r),e=e.sibling}function lg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);yt(n,o,r),n[ft]=e,n[Ct]=r}catch(f){Re(e,e.return,f)}}var Yn=!1,rt=!1,Fu=!1,cg=typeof WeakSet=="function"?WeakSet:Set,ht=null;function V1(e,n){if(e=e.containerInfo,cd=hl,e=wm(e),Uc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var v=0,j=-1,T=-1,P=0,H=0,Y=e,L=null;t:for(;;){for(var B;Y!==r||h!==0&&Y.nodeType!==3||(j=v+h),Y!==f||o!==0&&Y.nodeType!==3||(T=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(B=Y.firstChild)!==null;)L=Y,Y=B;for(;;){if(Y===e)break t;if(L===r&&++P===h&&(j=v),L===f&&++H===o&&(T=v),(B=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=B}r=j===-1||T===-1?null:{start:j,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},hl=!1,ht=n;ht!==null;)if(n=ht,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ht=e;else for(;ht!==null;){switch(n=ht,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ee=ns(r.type,h);e=o.getSnapshotBeforeUpdate(ee,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(r,r.return,le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,ht=e;break}ht=n.return}}function ug(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(e,r),o&4&&fr(5,r);break;case 1:if(Xn(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(v){Re(r,r.return,v)}else{var h=ns(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Re(r,r.return,v)}}o&64&&sg(r),o&512&&mr(r,r.return);break;case 3:if(Xn(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Km(e,n)}catch(v){Re(r,r.return,v)}}break;case 27:n===null&&o&4&&lg(r);case 26:case 5:Xn(e,r),n===null&&o&4&&rg(r),o&512&&mr(r,r.return);break;case 12:Xn(e,r);break;case 31:Xn(e,r),o&4&&fg(e,r);break;case 13:Xn(e,r),o&4&&mg(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=X1.bind(null,r),gj(e,r))));break;case 22:if(o=r.memoizedState!==null||Yn,!o){n=n!==null&&n.memoizedState!==null||rt,h=Yn;var f=rt;Yn=o,(rt=n)&&!f?Wn(e,r,(r.subtreeFlags&8772)!==0):Xn(e,r),Yn=h,rt=f}break;case 30:break;default:Xn(e,r)}}function dg(e){var n=e.alternate;n!==null&&(e.alternate=null,dg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Rt=!1;function Kn(e,n,r){for(r=r.child;r!==null;)hg(e,n,r),r=r.sibling}function hg(e,n,r){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(qa,r)}catch{}switch(r.tag){case 26:rt||Tn(r,n),Kn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||Tn(r,n);var o=Ie,h=Rt;_a(r.type)&&(Ie=r.stateNode,Rt=!1),Kn(e,n,r),Sr(r.stateNode),Ie=o,Rt=h;break;case 5:rt||Tn(r,n);case 6:if(o=Ie,h=Rt,Ie=null,Kn(e,n,r),Ie=o,Rt=h,Ie!==null)if(Rt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(r.stateNode)}catch(f){Re(r,n,f)}else try{Ie.removeChild(r.stateNode)}catch(f){Re(r,n,f)}break;case 18:Ie!==null&&(Rt?(e=Ie,sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),oi(e)):sp(Ie,r.stateNode));break;case 4:o=Ie,h=Rt,Ie=r.stateNode.containerInfo,Rt=!0,Kn(e,n,r),Ie=o,Rt=h;break;case 0:case 11:case 14:case 15:ya(2,r,n),rt||ya(4,r,n),Kn(e,n,r);break;case 1:rt||(Tn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ig(r,n,o)),Kn(e,n,r);break;case 21:Kn(e,n,r);break;case 22:rt=(o=rt)||r.memoizedState!==null,Kn(e,n,r),rt=o;break;default:Kn(e,n,r)}}function fg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oi(e)}catch(r){Re(n,n.return,r)}}}function mg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oi(e)}catch(r){Re(n,n.return,r)}}function q1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cg),n;default:throw Error(i(435,e.tag))}}function Go(e,n){var r=q1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=W1.bind(null,e,o);o.then(h,h)}})}function Dt(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,v=n,j=v;e:for(;j!==null;){switch(j.tag){case 27:if(_a(j.type)){Ie=j.stateNode,Rt=!1;break e}break;case 5:Ie=j.stateNode,Rt=!1;break e;case 3:case 4:Ie=j.stateNode.containerInfo,Rt=!0;break e}j=j.return}if(Ie===null)throw Error(i(160));hg(f,v,h),Ie=null,Rt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gg(n,e),n=n.sibling}var mn=null;function gg(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(n,e),Mt(e),o&4&&(ya(3,e,e.return),fr(3,e),ya(5,e,e.return));break;case 1:Dt(n,e),Mt(e),o&512&&(rt||r===null||Tn(r,r.return)),o&64&&Yn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=mn;if(Dt(n,e),Mt(e),o&512&&(rt||r===null||Tn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qi]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),yt(f,o,r),f[ft]=e,dt(f),o=f;break e;case"link":var v=gp("link","href",h).get(o+(r.href||""));if(v){for(var j=0;j<v.length;j++)if(f=v[j],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(j,1);break t}}f=h.createElement(o),yt(f,o,r),h.head.appendChild(f);break;case"meta":if(v=gp("meta","content",h).get(o+(r.content||""))){for(j=0;j<v.length;j++)if(f=v[j],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(j,1);break t}}f=h.createElement(o),yt(f,o,r),h.head.appendChild(f);break;default:throw Error(i(468,o))}f[ft]=e,dt(f),o=f}e.stateNode=o}else pp(h,e.type,e.stateNode);else e.stateNode=mp(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?pp(h,e.type,e.stateNode):mp(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Dt(n,e),Mt(e),o&512&&(rt||r===null||Tn(r,r.return)),r!==null&&o&4&&zu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Dt(n,e),Mt(e),o&512&&(rt||r===null||Tn(r,r.return)),e.flags&32){h=e.stateNode;try{Cs(h,"")}catch(ee){Re(e,e.return,ee)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zu(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Fu=!0);break;case 6:if(Dt(n,e),Mt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ee){Re(e,e.return,ee)}}break;case 3:if(ll=null,h=mn,mn=rl(n.containerInfo),Dt(n,e),mn=h,Mt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{oi(n.containerInfo)}catch(ee){Re(e,e.return,ee)}Fu&&(Fu=!1,pg(e));break;case 4:o=mn,mn=rl(e.stateNode.containerInfo),Dt(n,e),Mt(e),mn=o;break;case 12:Dt(n,e),Mt(e);break;case 31:Dt(n,e),Mt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Go(e,o)));break;case 13:Dt(n,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ko=At()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Go(e,o)));break;case 22:h=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,P=Yn,H=rt;if(Yn=P||h,rt=H||T,Dt(n,e),rt=H,Yn=P,Mt(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||T||Yn||rt||as(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){T=r=n;try{if(f=T.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{j=T.stateNode;var Y=T.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;j.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ee){Re(T,T.return,ee)}}}else if(n.tag===6){if(r===null){T=n;try{T.stateNode.nodeValue=h?"":T.memoizedProps}catch(ee){Re(T,T.return,ee)}}}else if(n.tag===18){if(r===null){T=n;try{var B=T.stateNode;h?ip(B,!0):ip(T.stateNode,!1)}catch(ee){Re(T,T.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Go(e,r))));break;case 19:Dt(n,e),Mt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Go(e,o)));break;case 30:break;case 21:break;default:Dt(n,e),Mt(e)}}function Mt(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(og(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var h=r.stateNode,f=Vu(e);$o(e,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(Cs(v,""),r.flags&=-33);var j=Vu(e);$o(e,j,v);break;case 3:case 4:var T=r.stateNode.containerInfo,P=Vu(e);qu(e,P,T);break;default:throw Error(i(161))}}catch(H){Re(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(e,n.alternate,n),n=n.sibling}function as(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ya(4,n,n.return),as(n);break;case 1:Tn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ig(n,n.return,r),as(n);break;case 27:Sr(n.stateNode);case 26:case 5:Tn(n,n.return),as(n);break;case 22:n.memoizedState===null&&as(n);break;case 30:as(n);break;default:as(n)}e=e.sibling}}function Wn(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Wn(h,f,r),fr(4,f);break;case 1:if(Wn(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Re(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var j=o.stateNode;try{var T=h.shared.hiddenCallbacks;if(T!==null)for(h.shared.hiddenCallbacks=null,h=0;h<T.length;h++)Ym(T[h],j)}catch(P){Re(o,o.return,P)}}r&&v&64&&sg(f),mr(f,f.return);break;case 27:lg(f);case 26:case 5:Wn(h,f,r),r&&o===null&&v&4&&rg(f),mr(f,f.return);break;case 12:Wn(h,f,r);break;case 31:Wn(h,f,r),r&&v&4&&fg(h,f);break;case 13:Wn(h,f,r),r&&v&4&&mg(h,f);break;case 22:f.memoizedState===null&&Wn(h,f,r),mr(f,f.return);break;case 30:break;default:Wn(h,f,r)}n=n.sibling}}function Hu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&er(r))}function Iu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&er(e))}function gn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(e,n,r,o),n=n.sibling}function yg(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n,r,o),h&2048&&fr(9,n);break;case 1:gn(e,n,r,o);break;case 3:gn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&er(e)));break;case 12:if(h&2048){gn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,j=f.onPostCommit;typeof j=="function"&&j(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Re(n,n.return,T)}}else gn(e,n,r,o);break;case 31:gn(e,n,r,o);break;case 13:gn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?gn(e,n,r,o):gr(e,n):f._visibility&2?gn(e,n,r,o):(f._visibility|=2,Ws(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hu(v,n);break;case 24:gn(e,n,r,o),h&2048&&Iu(n.alternate,n);break;default:gn(e,n,r,o)}}function Ws(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,v=n,j=r,T=o,P=v.flags;switch(v.tag){case 0:case 11:case 15:Ws(f,v,j,T,h),fr(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?Ws(f,v,j,T,h):gr(f,v):(H._visibility|=2,Ws(f,v,j,T,h)),h&&P&2048&&Hu(v.alternate,v);break;case 24:Ws(f,v,j,T,h),h&&P&2048&&Iu(v.alternate,v);break;default:Ws(f,v,j,T,h)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:gr(r,o),h&2048&&Hu(o.alternate,o);break;case 24:gr(r,o),h&2048&&Iu(o.alternate,o);break;default:gr(r,o)}n=n.sibling}}var pr=8192;function Qs(e,n,r){if(e.subtreeFlags&pr)for(e=e.child;e!==null;)vg(e,n,r),e=e.sibling}function vg(e,n,r){switch(e.tag){case 26:Qs(e,n,r),e.flags&pr&&e.memoizedState!==null&&kj(r,mn,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,n,r);break;case 3:case 4:var o=mn;mn=rl(e.stateNode.containerInfo),Qs(e,n,r),mn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=pr,pr=16777216,Qs(e,n,r),pr=o):Qs(e,n,r));break;default:Qs(e,n,r)}}function bg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function yr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ht=o,wg(o,e)}bg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xg(e),e=e.sibling}function xg(e){switch(e.tag){case 0:case 11:case 15:yr(e),e.flags&2048&&ya(9,e,e.return);break;case 3:yr(e);break;case 12:yr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yo(e)):yr(e);break;default:yr(e)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ht=o,wg(o,e)}bg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ya(8,n,n.return),Yo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yo(n));break;default:Yo(n)}e=e.sibling}}function wg(e,n){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:ya(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:er(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ht=o;else e:for(r=e;ht!==null;){o=ht;var h=o.sibling,f=o.return;if(dg(o),o===r){ht=null;break e}if(h!==null){h.return=f,ht=h;break e}ht=f}}}var F1={getCacheForType:function(e){var n=gt(at),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return gt(at).controller.signal}},H1=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,ye=null,je=0,Oe=0,Ft=null,va=!1,Js=!1,$u=!1,Qn=0,Qe=0,ba=0,ss=0,Gu=0,Ht=0,Zs=0,vr=null,Ut=null,Yu=!1,Ko=0,jg=0,Xo=1/0,Wo=null,xa=null,lt=0,wa=null,ei=null,Jn=0,Ku=0,Xu=null,Sg=null,br=0,Wu=null;function It(){return(Ae&2)!==0&&je!==0?je&-je:F.T!==null?nd():zf()}function _g(){if(Ht===0)if((je&536870912)===0||Ee){var e=Un;Un<<=1,(Un&3932160)===0&&(Un=262144),Ht=e}else Ht=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Ht}function Pt(e,n,r){(e===Le&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(ti(e,0),ja(e,je,Ht,!1)),Vi(e,r),((Ae&2)===0||e!==Le)&&(e===Le&&((Ae&2)===0&&(ss|=r),Qe===4&&ja(e,je,Ht,!1)),kn(e))}function Eg(e,n,r){if((Ae&6)!==0)throw Error(i(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zi(e,n),h=o?G1(e,n):Ju(e,n,!0),f=o;do{if(h===0){Js&&!o&&ja(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!I1(r)){h=Ju(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var j=e;h=vr;var T=j.current.memoizedState.isDehydrated;if(T&&(ti(j,v).flags|=256),v=Ju(j,v,!1),v!==2){if($u&&!T){j.errorRecoveryDisabledLanes|=f,ss|=f,h=4;break e}f=Ut,Ut=h,f!==null&&(Ut===null?Ut=f:Ut.push.apply(Ut,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ti(e,0),ja(e,n,0,!0);break}e:{switch(o=e,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ja(o,n,Ht,!va);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=Ko+300-At(),10<h)){if(ja(o,n,Ht,!va),ia(o,0,!0)!==0)break e;Jn=n,o.timeoutHandle=np(Tg.bind(null,o,r,Ut,Wo,Yu,n,Ht,ss,Zs,va,f,"Throttled",-0,0),h);break e}Tg(o,r,Ut,Wo,Yu,n,Ht,ss,Zs,va,f,null,-0,0)}}break}while(!0);kn(e)}function Tg(e,n,r,o,h,f,v,j,T,P,H,Y,L,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},vg(n,f,Y);var ee=(f&62914560)===f?Ko-At():(f&4194048)===f?jg-At():0;if(ee=Aj(Y,ee),ee!==null){Jn=f,e.cancelPendingCommit=ee(Mg.bind(null,e,n,f,r,o,h,v,j,T,H,Y,null,L,B)),ja(e,f,v,!P);return}}Mg(e,n,f,r,o,h,v,j,T)}function I1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Bt(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(e,n,r,o){n&=~Gu,n&=~ss,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Z(h),v=1<<f;o[f]=-1,h&=~v}r!==0&&Pf(e,r,n)}function Qo(){return(Ae&6)===0?(xr(0),!1):!0}function Qu(){if(ye!==null){if(Oe===0)var e=ye.return;else e=ye,qn=Xa=null,fu(e),$s=null,nr=0,e=ye;for(;e!==null;)ag(e.alternate,e),e=e.return;ye=null}}function ti(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,uj(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Jn=0,Qu(),Le=e,ye=r=zn(e.current,null),je=n,Oe=0,Ft=null,va=!1,Js=zi(e,n),$u=!1,Zs=Ht=Gu=ss=ba=Qe=0,Ut=vr=null,Yu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Z(o),f=1<<h;n|=e[h],o&=~f}return Qn=n,vo(),r}function kg(e,n){me=null,F.H=ur,n===Is||n===To?(n=Hm(),Oe=3):n===tu?(n=Hm(),Oe=4):Oe=n===Nu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,ye===null&&(Qe=1,Vo(e,en(n,e.current)))}function Ag(){var e=Vt.current;return e===null?!0:(je&4194048)===je?sn===null:(je&62914560)===je||(je&536870912)!==0?e===sn:!1}function Ng(){var e=F.H;return F.H=ur,e===null?ur:e}function Cg(){var e=F.A;return F.A=F1,e}function Jo(){Qe=4,va||(je&4194048)!==je&&Vt.current!==null||(Js=!0),(ba&134217727)===0&&(ss&134217727)===0||Le===null||ja(Le,je,Ht,!1)}function Ju(e,n,r){var o=Ae;Ae|=2;var h=Ng(),f=Cg();(Le!==e||je!==n)&&(Wo=null,ti(e,n)),n=!1;var v=Qe;e:do try{if(Oe!==0&&ye!==null){var j=ye,T=Ft;switch(Oe){case 8:Qu(),v=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(n=!0);var P=Oe;if(Oe=0,Ft=null,ni(e,j,T,P),r&&Js){v=0;break e}break;default:P=Oe,Oe=0,Ft=null,ni(e,j,T,P)}}$1(),v=Qe;break}catch(H){kg(e,H)}while(!0);return n&&e.shellSuspendCounter++,qn=Xa=null,Ae=o,F.H=h,F.A=f,ye===null&&(Le=null,je=0,vo()),v}function $1(){for(;ye!==null;)Og(ye)}function G1(e,n){var r=Ae;Ae|=2;var o=Ng(),h=Cg();Le!==e||je!==n?(Wo=null,Xo=At()+500,ti(e,n)):Js=zi(e,n);e:do try{if(Oe!==0&&ye!==null){n=ye;var f=Ft;t:switch(Oe){case 1:Oe=0,Ft=null,ni(e,n,f,1);break;case 2:case 9:if(qm(f)){Oe=0,Ft=null,Rg(n);break}n=function(){Oe!==2&&Oe!==9||Le!==e||(Oe=7),kn(e)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:qm(f)?(Oe=0,Ft=null,Rg(n)):(Oe=0,Ft=null,ni(e,n,f,7));break;case 5:var v=null;switch(ye.tag){case 26:v=ye.memoizedState;case 5:case 27:var j=ye;if(v?yp(v):j.stateNode.complete){Oe=0,Ft=null;var T=j.sibling;if(T!==null)ye=T;else{var P=j.return;P!==null?(ye=P,Zo(P)):ye=null}break t}}Oe=0,Ft=null,ni(e,n,f,5);break;case 6:Oe=0,Ft=null,ni(e,n,f,6);break;case 8:Qu(),Qe=6;break e;default:throw Error(i(462))}}Y1();break}catch(H){kg(e,H)}while(!0);return qn=Xa=null,F.H=o,F.A=h,Ae=r,ye!==null?0:(Le=null,je=0,vo(),Qe)}function Y1(){for(;ye!==null&&!lc();)Og(ye)}function Og(e){var n=tg(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,n===null?Zo(e):ye=n}function Rg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=X0(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=X0(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:fu(n);default:ag(r,n),n=ye=Cm(n,Qn),n=tg(r,n,Qn)}e.memoizedProps=e.pendingProps,n===null?Zo(e):ye=n}function ni(e,n,r,o){qn=Xa=null,fu(n),$s=null,nr=0;var h=n.return;try{if(U1(e,h,n,r,je)){Qe=1,Vo(e,en(r,e.current)),ye=null;return}}catch(f){if(h!==null)throw ye=h,f;Qe=1,Vo(e,en(r,e.current)),ye=null;return}n.flags&32768?(Ee||o===1?e=!0:Js||(je&536870912)!==0?e=!1:(va=e=!0,(o===2||o===9||o===3||o===6)&&(o=Vt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dg(n,e)):Zo(n)}function Zo(e){var n=e;do{if((n.flags&32768)!==0){Dg(n,va);return}e=n.return;var r=B1(n.alternate,n,Qn);if(r!==null){ye=r;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);Qe===0&&(Qe=5)}function Dg(e,n){do{var r=z1(e.alternate,e);if(r!==null){r.flags&=32767,ye=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=r}while(e!==null);Qe=6,ye=null}function Mg(e,n,r,o,h,f,v,j,T){e.cancelPendingCommit=null;do el();while(lt!==0);if((Ae&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=Vc,Tw(e,r,f,v,j,T),e===Le&&(ye=Le=null,je=0),ei=n,wa=e,Jn=r,Ku=f,Xu=h,Sg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Q1(Ss,function(){return zg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=K.p,K.p=2,v=Ae,Ae|=4;try{V1(e,n,r)}finally{Ae=v,K.p=h,F.T=o}}lt=1,Ug(),Pg(),Lg()}}function Ug(){if(lt===1){lt=0;var e=wa,n=ei,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=K.p;K.p=2;var h=Ae;Ae|=4;try{gg(n,e);var f=ud,v=wm(e.containerInfo),j=f.focusedElem,T=f.selectionRange;if(v!==j&&j&&j.ownerDocument&&xm(j.ownerDocument.documentElement,j)){if(T!==null&&Uc(j)){var P=T.start,H=T.end;if(H===void 0&&(H=P),"selectionStart"in j)j.selectionStart=P,j.selectionEnd=Math.min(H,j.value.length);else{var Y=j.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var B=L.getSelection(),ee=j.textContent.length,le=Math.min(T.start,ee),Pe=T.end===void 0?le:Math.min(T.end,ee);!B.extend&&le>Pe&&(v=Pe,Pe=le,le=v);var D=bm(j,le),C=bm(j,Pe);if(D&&C&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var U=Y.createRange();U.setStart(D.node,D.offset),B.removeAllRanges(),le>Pe?(B.addRange(U),B.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),B.addRange(U))}}}}for(Y=[],B=j;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Y.length;j++){var I=Y[j];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}hl=!!cd,ud=cd=null}finally{Ae=h,K.p=o,F.T=r}}e.current=n,lt=2}}function Pg(){if(lt===2){lt=0;var e=wa,n=ei,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=K.p;K.p=2;var h=Ae;Ae|=4;try{ug(e,n.alternate,n)}finally{Ae=h,K.p=o,F.T=r}}lt=3}}function Lg(){if(lt===4||lt===3){lt=0,cc();var e=wa,n=ei,r=Jn,o=Sg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?lt=5:(lt=0,ei=wa=null,Bg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xa=null),pc(r),n=n.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(qa,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=K.p,K.p=2,F.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var j=o[v];f(j.value,{componentStack:j.stack})}}finally{F.T=n,K.p=h}}(Jn&3)!==0&&el(),kn(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Wu?br++:(br=0,Wu=e):br=0,xr(0)}}function Bg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,er(n)))}function el(){return Ug(),Pg(),Lg(),zg()}function zg(){if(lt!==5)return!1;var e=wa,n=Ku;Ku=0;var r=pc(Jn),o=F.T,h=K.p;try{K.p=32>r?32:r,F.T=null,r=Xu,Xu=null;var f=wa,v=Jn;if(lt=0,ei=wa=null,Jn=0,(Ae&6)!==0)throw Error(i(331));var j=Ae;if(Ae|=4,xg(f.current),yg(f,f.current,v,r),Ae=j,xr(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(qa,f)}catch{}return!0}finally{K.p=h,F.T=o,Bg(e,n)}}function Vg(e,n,r){n=en(r,n),n=Au(e.stateNode,n,2),e=ma(e,n,2),e!==null&&(Vi(e,2),kn(e))}function Re(e,n,r){if(e.tag===3)Vg(e,e,r);else for(;n!==null;){if(n.tag===3){Vg(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xa===null||!xa.has(o))){e=en(r,e),r=q0(2),o=ma(n,r,2),o!==null&&(F0(r,o,n,e),Vi(o,2),kn(o));break}}n=n.return}}function Zu(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new H1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||($u=!0,h.add(r),e=K1.bind(null,e,n,r),n.then(e,e))}function K1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Le===e&&(je&r)===r&&(Qe===4||Qe===3&&(je&62914560)===je&&300>At()-Ko?(Ae&2)===0&&ti(e,0):Gu|=r,Zs===je&&(Zs=0)),kn(e)}function qg(e,n){n===0&&(n=Uf()),e=Ga(e,n),e!==null&&(Vi(e,n),kn(e))}function X1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),qg(e,r)}function W1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),qg(e,r)}function Q1(e,n){return Mi(e,n)}var tl=null,ai=null,ed=!1,nl=!1,td=!1,Sa=0;function kn(e){e!==ai&&e.next===null&&(ai===null?tl=ai=e:ai=ai.next=e),nl=!0,ed||(ed=!0,Z1())}function xr(e,n){if(!td&&nl){td=!0;do for(var r=!1,o=tl;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,j=o.pingedLanes;f=(1<<31-Z(42|e)+1)-1,f&=h&~(v&~j),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$g(o,f))}else f=je,f=ia(o,o===Le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zi(o,f)||(r=!0,$g(o,f));o=o.next}while(r);td=!1}}function J1(){Fg()}function Fg(){nl=ed=!1;var e=0;Sa!==0&&cj()&&(e=Sa);for(var n=At(),r=null,o=tl;o!==null;){var h=o.next,f=Hg(o,n);f===0?(o.next=null,r===null?tl=h:r.next=h,h===null&&(ai=r)):(r=o,(e!==0||(f&3)!==0)&&(nl=!0)),o=h}lt!==0&&lt!==5||xr(e),Sa!==0&&(Sa=0)}function Hg(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Z(f),j=1<<v,T=h[v];T===-1?((j&r)===0||(j&o)!==0)&&(h[v]=Ew(j,n)):T<=n&&(e.expiredLanes|=j),f&=~j}if(n=Le,r=je,r=ia(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Va(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Va(o),pc(r)){case 2:case 8:r=Pi;break;case 32:r=Ss;break;case 268435456:r=Li;break;default:r=Ss}return o=Ig.bind(null,e),r=Mi(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Va(o),e.callbackPriority=2,e.callbackNode=null,2}function Ig(e,n){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(el()&&e.callbackNode!==r)return null;var o=je;return o=ia(e,e===Le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Eg(e,o,n),Hg(e,At()),e.callbackNode!=null&&e.callbackNode===r?Ig.bind(null,e):null)}function $g(e,n){if(el())return null;Eg(e,n,!0)}function Z1(){dj(function(){(Ae&6)!==0?Mi(Ui,J1):Fg()})}function nd(){if(Sa===0){var e=Fs;e===0&&(e=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),Sa=e}return Sa}function Gg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function Yg(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function ej(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Gg((h[Ct]||null).action),v=o.submitter;v&&(n=(n=v[Ct]||null)?Gg(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var j=new mo("action","action",null,o,h);e.push({event:j,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Sa!==0){var T=v?Yg(h,v):new FormData(h);ju(r,{pending:!0,data:T,method:h.method,action:f},null,T)}}else typeof f=="function"&&(j.preventDefault(),T=v?Yg(h,v):new FormData(h),ju(r,{pending:!0,data:T,method:h.method,action:f},f,T))},currentTarget:h}]})}}for(var ad=0;ad<zc.length;ad++){var sd=zc[ad],tj=sd.toLowerCase(),nj=sd[0].toUpperCase()+sd.slice(1);fn(tj,"on"+nj)}fn(_m,"onAnimationEnd"),fn(Em,"onAnimationIteration"),fn(Tm,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(v1,"onTransitionRun"),fn(b1,"onTransitionStart"),fn(x1,"onTransitionCancel"),fn(km,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wr));function Kg(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var j=o[v],T=j.instance,P=j.currentTarget;if(j=j.listener,T!==f&&h.isPropagationStopped())break e;f=j,h.currentTarget=P;try{f(h)}catch(H){yo(H)}h.currentTarget=null,f=T}else for(v=0;v<o.length;v++){if(j=o[v],T=j.instance,P=j.currentTarget,j=j.listener,T!==f&&h.isPropagationStopped())break e;f=j,h.currentTarget=P;try{f(h)}catch(H){yo(H)}h.currentTarget=null,f=T}}}}function ve(e,n){var r=n[yc];r===void 0&&(r=n[yc]=new Set);var o=e+"__bubble";r.has(o)||(Xg(n,e,2,!1),r.add(o))}function id(e,n,r){var o=0;n&&(o|=4),Xg(r,e,o,n)}var al="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[al]){e[al]=!0,Ff.forEach(function(r){r!=="selectionchange"&&(aj.has(r)||id(r,!1,e),id(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[al]||(n[al]=!0,id("selectionchange",!1,n))}}function Xg(e,n,r,o){switch(_p(n)){case 2:var h=Oj;break;case 8:h=Rj;break;default:h=wd}r=h.bind(null,n,r,e),h=void 0,!Tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var j=o.stateNode.containerInfo;if(j===h)break;if(v===4)for(v=o.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;j!==null;){if(v=Es(j),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){o=f=v;continue e}j=j.parentNode}}o=o.return}em(function(){var P=f,H=_c(r),Y=[];e:{var L=Am.get(e);if(L!==void 0){var B=mo,ee=e;switch(e){case"keypress":if(ho(r)===0)break e;case"keydown":case"keyup":B=Ww;break;case"focusin":ee="focus",B=Cc;break;case"focusout":ee="blur",B=Cc;break;case"beforeblur":case"afterblur":B=Cc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Zw;break;case _m:case Em:case Tm:B=qw;break;case km:B=t1;break;case"scroll":case"scrollend":B=Pw;break;case"wheel":B=a1;break;case"copy":case"cut":case"paste":B=Hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=im;break;case"toggle":case"beforetoggle":B=i1}var le=(n&4)!==0,Pe=!le&&(e==="scroll"||e==="scrollend"),D=le?L!==null?L+"Capture":null:L;le=[];for(var C=P,U;C!==null;){var I=C;if(U=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||U===null||D===null||(I=Hi(C,D),I!=null&&le.push(jr(C,I,U))),Pe)break;C=C.return}0<le.length&&(L=new B(L,ee,null,r,H),Y.push({event:L,listeners:le}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&r!==Sc&&(ee=r.relatedTarget||r.fromElement)&&(Es(ee)||ee[_s]))break e;if((B||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,B?(ee=r.relatedTarget||r.toElement,B=P,ee=ee?Es(ee):null,ee!==null&&(Pe=u(ee),le=ee.tag,ee!==Pe||le!==5&&le!==27&&le!==6)&&(ee=null)):(B=null,ee=P),B!==ee)){if(le=am,I="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=im,I="onPointerLeave",D="onPointerEnter",C="pointer"),Pe=B==null?L:Fi(B),U=ee==null?L:Fi(ee),L=new le(I,C+"leave",B,r,H),L.target=Pe,L.relatedTarget=U,I=null,Es(H)===P&&(le=new le(D,C+"enter",ee,r,H),le.target=U,le.relatedTarget=Pe,I=le),Pe=I,B&&ee)t:{for(le=sj,D=B,C=ee,U=0,I=D;I;I=le(I))U++;I=0;for(var re=C;re;re=le(re))I++;for(;0<U-I;)D=le(D),U--;for(;0<I-U;)C=le(C),I--;for(;U--;){if(D===C||C!==null&&D===C.alternate){le=D;break t}D=le(D),C=le(C)}le=null}else le=null;B!==null&&Wg(Y,L,B,le,!1),ee!==null&&Pe!==null&&Wg(Y,Pe,ee,le,!0)}}e:{if(L=P?Fi(P):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var Te=fm;else if(dm(L))if(mm)Te=g1;else{Te=f1;var ne=h1}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?P&&jc(P.elementType)&&(Te=fm):Te=m1;if(Te&&(Te=Te(e,P))){hm(Y,Te,r,H);break e}ne&&ne(e,L,P),e==="focusout"&&P&&L.type==="number"&&P.memoizedProps.value!=null&&wc(L,"number",L.value)}switch(ne=P?Fi(P):window,e){case"focusin":(dm(ne)||ne.contentEditable==="true")&&(Ms=ne,Pc=P,Qi=null);break;case"focusout":Qi=Pc=Ms=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,jm(Y,r,H);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":jm(Y,r,H)}var ge;if(Rc)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ds?cm(e,r)&&(Se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(rm&&r.locale!=="ko"&&(Ds||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ds&&(ge=tm()):(oa=H,kc="value"in oa?oa.value:oa.textContent,Ds=!0)),ne=sl(P,Se),0<ne.length&&(Se=new sm(Se,e,null,r,H),Y.push({event:Se,listeners:ne}),ge?Se.data=ge:(ge=um(r),ge!==null&&(Se.data=ge)))),(ge=o1?l1(e,r):c1(e,r))&&(Se=sl(P,"onBeforeInput"),0<Se.length&&(ne=new sm("onBeforeInput","beforeinput",null,r,H),Y.push({event:ne,listeners:Se}),ne.data=ge)),ej(Y,e,P,r,H)}Kg(Y,n)})}function jr(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sl(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hi(e,r),h!=null&&o.unshift(jr(e,h,f)),h=Hi(e,n),h!=null&&o.push(jr(e,h,f))),e.tag===3)return o;e=e.return}return[]}function sj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,n,r,o,h){for(var f=n._reactName,v=[];r!==null&&r!==o;){var j=r,T=j.alternate,P=j.stateNode;if(j=j.tag,T!==null&&T===o)break;j!==5&&j!==26&&j!==27||P===null||(T=P,h?(P=Hi(r,f),P!=null&&v.unshift(jr(r,P,T))):h||(P=Hi(r,f),P!=null&&v.push(jr(r,P,T)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var ij=/\r\n?/g,rj=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(ij,`
`).replace(rj,"")}function Jg(e,n){return n=Qg(n),Qg(e)===n}function Ue(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cs(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cs(e,""+o);break;case"className":oo(e,"class",o);break;case"tabIndex":oo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":oo(e,r,o);break;case"style":Jf(e,o,f);break;case"data":if(n!=="object"){oo(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=co(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ue(e,n,"name",h.name,h,null),Ue(e,n,"formEncType",h.formEncType,h,null),Ue(e,n,"formMethod",h.formMethod,h,null),Ue(e,n,"formTarget",h.formTarget,h,null)):(Ue(e,n,"encType",h.encType,h,null),Ue(e,n,"method",h.method,h,null),Ue(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=co(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ln);break;case"onScroll":o!=null&&ve("scroll",e);break;case"onScrollEnd":o!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=co(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":ve("beforetoggle",e),ve("toggle",e),ro(e,"popover",o);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ro(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Mw.get(r)||r,ro(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":Jf(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Cs(e,o):(typeof o=="number"||typeof o=="bigint")&&Cs(e,""+o);break;case"onScroll":o!=null&&ve("scroll",e);break;case"onScrollEnd":o!=null&&ve("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ct]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ro(e,r,o)}}}function yt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ue(e,n,f,v,r,null)}}h&&Ue(e,n,"srcSet",r.srcSet,r,null),o&&Ue(e,n,"src",r.src,r,null);return;case"input":ve("invalid",e);var j=f=v=h=null,T=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":v=H;break;case"checked":T=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":j=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:Ue(e,n,o,H,r,null)}}Kf(e,f,j,T,P,v,h,!1);return;case"select":ve("invalid",e),o=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(j=r[h],j!=null))switch(h){case"value":f=j;break;case"defaultValue":v=j;break;case"multiple":o=j;default:Ue(e,n,h,j,r,null)}n=f,r=v,e.multiple=!!o,n!=null?Ns(e,!!o,n,!1):r!=null&&Ns(e,!!o,r,!0);return;case"textarea":ve("invalid",e),f=h=o=null;for(v in r)if(r.hasOwnProperty(v)&&(j=r[v],j!=null))switch(v){case"value":o=j;break;case"defaultValue":h=j;break;case"children":f=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:Ue(e,n,v,j,r,null)}Wf(e,o,h,f);return;case"option":for(T in r)if(r.hasOwnProperty(T)&&(o=r[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ue(e,n,T,o,r,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(o=0;o<wr.length;o++)ve(wr[o],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ue(e,n,P,o,r,null)}return;default:if(jc(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ld(e,n,H,o,r,void 0));return}}for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!=null&&Ue(e,n,j,o,r,null))}function oj(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,j=null,T=null,P=null,H=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=Y;default:o.hasOwnProperty(B)||Ue(e,n,B,null,o,Y)}}for(var L in o){var B=o[L];if(Y=r[L],o.hasOwnProperty(L)&&(B!=null||Y!=null))switch(L){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":j=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,n));break;default:B!==Y&&Ue(e,n,L,B,o,Y)}}xc(e,v,j,T,P,H,f,h);return;case"select":B=v=j=L=null;for(f in r)if(T=r[f],r.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":B=T;default:o.hasOwnProperty(f)||Ue(e,n,f,null,o,T)}for(h in o)if(f=o[h],T=r[h],o.hasOwnProperty(h)&&(f!=null||T!=null))switch(h){case"value":L=f;break;case"defaultValue":j=f;break;case"multiple":v=f;default:f!==T&&Ue(e,n,h,f,o,T)}n=j,r=v,o=B,L!=null?Ns(e,!!r,L,!1):!!o!=!!r&&(n!=null?Ns(e,!!r,n,!0):Ns(e,!!r,r?[]:"",!1));return;case"textarea":B=L=null;for(j in r)if(h=r[j],r.hasOwnProperty(j)&&h!=null&&!o.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ue(e,n,j,null,o,h)}for(v in o)if(h=o[v],f=r[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":L=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&Ue(e,n,v,h,o,f)}Xf(e,L,B);return;case"option":for(var ee in r)if(L=r[ee],r.hasOwnProperty(ee)&&L!=null&&!o.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ue(e,n,ee,null,o,L)}for(T in o)if(L=o[T],B=r[T],o.hasOwnProperty(T)&&L!==B&&(L!=null||B!=null))switch(T){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ue(e,n,T,L,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)L=r[le],r.hasOwnProperty(le)&&L!=null&&!o.hasOwnProperty(le)&&Ue(e,n,le,null,o,L);for(P in o)if(L=o[P],B=r[P],o.hasOwnProperty(P)&&L!==B&&(L!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,n));break;default:Ue(e,n,P,L,o,B)}return;default:if(jc(n)){for(var Pe in r)L=r[Pe],r.hasOwnProperty(Pe)&&L!==void 0&&!o.hasOwnProperty(Pe)&&ld(e,n,Pe,void 0,o,L);for(H in o)L=o[H],B=r[H],!o.hasOwnProperty(H)||L===B||L===void 0&&B===void 0||ld(e,n,H,L,o,B);return}}for(var D in r)L=r[D],r.hasOwnProperty(D)&&L!=null&&!o.hasOwnProperty(D)&&Ue(e,n,D,null,o,L);for(Y in o)L=o[Y],B=r[Y],!o.hasOwnProperty(Y)||L===B||L==null&&B==null||Ue(e,n,Y,L,o,B)}function Zg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,v=h.initiatorType,j=h.duration;if(f&&j&&Zg(v)){for(v=0,j=h.responseEnd,o+=1;o<r.length;o++){var T=r[o],P=T.startTime;if(P>j)break;var H=T.transferSize,Y=T.initiatorType;H&&Zg(Y)&&(T=T.responseEnd,v+=H*(T<j?1:(j-P)/(T-P)))}if(--o,n+=8*(f+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,ud=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function ep(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function cj(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,uj=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,dj=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(e){return ap.resolve(null).then(e).catch(hj)}:np;function hj(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function sp(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),oi(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Sr(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Sr(r);for(var f=r.firstChild;f;){var v=f.nextSibling,j=f.nodeName;f[qi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=v}}else r==="body"&&Sr(e.ownerDocument.body);r=h}while(r);oi(n)}function ip(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),vc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function fj(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[qi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function mj(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=rn(e.nextSibling),e===null))return null;return e}function rp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gj(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function rn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function op(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return rn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function lp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function cp(e,n,r){switch(n=il(r),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Sr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vc(e)}var on=new Map,up=new Set;function rl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=K.d;K.d={f:pj,r:yj,D:vj,C:bj,L:xj,m:wj,X:Sj,S:jj,M:_j};function pj(){var e=Zn.f(),n=Qo();return e||n}function yj(e){var n=Ts(e);n!==null&&n.tag===5&&n.type==="form"?k0(n):Zn.r(e)}var si=typeof document>"u"?null:document;function dp(e,n,r){var o=si;if(o&&typeof n=="string"&&n){var h=Jt(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),up.has(h)||(up.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),yt(n,"link",e),dt(n),o.head.appendChild(n)))}}function vj(e){Zn.D(e),dp("dns-prefetch",e,null)}function bj(e,n){Zn.C(e,n),dp("preconnect",e,n)}function xj(e,n,r){Zn.L(e,n,r);var o=si;if(o&&e&&n){var h='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Jt(r.imageSizes)+'"]')):h+='[href="'+Jt(e)+'"]';var f=h;switch(n){case"style":f=ii(e);break;case"script":f=ri(e)}on.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),on.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(_r(f))||n==="script"&&o.querySelector(Er(f))||(n=o.createElement("link"),yt(n,"link",e),dt(n),o.head.appendChild(n)))}}function wj(e,n){Zn.m(e,n);var r=si;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Jt(o)+'"][href="'+Jt(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ri(e)}if(!on.has(f)&&(e=b({rel:"modulepreload",href:e},n),on.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Er(f)))return}o=r.createElement("link"),yt(o,"link",e),dt(o),r.head.appendChild(o)}}}function jj(e,n,r){Zn.S(e,n,r);var o=si;if(o&&e){var h=ks(o).hoistableStyles,f=ii(e);n=n||"default";var v=h.get(f);if(!v){var j={loading:0,preload:null};if(v=o.querySelector(_r(f)))j.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=on.get(f))&&yd(e,r);var T=v=o.createElement("link");dt(T),yt(T,"link",e),T._p=new Promise(function(P,H){T.onload=P,T.onerror=H}),T.addEventListener("load",function(){j.loading|=1}),T.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ol(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:j},h.set(f,v)}}}function Sj(e,n){Zn.X(e,n);var r=si;if(r&&e){var o=ks(r).hoistableScripts,h=ri(e),f=o.get(h);f||(f=r.querySelector(Er(h)),f||(e=b({src:e,async:!0},n),(n=on.get(h))&&vd(e,n),f=r.createElement("script"),dt(f),yt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function _j(e,n){Zn.M(e,n);var r=si;if(r&&e){var o=ks(r).hoistableScripts,h=ri(e),f=o.get(h);f||(f=r.querySelector(Er(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=on.get(h))&&vd(e,n),f=r.createElement("script"),dt(f),yt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hp(e,n,r,o){var h=(h=ce.current)?rl(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ii(r.href),r=ks(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ii(r.href);var f=ks(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(_r(e)))&&!f._p&&(v.instance=f,v.state.loading=5),on.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},on.set(e,r),f||Ej(h,e,r,v.state))),n&&o===null)throw Error(i(528,""));return v}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ri(r),r=ks(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ii(e){return'href="'+Jt(e)+'"'}function _r(e){return'link[rel="stylesheet"]['+e+"]"}function fp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ej(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),yt(n,"link",r),dt(n),e.head.appendChild(n))}function ri(e){return'[src="'+Jt(e)+'"]'}function Er(e){return"script[async]"+e}function mp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Jt(r.href)+'"]');if(o)return n.instance=o,dt(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),dt(o),yt(o,"style",h),ol(o,r.precedence,e),n.instance=o;case"stylesheet":h=ii(r.href);var f=e.querySelector(_r(h));if(f)return n.state.loading|=4,n.instance=f,dt(f),f;o=fp(r),(h=on.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),dt(f);var v=f;return v._p=new Promise(function(j,T){v.onload=j,v.onerror=T}),yt(f,"link",o),n.state.loading|=4,ol(f,r.precedence,e),n.instance=f;case"script":return f=ri(r.src),(h=e.querySelector(Er(f)))?(n.instance=h,dt(h),h):(o=r,(h=on.get(f))&&(o=b({},r),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),dt(h),yt(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ol(o,r.precedence,e));return n.instance}function ol(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var j=o[v];if(j.dataset.precedence===n)f=j;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ll=null;function gp(e,n,r){if(ll===null){var o=new Map,h=ll=new Map;h.set(r,o)}else h=ll,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[qi]||f[ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var j=o.get(v);j?j.push(f):o.set(v,[f])}}return o}function pp(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Tj(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kj(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ii(o.href),f=n.querySelector(_r(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cl.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,dt(f);return}f=n.ownerDocument||n,o=fp(o),(h=on.get(h))&&yd(o,h),f=f.createElement("link"),dt(f);var v=f;v._p=new Promise(function(j,T){v.onload=j,v.onerror=T}),yt(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cl.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var bd=0;function Aj(e,n){return e.stylesheets&&e.count===0&&dl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&dl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*lj());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ul=null;function dl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ul=new Map,n.forEach(Nj,e),ul=null,cl.call(e))}function Nj(e,n){if(!(n.state.loading&4)){var r=ul.get(e);if(r)var o=r.get(null);else{r=new Map,ul.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||o,f===o&&r.set(null,h),r.set(v,h),this.count++,o=cl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Tr={$$typeof:R,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Cj(e,n,r,o,h,f,v,j,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.hiddenUpdates=mc(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vp(e,n,r,o,h,f,v,j,T,P,H,Y){return e=new Cj(e,n,r,v,T,P,H,Y,j),n=1,f===!0&&(n|=24),f=zt(3,null,null,n),e.current=f,f.stateNode=e,n=Jc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},nu(f),e}function bp(e){return e?(e=Ls,e):Ls}function xp(e,n,r,o,h,f){h=bp(h),o.context===null?o.context=h:o.pendingContext=h,o=fa(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ma(e,o,n),r!==null&&(Pt(r,e,n),sr(r,e,n))}function wp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function xd(e,n){wp(e,n),(e=e.alternate)&&wp(e,n)}function jp(e){if(e.tag===13||e.tag===31){var n=Ga(e,67108864);n!==null&&Pt(n,e,67108864),xd(e,67108864)}}function Sp(e){if(e.tag===13||e.tag===31){var n=It();n=gc(n);var r=Ga(e,n);r!==null&&Pt(r,e,n),xd(e,n)}}var hl=!0;function Oj(e,n,r,o){var h=F.T;F.T=null;var f=K.p;try{K.p=2,wd(e,n,r,o)}finally{K.p=f,F.T=h}}function Rj(e,n,r,o){var h=F.T;F.T=null;var f=K.p;try{K.p=8,wd(e,n,r,o)}finally{K.p=f,F.T=h}}function wd(e,n,r,o){if(hl){var h=jd(o);if(h===null)od(e,n,o,fl,r),Ep(e,o);else if(Mj(h,e,n,r,o))o.stopPropagation();else if(Ep(e,o),n&4&&-1<Dj.indexOf(e)){for(;h!==null;){var f=Ts(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=hn(f.pendingLanes);if(v!==0){var j=f;for(j.pendingLanes|=2,j.entangledLanes|=2;v;){var T=1<<31-Z(v);j.entanglements[1]|=T,v&=~T}kn(f),(Ae&6)===0&&(Xo=At()+500,xr(0))}}break;case 31:case 13:j=Ga(f,2),j!==null&&Pt(j,f,2),Qo(),xd(f,2)}if(f=jd(o),f===null&&od(e,n,o,fl,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function jd(e){return e=_c(e),Sd(e)}var fl=null;function Sd(e){if(fl=null,e=Es(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fl=e,null}function _p(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uc()){case Ui:return 2;case Pi:return 8;case Ss:case dc:return 32;case Li:return 268435456;default:return 32}default:return 32}}var _d=!1,Ea=null,Ta=null,ka=null,kr=new Map,Ar=new Map,Aa=[],Dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(e,n){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(n.pointerId)}}function Nr(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ts(n),n!==null&&jp(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Mj(e,n,r,o,h){switch(n){case"focusin":return Ea=Nr(Ea,e,n,r,o,h),!0;case"dragenter":return Ta=Nr(Ta,e,n,r,o,h),!0;case"mouseover":return ka=Nr(ka,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return kr.set(f,Nr(kr.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ar.set(f,Nr(Ar.get(f)||null,e,n,r,o,h)),!0}return!1}function Tp(e){var n=Es(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Vf(e.priority,function(){Sp(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,Vf(e.priority,function(){Sp(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=jd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Sc=o,r.target.dispatchEvent(o),Sc=null}else return n=Ts(r),n!==null&&jp(n),e.blockedOn=r,!1;n.shift()}return!0}function kp(e,n,r){ml(e)&&r.delete(n)}function Uj(){_d=!1,Ea!==null&&ml(Ea)&&(Ea=null),Ta!==null&&ml(Ta)&&(Ta=null),ka!==null&&ml(ka)&&(ka=null),kr.forEach(kp),Ar.forEach(kp)}function gl(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Uj)))}var pl=null;function Ap(e){pl!==e&&(pl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pl===e&&(pl=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||r)===null)continue;break}var f=Ts(r);f!==null&&(e.splice(n,3),n-=3,ju(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function oi(e){function n(T){return gl(T,e)}Ea!==null&&gl(Ea,e),Ta!==null&&gl(Ta,e),ka!==null&&gl(ka,e),kr.forEach(n),Ar.forEach(n);for(var r=0;r<Aa.length;r++){var o=Aa[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)Tp(r),r.blockedOn===null&&Aa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],v=h[Ct]||null;if(typeof f=="function")v||Ap(r);else if(v){var j=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ct]||null)j=v.formAction;else if(Sd(h)!==null)continue}else j=v.action;typeof j=="function"?r[o+1]=j:(r.splice(o,3),o-=3),Ap(r)}}}function Np(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(e){this._internalRoot=e}yl.prototype.render=Ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var r=n.current,o=It();xp(r,o,e,n,null,null)},yl.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xp(e.current,2,null,e,null,null),Qo(),n[_s]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=zf();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Aa.length&&n!==0&&n<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&Tp(e)}};var Cp=t.version;if(Cp!=="19.2.0")throw Error(i(527,Cp,"19.2.0"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Pj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{qa=vl.inject(Pj),te=vl}catch{}}return Or.createRoot=function(e,n){if(!l(e))throw Error(i(299));var r=!1,o="",h=L0,f=B0,v=z0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=vp(e,1,!1,null,null,r,o,null,h,f,v,Np),e[_s]=n.current,rd(e),new Ed(n)},Or.hydrateRoot=function(e,n,r){if(!l(e))throw Error(i(299));var o=!1,h="",f=L0,v=B0,j=z0,T=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),n=vp(e,1,!0,n,r??null,o,h,T,f,v,j,Np),n.context=bp(null),r=n.current,o=It(),o=gc(o),h=fa(o),h.callback=null,ma(r,h,o),r=o,n.current.lanes=r,Vi(n,r),kn(n),e[_s]=n.current,rd(e),new yl(n)},Or.version="19.2.0",Or}var Vp;function Kj(){if(Vp)return Ad.exports;Vp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=Yj(),Ad.exports}var Xj=Kj();const Wj=zh(Xj),Fh=({className:a})=>c.jsxs("svg",{className:a,viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg","aria-label":"Logo de Remesas A&M",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"aymLogoGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#0b63b2"}),c.jsx("stop",{offset:"100%",stopColor:"#2e8555"})]}),c.jsxs("linearGradient",{id:"logoBorderGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#0b63b2"}),c.jsx("stop",{offset:"100%",stopColor:"#2e8555"})]}),c.jsx("path",{id:"textPathTop",d:"M 52 100 A 48 48 0 1 1 148 100",fill:"none"}),c.jsx("path",{id:"textPathBottom",d:"M 40 100 A 60 60 0 1 0 160 100",fill:"none"})]}),c.jsx("circle",{cx:"100",cy:"100",r:"90",fill:"#FFFFFF",stroke:"url(#logoBorderGradient)",strokeWidth:"6"}),c.jsx("circle",{cx:"100",cy:"100",r:"82",fill:"url(#aymLogoGradient)"}),c.jsxs("g",{fill:"none",stroke:"#003841",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(0, 2)",children:[c.jsx("path",{d:"M 68 122 L 80 82 L 92 122"}),c.jsx("line",{x1:"73",y1:"110",x2:"87",y2:"110"}),c.jsx("path",{d:"M 108 122 L 108 82 L 120 105 L 132 82 L 132 122"}),c.jsx("path",{d:"M 99.5 109 C 99.5 102 94 100 90.5 100 C 85.5 100 85.5 105 90.5 105 C 96.5 105 96.5 112 90.5 112 C 84.5 112 84.5 119 92.5 119 L 96.5 115"})]}),c.jsx("text",{fill:"#003841",fontSize:"13.5",fontWeight:"bold",letterSpacing:"3.5",fontFamily:"sans-serif",children:c.jsx("textPath",{href:"#textPathTop",startOffset:"50%",textAnchor:"middle",children:"REMESAS"})}),c.jsx("text",{fill:"#003841",fontSize:"10",fontWeight:"bold",letterSpacing:"1.8",fontFamily:"sans-serif",children:c.jsx("textPath",{href:"#textPathBottom",startOffset:"50%",textAnchor:"middle",children:"CONECTANDO CORAZONES"})}),c.jsxs("g",{transform:"translate(13, -8) rotate(-15, 145, 45)",children:[c.jsx("path",{d:"M 145 45 L 125 62 L 138 70 L 165 50 Z",fill:"#FFFFFF",stroke:"#0b63b2",strokeWidth:"3",strokeLinejoin:"round"}),c.jsx("line",{x1:"138",y1:"70",x2:"130",y2:"60",stroke:"#2e8555",strokeWidth:"3"})]})]}),xn=({children:a,className:t=""})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-lg p-6 md:p-8 ${t}`,children:a});var ah=function(a,t){return ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])},ah(a,t)};function Hv(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ah(a,t);function s(){this.constructor=a}a.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var Bl=function(){return Bl=Object.assign||function(t){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},Bl.apply(this,arguments)};function ki(a,t){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(s[i[l]]=a[i[l]]);return s}function Iv(a,t,s,i){var l=arguments.length,u=l<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,s):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,t,s,i);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(u=(l<3?d(u):l>3?d(t,s,u):d(t,s))||u);return l>3&&u&&Object.defineProperty(t,s,u),u}function $v(a,t){return function(s,i){t(s,i,a)}}function Gv(a,t,s,i,l,u){function d(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var m=i.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!t&&a?i.static?a:a.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),b,x=!1,w=s.length-1;w>=0;w--){var _={};for(var E in i)_[E]=E==="access"?{}:i[E];for(var E in i.access)_.access[E]=i.access[E];_.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(k||null))};var S=(0,s[w])(m==="accessor"?{get:y.get,set:y.set}:y[g],_);if(m==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(b=d(S.get))&&(y.get=b),(b=d(S.set))&&(y.set=b),(b=d(S.init))&&l.unshift(b)}else(b=d(S))&&(m==="field"?l.unshift(b):y[g]=b)}p&&Object.defineProperty(p,i.name,y),x=!0}function Yv(a,t,s){for(var i=arguments.length>2,l=0;l<t.length;l++)s=i?t[l].call(a,s):t[l].call(a);return i?s:void 0}function Kv(a){return typeof a=="symbol"?a:"".concat(a)}function Xv(a,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function Wv(a,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,t)}function ae(a,t,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function m(y){try{p(i.next(y))}catch(b){d(b)}}function g(y){try{p(i.throw(y))}catch(b){d(b)}}function p(y){y.done?u(y.value):l(y.value).then(m,g)}p((i=i.apply(a,t||[])).next())})}function Qv(a,t){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(s=0)),s;)try{if(i=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,l=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){s.label=p[1];break}if(p[0]===6&&s.label<u[1]){s.label=u[1],u=p;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(p);break}u[2]&&s.ops.pop(),s.trys.pop();continue}p=t.call(a,s)}catch(y){p=[6,y],l=0}finally{i=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Jl=Object.create?(function(a,t,s,i){i===void 0&&(i=s);var l=Object.getOwnPropertyDescriptor(t,s);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(a,i,l)}):(function(a,t,s,i){i===void 0&&(i=s),a[i]=t[s]});function Jv(a,t){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&Jl(t,a,s)}function zl(a){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&a[t],i=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hh(a,t){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var i=s.call(a),l,u=[],d;try{for(;(t===void 0||t-- >0)&&!(l=i.next()).done;)u.push(l.value)}catch(m){d={error:m}}finally{try{l&&!l.done&&(s=i.return)&&s.call(i)}finally{if(d)throw d.error}}return u}function Zv(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Hh(arguments[t]));return a}function eb(){for(var a=0,t=0,s=arguments.length;t<s;t++)a+=arguments[t].length;for(var i=Array(a),l=0,t=0;t<s;t++)for(var u=arguments[t],d=0,m=u.length;d<m;d++,l++)i[l]=u[d];return i}function tb(a,t,s){if(s||arguments.length===2)for(var i=0,l=t.length,u;i<l;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return a.concat(u||Array.prototype.slice.call(t))}function Si(a){return this instanceof Si?(this.v=a,this):new Si(a)}function nb(a,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(a,t||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(w){return function(_){return Promise.resolve(_).then(w,b)}}function m(w,_){i[w]&&(l[w]=function(E){return new Promise(function(S,k){u.push([w,E,S,k])>1||g(w,E)})},_&&(l[w]=_(l[w])))}function g(w,_){try{p(i[w](_))}catch(E){x(u[0][3],E)}}function p(w){w.value instanceof Si?Promise.resolve(w.value.v).then(y,b):x(u[0][2],w)}function y(w){g("next",w)}function b(w){g("throw",w)}function x(w,_){w(_),u.shift(),u.length&&g(u[0][0],u[0][1])}}function ab(a){var t,s;return t={},i("next"),i("throw",function(l){throw l}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(l,u){t[l]=a[l]?function(d){return(s=!s)?{value:Si(a[l](d)),done:!1}:u?u(d):d}:u}}function sb(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=a[Symbol.asyncIterator],s;return t?t.call(a):(a=typeof zl=="function"?zl(a):a[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(u){s[u]=a[u]&&function(d){return new Promise(function(m,g){d=a[u](d),l(m,g,d.done,d.value)})}}function l(u,d,m,g){Promise.resolve(g).then(function(p){u({value:p,done:m})},d)}}function ib(a,t){return Object.defineProperty?Object.defineProperty(a,"raw",{value:t}):a.raw=t,a}var Qj=Object.create?(function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}):function(a,t){a.default=t},sh=function(a){return sh=Object.getOwnPropertyNames||function(t){var s=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[s.length]=i);return s},sh(a)};function rb(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var s=sh(a),i=0;i<s.length;i++)s[i]!=="default"&&Jl(t,a,s[i]);return Qj(t,a),t}function ob(a){return a&&a.__esModule?a:{default:a}}function lb(a,t,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!i:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(a):i?i.value:t.get(a)}function cb(a,t,s,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?a!==t||!l:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(a,s):l?l.value=s:t.set(a,s),s}function ub(a,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?t===a:a.has(t)}function db(a,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,l;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],s&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:t,dispose:i,async:s})}else s&&a.stack.push({async:!0});return t}var Jj=typeof SuppressedError=="function"?SuppressedError:function(a,t,s){var i=new Error(s);return i.name="SuppressedError",i.error=a,i.suppressed=t,i};function hb(a){function t(u){a.error=a.hasError?new Jj(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var s,i=0;function l(){for(;s=a.stack.pop();)try{if(!s.async&&i===1)return i=0,a.stack.push(s),Promise.resolve().then(l);if(s.dispose){var u=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(u).then(l,function(d){return t(d),l()})}else i|=1}catch(d){t(d)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return l()}function fb(a,t){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,l,u,d){return i?t?".jsx":".js":l&&(!u||!d)?s:l+u+"."+d.toLowerCase()+"js"}):a}const Zj={__extends:Hv,__assign:Bl,__rest:ki,__decorate:Iv,__param:$v,__esDecorate:Gv,__runInitializers:Yv,__propKey:Kv,__setFunctionName:Xv,__metadata:Wv,__awaiter:ae,__generator:Qv,__createBinding:Jl,__exportStar:Jv,__values:zl,__read:Hh,__spread:Zv,__spreadArrays:eb,__spreadArray:tb,__await:Si,__asyncGenerator:nb,__asyncDelegator:ab,__asyncValues:sb,__makeTemplateObject:ib,__importStar:rb,__importDefault:ob,__classPrivateFieldGet:lb,__classPrivateFieldSet:cb,__classPrivateFieldIn:ub,__addDisposableResource:db,__disposeResources:hb,__rewriteRelativeImportExtension:fb},eS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:db,get __assign(){return Bl},__asyncDelegator:ab,__asyncGenerator:nb,__asyncValues:sb,__await:Si,__awaiter:ae,__classPrivateFieldGet:lb,__classPrivateFieldIn:ub,__classPrivateFieldSet:cb,__createBinding:Jl,__decorate:Iv,__disposeResources:hb,__esDecorate:Gv,__exportStar:Jv,__extends:Hv,__generator:Qv,__importDefault:ob,__importStar:rb,__makeTemplateObject:ib,__metadata:Wv,__param:$v,__propKey:Kv,__read:Hh,__rest:ki,__rewriteRelativeImportExtension:fb,__runInitializers:Yv,__setFunctionName:Xv,__spread:Zv,__spreadArray:tb,__spreadArrays:eb,__values:zl,default:Zj},Symbol.toStringTag,{value:"Module"})),tS=a=>a?(...t)=>a(...t):(...t)=>fetch(...t);class Ih extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class nS extends Ih{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qp extends Ih{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fp extends Ih{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ih;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(ih||(ih={}));class aS{constructor(t,{headers:s={},customFetch:i,region:l=ih.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=tS(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ae(this,arguments,void 0,function*(s,i={}){var l;let u,d;try{const{headers:m,method:g,body:p,signal:y,timeout:b}=i;let x={},{region:w}=i;w||(w=this.region);const _=new URL(`${this.url}/${s}`);w&&w!=="any"&&(x["x-region"]=w,_.searchParams.set("forceFunctionRegion",w));let E;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(x["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(x["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let S=y;b&&(d=new AbortController,u=setTimeout(()=>d.abort(),b),y?(S=d.signal,y.addEventListener("abort",()=>d.abort())):S=d.signal);const k=yield this.fetch(_.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:E,signal:S}).catch(V=>{throw new nS(V)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new qp(k);if(!k.ok)throw new Fp(k);let R=((l=k.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),z;return R==="application/json"?z=yield k.json():R==="application/octet-stream"||R==="application/pdf"?z=yield k.blob():R==="text/event-stream"?z=k:R==="multipart/form-data"?z=yield k.formData():z=yield k.text(),{data:z,error:null,response:k}}catch(m){return{data:null,error:m,response:m instanceof Fp||m instanceof qp?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var St={};const Ai=zj(eS);var bl={},xl={},wl={},jl={},Sl={},_l={},Hp;function mb(){if(Hp)return _l;Hp=1,Object.defineProperty(_l,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return _l.default=a,_l}var Ip;function gb(){if(Ip)return Sl;Ip=1,Object.defineProperty(Sl,"__esModule",{value:!0});const t=Ai.__importDefault(mb());class s{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,y,b,x;let w=null,_=null,E=null,S=g.status,k=g.statusText;if(g.ok){if(this.method!=="HEAD"){const V=await g.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=V:_=JSON.parse(V))}const R=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),z=(b=g.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&z&&z.length>1&&(E=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,E=null,S=406,k="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const R=await g.text();try{w=JSON.parse(R),Array.isArray(w)&&g.status===404&&(_=[],w=null,S=200,k="OK")}catch{g.status===404&&R===""?(S=204,k="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,S=200,k="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:_,count:E,status:S,statusText:k}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,y,b,x,w,_;let E="";const S=g?.cause;if(S){const k=(p=S?.message)!==null&&p!==void 0?p:"",O=(y=S?.code)!==null&&y!==void 0?y:"";E=`${(b=g?.name)!==null&&b!==void 0?b:"FetchError"}: ${g?.message}`,E+=`

Caused by: ${(x=S?.name)!==null&&x!==void 0?x:"Error"}: ${k}`,O&&(E+=` (${O})`),S?.stack&&(E+=`
${S.stack}`)}else E=(w=g?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(_=g?.name)!==null&&_!==void 0?_:"FetchError"}: ${g?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(l,u)}returns(){return this}overrideTypes(){return this}}return Sl.default=s,Sl}var $p;function pb(){if($p)return jl;$p=1,Object.defineProperty(jl,"__esModule",{value:!0});const t=Ai.__importDefault(gb());class s extends t.default{select(l){let u=!1;const d=(l??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:m=d}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[l?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return jl.default=s,jl}var Gp;function $h(){if(Gp)return wl;Gp=1,Object.defineProperty(wl,"__esModule",{value:!0});const t=Ai.__importDefault(pb()),s=new RegExp("[,()]");class i extends t.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${p}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return wl.default=i,wl}var Yp;function yb(){if(Yp)return xl;Yp=1,Object.defineProperty(xl,"__esModule",{value:!0});const t=Ai.__importDefault($h());class s{constructor(l,{headers:u={},schema:d,fetch:m}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=m}select(l,u){const{head:d=!1,count:m}=u??{},g=d?"HEAD":"GET";let p=!1;const y=(l??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var m;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(b.length>0){const x=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var d;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return xl.default=s,xl}var Kp;function sS(){if(Kp)return bl;Kp=1,Object.defineProperty(bl,"__esModule",{value:!0});const a=Ai,t=a.__importDefault(yb()),s=a.__importDefault($h());class i{constructor(u,{headers:d={},schema:m,fetch:g}={}){this.url=u,this.headers=new Headers(d),this.schemaName=m,this.fetch=g}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:m=!1,get:g=!1,count:p}={}){var y;let b;const x=new URL(`${this.url}/rpc/${u}`);let w;m||g?(b=m?"HEAD":"GET",Object.entries(d).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{x.searchParams.append(E,S)})):(b="POST",w=d);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new s.default({method:b,url:x,headers:_,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return bl.default=i,bl}var Xp;function iS(){if(Xp)return St;Xp=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const a=Ai,t=a.__importDefault(sS());St.PostgrestClient=t.default;const s=a.__importDefault(yb());St.PostgrestQueryBuilder=s.default;const i=a.__importDefault($h());St.PostgrestFilterBuilder=i.default;const l=a.__importDefault(pb());St.PostgrestTransformBuilder=l.default;const u=a.__importDefault(gb());St.PostgrestBuilder=u.default;const d=a.__importDefault(mb());return St.PostgrestError=d.default,St.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},St}var vb=iS();const bb=zh(vb),rS=Bj({__proto__:null,default:bb},[vb]),{PostgrestClient:oS,PostgrestQueryBuilder:D3,PostgrestFilterBuilder:M3,PostgrestTransformBuilder:U3,PostgrestBuilder:P3,PostgrestError:L3}=bb||rS;class lS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cS="2.84.0",uS=`realtime-js/${cS}`,xb="1.0.0",dS="2.0.0",Wp=xb,rh=1e4,hS=1e3,fS=100;var fs;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(fs||(fs={}));var ct;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ct||(ct={}));var bn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(bn||(bn={}));var oh;(function(a){a.websocket="websocket"})(oh||(oh={}));var ms;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(ms||(ms={}));class mS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i,l,u;const d=t.topic,m=(s=t.ref)!==null&&s!==void 0?s:"",g=(i=t.join_ref)!==null&&i!==void 0?i:"",p=t.payload.event,y=(u=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:new ArrayBuffer(0),b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+d.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,g.length),w.setUint8(_++,m.length),w.setUint8(_++,d.length),w.setUint8(_++,p.length),w.setUint8(_++,this.BINARY_ENCODING),Array.from(g,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(m,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(d,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(p,S=>w.setUint8(_++,S.charCodeAt(0)));var E=new Uint8Array(x.byteLength+y.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(y),x.byteLength),E.buffer}_encodeJsonUserBroadcastPush(t){var s,i,l,u;const d=t.topic,m=(s=t.ref)!==null&&s!==void 0?s:"",g=(i=t.join_ref)!==null&&i!==void 0?i:"",p=t.payload.event,y=(u=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:{},x=new TextEncoder().encode(JSON.stringify(y)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+d.length+p.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(_),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,g.length),E.setUint8(S++,m.length),E.setUint8(S++,d.length),E.setUint8(S++,p.length),E.setUint8(S++,this.JSON_ENCODING),Array.from(g,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(m,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(d,O=>E.setUint8(S++,O.charCodeAt(0))),Array.from(p,O=>E.setUint8(S++,O.charCodeAt(0)));var k=new Uint8Array(_.byteLength+x.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(x),_.byteLength),k.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[l,u,d,m,g]=i;return s({join_ref:l,ref:u,topic:d,event:m,payload:g})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),l=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,i){const l=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const p=i.decode(t.slice(g,g+l));g=g+l;const y=i.decode(t.slice(g,g+u));g=g+u;const b=i.decode(t.slice(g,g+d));g=g+d;const x=t.slice(g,t.byteLength),w=m===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,_={type:this.BROADCAST_EVENT,event:y,payload:w};return d>0&&(_.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class wb{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ve||(Ve={}));const Qp=(a,t,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=gS(d,a,t,l),u),{}):{}},gS=(a,t,s,i)=>{const l=t.find(m=>m.name===a),u=l?.type,d=s[a];return u&&!i.includes(u)?jb(u,d):lh(d)},jb=(a,t)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return bS(t,s)}switch(a){case Ve.bool:return pS(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return yS(t);case Ve.json:case Ve.jsonb:return vS(t);case Ve.timestamp:return xS(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return lh(t);default:return lh(t)}},lh=a=>a,pS=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},yS=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},vS=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},bS=(a,t)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let u;const d=a.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>jb(t,m))}return a},xS=a=>typeof a=="string"?a.replace(" ","T"):a,Sb=a=>{const t=new URL(a);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rd{constructor(t,s,i={},l=rh){this.channel=t,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jp;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Jp||(Jp={}));class Br{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Br.syncState(this.state,l,u,d),this.pendingDiffs.forEach(g=>{this.state=Br.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Br.syncDiff(this.state,l,u,d),m())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,l){const u=this.cloneDeep(t),d=this.transformState(s),m={},g={};return this.map(u,(p,y)=>{d[p]||(g[p]=y)}),this.map(d,(p,y)=>{const b=u[p];if(b){const x=y.map(S=>S.presence_ref),w=b.map(S=>S.presence_ref),_=y.filter(S=>w.indexOf(S.presence_ref)<0),E=b.filter(S=>x.indexOf(S.presence_ref)<0);_.length>0&&(m[p]=_),E.length>0&&(g[p]=E)}else m[p]=y}),this.syncDiff(u,{joins:m,leaves:g},i,l)}static syncDiff(t,s,i,l){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(m,g)=>{var p;const y=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),y.length>0){const b=t[m].map(w=>w.presence_ref),x=y.filter(w=>b.indexOf(w.presence_ref)<0);t[m].unshift(...x)}i(m,y,g)}),this.map(d,(m,g)=>{let p=t[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),t[m]=p,l(m,p,g),p.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const l=t[i];return"metas"in l?s[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zp;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Zp||(Zp={}));var zr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(zr||(zr={}));var ea;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(ea||(ea={}));class Gh{constructor(t,s={config:{}},i){var l,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rd(this,bn.join,this.params,this.timeout),this.rejoinTimer=new wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Br(this),this.broadcastEndpointURL=Sb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:d,presence:m,private:g}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[zr.PRESENCE]&&this.bindings[zr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},x={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(ea.CHANNEL_ERROR,w)),this._onClose(()=>t?.(ea.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){t?.(ea.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(_=E?.length)!==null&&_!==void 0?_:0,k=[];for(let O=0;O<S;O++){const R=E[O],{filter:{event:z,schema:V,table:M,filter:q}}=R,X=w&&w[O];if(X&&X.event===z&&X.schema===V&&X.table===M&&X.filter===q)k.push(Object.assign(Object.assign({},R),{id:X.id}));else{this.unsubscribe(),this.state=ct.errored,t?.(ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ea.SUBSCRIBED);return}}).receive("error",w=>{this.state=ct.errored,t?.(ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===ct.joined&&t===zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(t,s={}){var i,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,g;const p=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Rd(this,bn.leave,{},t),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),d}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Rd(this,t,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var l,u;const d=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=bn;if(i&&[m,g,p,y].indexOf(d)>=0&&i!==this._joinRef())return;let x=this._onMessage(d,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var _,E,S;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(E=w.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(w=>w.callback(x,i)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var _,E,S,k,O,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const z=w.id,V=(_=w.filter)===null||_===void 0?void 0:_.event;return z&&((E=s.ids)===null||E===void 0?void 0:E.includes(z))&&(V==="*"||V?.toLocaleLowerCase()===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const z=(O=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return z==="*"||z===((R=s?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:E,table:S,commit_timestamp:k,type:O,errors:R}=_;x=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:k,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(_))}w.callback(x,i)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const l=t.toLocaleLowerCase(),u={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Gh.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Qp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Qp(t.columns,t.old_record)),s}}const Dd=()=>{},El={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wS=[1e3,2e3,5e3,1e4],jS=1e4,SS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _S{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rh,this.transport=null,this.heartbeatIntervalMs=El.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dd,this.ref=0,this.reconnectTimer=null,this.vsn=Wp,this.logger=Dd,this.conn=null,this.sendBuffer=[],this.serializer=new mS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${oh.websocket}`,this.httpEndpoint=Sb(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return ms.Connecting;case fs.open:return ms.Open;case fs.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new Gh(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:l,ref:u}=t,d=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},El.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=s,m=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${i} ${l} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fs.open||this.conn.readyState===fs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${i}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([SS],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const l={access_token:s,version:uS};s&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(bn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},El.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,l,u,d,m,g,p,y,b,x,w;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:rh,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:El.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:Dd,this.vsn=(g=t?.vsn)!==null&&g!==void 0?g:Wp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>wS[_-1]||jS),this.vsn){case xb:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((_,E)=>E(JSON.stringify(_))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((_,E)=>E(JSON.parse(_)));break;case dS:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Yh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class ES extends Yh{constructor(t,s,i){super(t),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ch extends Yh{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const Kh=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),TS=()=>Response,uh=a=>{if(Array.isArray(a))return a.map(s=>uh(s));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=uh(i)}),t},kS=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Md=a=>{var t;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(t=a.error)===null||t===void 0?void 0:t.message)||JSON.stringify(a)},AS=(a,t,s)=>ae(void 0,void 0,void 0,function*(){const i=yield TS();a instanceof i&&!s?.noResolveJson?a.json().then(l=>{const u=a.status||500,d=l?.statusCode||u+"";t(new ES(Md(l),u,d))}).catch(l=>{t(new ch(Md(l),l))}):t(new ch(Md(a),a))}),NS=(a,t,s,i)=>{const l={method:a,headers:t?.headers||{}};return a==="GET"||!i?l:(kS(i)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(i)):l.body=i,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),s))};function eo(a,t,s,i,l,u){return ae(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(s,NS(t,i,l,u)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>AS(g,m,i))})})}function Ir(a,t,s,i){return ae(this,void 0,void 0,function*(){return eo(a,"GET",t,s,i)})}function vn(a,t,s,i,l){return ae(this,void 0,void 0,function*(){return eo(a,"POST",t,i,l,s)})}function dh(a,t,s,i,l){return ae(this,void 0,void 0,function*(){return eo(a,"PUT",t,i,l,s)})}function CS(a,t,s,i){return ae(this,void 0,void 0,function*(){return eo(a,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Xh(a,t,s,i,l){return ae(this,void 0,void 0,function*(){return eo(a,"DELETE",t,i,l,s)})}class OS{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var _b;class RS{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[_b]="BlobDownloadBuilder",this.promise=null}asStream(){return new OS(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}_b=Symbol.toStringTag;const DS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ey={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MS{constructor(t,s={},i,l){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=i,this.fetch=Kh(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,i,l){return ae(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},ey),l);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),g&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(g))):(u=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(m=Object.assign(Object.assign({},m),l.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),b=yield(t=="PUT"?dh:vn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}upload(t,s,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,i)})}uploadToSignedUrl(t,s,i,l){return ae(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",s);try{let g;const p=Object.assign({upsert:ey.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield dh(this.fetch,m.toString(),g,{headers:y});return{data:{path:u,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if($e(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,s){return ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const u=yield vn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new Yh("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}update(t,s,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,i)})}move(t,s,i){return ae(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}copy(t,s,i){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}createSignedUrl(t,s,i){return ae(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),u=yield vn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}createSignedUrls(t,s,i){return ae(this,void 0,void 0,function*(){try{const l=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}download(t,s){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),d=u?`?${u}`:"",m=this._getFinalPath(t),g=()=>Ir(this.fetch,`${this.url}/${l}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new RS(g,this.shouldThrowOnError)}info(t){return ae(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const i=yield Ir(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:uh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}exists(t){return ae(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield CS(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i)&&i instanceof ch){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,s){const i=this._getFinalPath(t),l=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&l.push(g);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}list(t,s,i){return ae(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},DS),s),{prefix:t||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}listV2(t,s){return ae(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Eb="2.84.0",Tb={"X-Client-Info":`storage-js/${Eb}`};class US{constructor(t,s={},i,l){this.shouldThrowOnError=!1;const u=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),s),this.fetch=Kh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ae(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Ir(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}getBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createBucket(t){return ae(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}updateBucket(t,s){return ae(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class PS{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tb),s),this.fetch=Kh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}listBuckets(t){return ae(this,void 0,void 0,function*(){try{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const i=s.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ir(this.fetch,l,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Xh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}}const Wh={"X-Client-Info":`storage-js/${Eb}`,"Content-Type":"application/json"};class kb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Ud extends kb{constructor(t,s,i){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LS extends kb{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var ty;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ty||(ty={}));const Qh=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),BS=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},ny=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),zS=(a,t,s)=>ae(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!s?.noResolveJson){const l=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const m=d?.statusCode||d?.code||l+"";t(new Ud(ny(d),l,m))}).catch(()=>{const d=l+"",m=u.statusText||`HTTP ${l} error`;t(new Ud(m,l,d))});else{const d=l+"",m=u.statusText||`HTTP ${l} error`;t(new Ud(m,l,d))}}else t(new LS(ny(a),a))}),VS=(a,t,s,i)=>{const l={method:a,headers:t?.headers||{}};return i?(BS(i)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),s)):l};function qS(a,t,s,i,l,u){return ae(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(s,VS(t,i,l,u)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>zS(g,m,i))})})}function Yt(a,t,s,i,l){return ae(this,void 0,void 0,function*(){return qS(a,"POST",t,i,l,s)})}class FS{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wh),s),this.fetch=Qh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ae(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}getIndex(t,s){return ae(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}listIndexes(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return ae(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}}class HS{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wh),s),this.fetch=Qh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ae(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}getVectors(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}listVectors(t){return ae(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Yt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}queryVectors(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}deleteVectors(t){return ae(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}}class IS{constructor(t,s={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wh),s),this.fetch=Qh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}getBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}listBuckets(){return ae(this,arguments,void 0,function*(t={}){try{return{data:yield Yt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ae(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Gt(s))return{data:null,error:s};throw s}})}}class $S extends IS{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new GS(this.url,this.headers,t,this.fetch)}}class GS extends FS{constructor(t,s,i,l){super(t,s,l),this.vectorBucketName=i}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new YS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class YS extends HS{constructor(t,s,i,l,u){super(t,s,u),this.vectorBucketName=i,this.indexName=l}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KS extends US{constructor(t,s={},i,l){super(t,s,i,l)}from(t){return new MS(this.url,this.headers,t,this.fetch)}get vectors(){return new $S(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PS(this.url+"/iceberg",this.headers,this.fetch)}}const XS="2.84.0";let Mr="";typeof Deno<"u"?Mr="deno":typeof document<"u"?Mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mr="react-native":Mr="node";const WS={"X-Client-Info":`supabase-js-${Mr}/${XS}`},QS={headers:WS},JS={schema:"public"},ZS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e_={},t_=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),n_=()=>Headers,a_=(a,t,s)=>{const i=t_(s),l=n_();return async(u,d)=>{var m;const g=(m=await t())!==null&&m!==void 0?m:a;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(u,Object.assign(Object.assign({},d),{headers:p}))}};function s_(a){return a.endsWith("/")?a:a+"/"}function i_(a,t){var s,i;const{db:l,auth:u,realtime:d,global:m}=a,{db:g,auth:p,realtime:y,global:b}=t,x={db:Object.assign(Object.assign({},g),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(s=b?.headers)!==null&&s!==void 0?s:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?x.accessToken=a.accessToken:delete x.accessToken,x}function r_(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ab="2.84.0",mi=30*1e3,hh=3,Pd=hh*mi,o_="http://localhost:9999",l_="supabase.auth.token",c_={"X-Client-Info":`gotrue-js/${Ab}`},fh="X-Supabase-Api-Version",Nb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d_=600*1e3;class $r extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function se(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class h_ extends $r{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function f_(a){return se(a)&&a.name==="AuthApiError"}class gs extends $r{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class La extends $r{constructor(t,s,i,l){super(t,i,l),this.name=s,this.status=i}}class $t extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m_(a){return se(a)&&a.name==="AuthSessionMissingError"}class li extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends La{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kl extends La{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g_(a){return se(a)&&a.name==="AuthImplicitGrantRedirectError"}class ay extends La{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mh extends La{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Ld(a){return se(a)&&a.name==="AuthRetryableFetchError"}class sy extends La{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class gh extends La{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iy=` 	
\r=`.split(""),p_=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<iy.length;t+=1)a[iy[t].charCodeAt(0)]=-2;for(let t=0;t<Vl.length;t+=1)a[Vl[t].charCodeAt(0)]=t;return a})();function ry(a,t,s){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Vl[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Vl[i]),t.queuedBits-=6}}function Cb(a,t,s){const i=p_[a];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function oy(a){const t=[],s=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{b_(d,i,s)};for(let d=0;d<a.length;d+=1)Cb(a.charCodeAt(d),l,u);return t.join("")}function y_(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function v_(a,t){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}y_(i,t)}}function b_(a,t,s){if(t.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function wi(a){const t=[],s={queue:0,queuedBits:0},i=l=>{t.push(l)};for(let l=0;l<a.length;l+=1)Cb(a.charCodeAt(l),s,i);return new Uint8Array(t)}function x_(a){const t=[];return v_(a,s=>t.push(s)),new Uint8Array(t)}function ps(a){const t=[],s={queue:0,queuedBits:0},i=l=>{t.push(l)};return a.forEach(l=>ry(l,s,i)),ry(null,s,i),t.join("")}function w_(a){return Math.round(Date.now()/1e3)+a}function j_(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Ob=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function S_(a){const t={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return s.searchParams.forEach((i,l)=>{t[l]=i}),t}const Rb=a=>a?(...t)=>a(...t):(...t)=>fetch(...t),__=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",gi=async(a,t,s)=>{await a.setItem(t,JSON.stringify(s))},rs=async(a,t)=>{const s=await a.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ca=async(a,t)=>{await a.removeItem(t)};class Zl{constructor(){this.promise=new Zl.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Zl.promiseConstructor=Promise;function Bd(a){const t=a.split(".");if(t.length!==3)throw new gh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!u_.test(t[i]))throw new gh("JWT not in base64url format");return{header:JSON.parse(oy(t[0])),payload:JSON.parse(oy(t[1])),signature:wi(t[2]),raw:{header:t[0],payload:t[1]}}}async function E_(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function T_(a,t){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!t(u,null,d)){i(d);return}}catch(d){if(!t(u,d)){l(d);return}}})()})}function k_(a){return("0"+a.toString(16)).substr(-2)}function A_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(t),Array.from(t,k_).join("")}async function N_(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function C_(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await N_(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(a,t,s=!1){const i=A_();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await gi(a,`${t}-code-verifier`,l);const u=await C_(i);return[u,i===u?"plain":"s256"]}const O_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(a){const t=a.headers.get(fh);if(!t||!t.match(O_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D_(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function M_(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ui(a){if(!U_.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zd(){const a={};return new Proxy(a,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P_(a,t){return new Proxy(a,{get:(s,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,l)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,l)}})}function ly(a){return JSON.parse(JSON.stringify(a))}const cs=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),L_=[502,503,504];async function cy(a){var t;if(!__(a))throw new mh(cs(a),0);if(L_.includes(a.status))throw new mh(cs(a),a.status);let s;try{s=await a.json()}catch(u){throw new gs(cs(u),u)}let i;const l=R_(a);if(l&&l.getTime()>=Nb["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new sy(cs(s),a.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $t}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new sy(cs(s),a.status,s.weak_password.reasons);throw new h_(cs(s),a.status||500,i)}const B_=(a,t,s,i)=>{const l={method:a,headers:t?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function ue(a,t,s,i){var l;const u=Object.assign({},i?.headers);u[fh]||(u[fh]=Nb["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await z_(a,t,s+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function z_(a,t,s,i,l,u){const d=B_(t,i,l,u);let m;try{m=await a(s,Object.assign({},d))}catch(g){throw console.error(g),new mh(cs(g),0)}if(m.ok||await cy(m),i?.noResolveJson)return m;try{return await m.json()}catch(g){await cy(g)}}function pn(a){var t;let s=null;F_(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=w_(a.expires_in)));const i=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:s,user:i},error:null}}function uy(a){const t=pn(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=a.weak_password),t}function Da(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function V_(a){return{data:a,error:null}}function q_(a){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:l,verification_type:u}=a,d=ki(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:i,redirect_to:l,verification_type:u},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function dy(a){return a}function F_(a){return a.access_token&&a.refresh_token&&a.expires_in}const Vd=["global","local","others"];class H_{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=Rb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Vd[0]){if(Vd.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vd.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Da})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=ki(t,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:q_,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,l,u,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:dy});if(y.error)throw y.error;const b=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);p[`${S}Page`]=E}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ui(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ui(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Da})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){ui(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Da})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ui(t.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ui(t.userId),ui(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,l,u,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:dy});if(y.error)throw y.error;const b=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);p[`${S}Page`]=E}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}}function hy(a={}){return{getItem:t=>a[t]||null,setItem:(t,s)=>{a[t]=s},removeItem:t=>{delete a[t]}}}const di={debug:!!(globalThis&&Ob()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Db extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class I_ extends Db{}async function $_(a,t,s){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await s()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(t===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new I_(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(di.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function G_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mb(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Y_(a){return parseInt(a,16)}function K_(a){const t=new TextEncoder().encode(a);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function X_(a){var t;const{chainId:s,domain:i,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:x}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=a.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=Mb(a.address),_=y?`${y}://${i}`:i,E=a.statement?`${a.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${w}

${E}`;let k=`URI: ${b}
Version: ${x}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(k+=`
Expiration Time: ${l.toISOString()}`),m&&(k+=`
Not Before: ${m.toISOString()}`),g&&(k+=`
Request ID: ${g}`),p){let O=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}k+=O}return`${S}
${k}`}class ot extends Error{constructor({message:t,code:s,cause:i,name:l}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=l??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class ql extends ot{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function W_({error:a,options:t}){var s,i,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(Ub(d)){if(u.rp.id!==d)return new ot({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Q_({error:a,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(Ub(i)){if(s.rpId!==i)return new ot({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class J_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Z_=new J_;function e2(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:t,user:s,excludeCredentials:i}=a,l=ki(a,["challenge","user","excludeCredentials"]),u=wi(t).buffer,d=Object.assign(Object.assign({},s),{id:wi(s.id).buffer}),m=Object.assign(Object.assign({},l),{challenge:u,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const p=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:wi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function t2(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:t,allowCredentials:s}=a,i=ki(a,["challenge","allowCredentials"]),l=wi(t).buffer,u=Object.assign(Object.assign({},i),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const m=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:wi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function n2(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:ps(new Uint8Array(a.response.attestationObject)),clientDataJSON:ps(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function a2(a){var t;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,i=a.getClientExtensionResults(),l=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ps(new Uint8Array(l.authenticatorData)),clientDataJSON:ps(new Uint8Array(l.clientDataJSON)),signature:ps(new Uint8Array(l.signature)),userHandle:l.userHandle?ps(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ub(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function fy(){var a,t;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function s2(a){try{const t=await navigator.credentials.create(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ql("Browser returned unexpected credential type",t)}:{data:null,error:new ql("Empty credential response",t)}}catch(t){return{data:null,error:W_({error:t,options:a})}}}async function i2(a){try{const t=await navigator.credentials.get(a);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ql("Browser returned unexpected credential type",t)}:{data:null,error:new ql("Empty credential response",t)}}catch(t){return{data:null,error:Q_({error:t,options:a})}}}const r2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},o2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fl(...a){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of a)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(s(d))i[u]=d;else if(t(d)){const m=i[u];t(m)?i[u]=Fl(m,d):i[u]=Fl(d)}else i[u]=d}return i}function l2(a,t){return Fl(r2,a,t||{})}function c2(a,t){return Fl(o2,a,t||{})}class u2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:l},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:m};const g=l??Z_.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=l2(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:b}=await s2({publicKey:p,signal:g});return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=c2(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:b}=await i2(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new gs("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new $r("rpId is required for WebAuthn authentication")};try{if(!fy())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:l},{request:u});if(!d)return{data:null,error:m};const{webauthn:g}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new gs("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new $r("rpId is required for WebAuthn registration")};try{if(!fy())return{data:null,error:new gs("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:l},{create:u});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new gs("Unexpected error in register",d)}}}}G_();const d2={url:o_,storageKey:l_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function my(a,t,s){return await s()}const hi={};class Gr{get jwks(){var t,s;return(s=(t=hi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=hi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},d2),t);if(this.storageKey=u.storageKey,this.instanceID=(s=Gr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Gr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&vt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new H_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Rb(u.fetch),this.lock=u.lock||my,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:vt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=$_:this.lock=my,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Ob()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hy(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=hy(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ab}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(vt()&&(s=S_(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),vt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),g_(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?this._returnResult({error:s}):this._returnResult({error:new gs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,l;try{const u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:pn}),{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,l;try{let u;if("email"in t){const{email:y,password:b,options:x}=t;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await ci(this.storage,this.storageKey)),u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:b,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:_},xform:pn})}else if("phone"in t){const{phone:y,password:b,options:x}=t;u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(l=x?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:pn})}else throw new Tl("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:m}=t;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:uy})}else if("phone"in t){const{phone:u,password:d,options:m}=t;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:uy})}else throw new Tl("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const u=new li;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,l,u,d,m,g,p,y,b,x;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:E,wallet:S,statement:k,options:O}=t;let R;if(vt())if(typeof S=="object")R=S;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")R=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const z=new URL((s=O?.url)!==null&&s!==void 0?s:window.location.href),V=await R.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Mb(V[0]);let q=(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const Q=await R.request({method:"eth_chainId"});q=Y_(Q)}const X={domain:z.host,address:M,statement:k,uri:z.href,version:"1",chainId:q,nonce:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=X_(X),_=await R.request({method:"personal_sign",params:[K_(w),M]})}try{const{data:E,error:S}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:pn});if(S)throw S;if(!E||!E.session||!E.user){const k=new li;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:S})}catch(E){if(se(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var s,i,l,u,d,m,g,p,y,b,x,w;let _,E;if("message"in t)_=t.message,E=t.signature;else{const{chain:S,wallet:k,statement:O,options:R}=t;let z;if(vt())if(typeof k=="object")z=k;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))z=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=k}const V=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const M=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),O?{statement:O}:null));let q;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")q=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)q=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)_=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${V.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=R?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const M=await z.signMessage(new TextEncoder().encode(_),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:S,error:k}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ps(E)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:pn});if(k)throw k;if(!S||!S.session||!S.user){const O=new li;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(se(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const s=await rs(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:pn});if(await Ca(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const m=new li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:l,access_token:u,nonce:d}=t,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:pn}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const y=new li;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,l,u,d;try{if("email"in t){const{email:m,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ci(this.storage,this.storageKey));const{error:b}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:y}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new Tl("You must provide either an email or phone number.")}catch(m){if(se(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var s,i;try{let l,u;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:pn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,i,l,u,d;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ci(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:V_});return!((u=p.data)===null||u===void 0)&&u.url&&vt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(se(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new $t;const{error:l}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:l,options:u}=t,{error:d}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:i,type:l,options:u}=t,{data:d,error:m}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new Tl("You must provide either an email or phone number and a type")}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const d=await rs(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=zd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=P_(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Da}):await this._useSession(async s=>{var i,l,u;const{data:d,error:m}=s;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Da})})}catch(s){if(se(s))return m_(s)&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new $t;const d=l.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await ci(this.storage,this.storageKey));const{data:p,error:y}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:Da});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const s=Date.now()/1e3;let i=s,l=!0,u=null;const{payload:d}=Bd(t.access_token);if(d.exp&&(i=d.exp,l=i<=s),l){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:d,error:m}=s;if(m)throw m;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new $t;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!vt())throw new kl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ay("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:m,expires_at:g,token_type:p}=t;if(!u||!m||!d||!p)throw new kl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let x=y+b;g&&(x=parseInt(g));const w=x-y;w*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const _=x-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,y);const{data:E,error:S}=await this._getUser(u);if(S)throw S;const k={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:b,expires_at:x,refresh_token:d,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return this._returnResult({error:u});const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,t);if(m&&!(f_(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=j_(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await ci(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:l}=await this._useSession(async u=>{var d,m,g,p,y;const{data:b,error:x}=u;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return vt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:d,provider:m,token:g,access_token:p,nonce:y}=t,b=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:pn}),{data:x,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new li}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,l;const{data:u,error:d}=s;if(d)throw d;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await T_(async l=>(l>0&&await E_(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pn})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Ld(u)&&Date.now()+d-i<mi})}catch(i){if(this._debug(s,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),vt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await rs(this.storage,this.storageKey);if(l&&this.userStorage){let d=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await gi(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d?.user)!==null&&t!==void 0?t:zd()}else if(l&&!l.user&&!l.user){const d=await rs(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Ca(this.storage,this.storageKey+"-user"),await gi(this.storage,this.storageKey,l)):l.user=zd()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Pd;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Pd}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Ld(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(l.access_token);!m&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zl;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new $t;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(l,"error",u),se(u)){const d={data:null,error:u};return Ld(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,i=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await gi(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=ly(l);await gi(this.storage,this.storageKey,u)}else{const l=ly(s);await gi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Ca(this.storage,this.storageKey),await Ca(this.storage,this.storageKey+"-code-verifier"),await Ca(this.storage,this.storageKey+"-user"),this.userStorage&&await Ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${mi}ms, refresh threshold is ${hh} ticks`),l<=hh&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Db)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await ci(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?n2(t.webauthn.credential_response):a2(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:e2(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:t2(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s?.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bd(i.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new $t})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new $t});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&vt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new $t});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&vt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new $t})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new $t})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(m=>m.kid===t);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+d_>l)return i;const{data:u,error:d}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:w,error:_}=await this.getSession();if(_||!w.session)return this._returnResult({data:null,error:_});i=w.session.access_token}const{header:l,payload:u,signature:d,raw:{header:m,payload:g}}=Bd(i);s?.allowExpired||D_(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:u,header:l,signature:d},error:null}}const y=M_(l.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,x_(`${m}.${g}`)))throw new gh("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}Gr.nextInstanceID={};const h2=Gr;class f2 extends h2{constructor(t){super(t)}}class m2{constructor(t,s,i){var l,u,d;this.supabaseUrl=t,this.supabaseKey=s;const m=r_(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:JS,realtime:e_,auth:Object.assign(Object.assign({},ZS),{storageKey:g}),global:QS},y=i_(i??{},p);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=a_(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new oS(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new KS(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new aS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,i)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:m,lock:g,debug:p,throwOnError:y},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f2({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),b),storageKey:d,autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:u,flowType:m,lock:g,debug:p,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new _S(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(t,s,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g2=(a,t,s)=>new m2(a,t,s);function p2(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}p2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y2="https://uioetcxxqdwntwxlmfhn.supabase.co",v2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpb2V0Y3h4cWR3bnR3eGxtZmhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMTExMDksImV4cCI6MjA3NzU4NzEwOX0.6eCmAXcBHsb8Mx1BjInBphWkhhyub8u1eOHZtUDaZMs",be=g2(y2,v2,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:typeof window<"u"?window.localStorage:void 0,storageKey:"remesas-am-auth"},global:{headers:{"x-application-name":"remesas-am"}}}),Jh=A.createContext({});function Zh(a){const t=A.useRef(null);return t.current===null&&(t.current=a()),t.current}const ec=A.createContext(null),ef=A.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class b2 extends A.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function x2({children:a,isPresent:t}){const s=A.useId(),i=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=A.useContext(ef);return A.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:p}=l.current;if(t||!i.current||!d||!m)return;i.current.dataset.motionPopId=s;const y=document.createElement("style");return u&&(y.nonce=u),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${g}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),c.jsx(b2,{isPresent:t,childRef:i,sizeRef:l,children:A.cloneElement(a,{ref:i})})}const w2=({children:a,initial:t,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:d})=>{const m=Zh(j2),g=A.useId(),p=A.useCallback(b=>{m.set(b,!0);for(const x of m.values())if(!x)return;i&&i()},[m,i]),y=A.useMemo(()=>({id:g,initial:t,isPresent:s,custom:l,onExitComplete:p,register:b=>(m.set(b,!1),()=>m.delete(b))}),u?[Math.random(),p]:[s,p]);return A.useMemo(()=>{m.forEach((b,x)=>m.set(x,!1))},[s]),A.useEffect(()=>{!s&&!m.size&&i&&i()},[s]),d==="popLayout"&&(a=c.jsx(x2,{isPresent:s,children:a})),c.jsx(ec.Provider,{value:y,children:a})};function j2(){return new Map}function Pb(a=!0){const t=A.useContext(ec);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=t,u=A.useId();A.useEffect(()=>{a&&l(u)},[a]);const d=A.useCallback(()=>a&&i&&i(u),[u,i,a]);return!s&&i?[!1,d]:[!0]}const Al=a=>a.key||"";function gy(a){const t=[];return A.Children.forEach(a,s=>{A.isValidElement(s)&&t.push(s)}),t}const tf=typeof window<"u",Lb=tf?A.useLayoutEffect:A.useEffect,wn=({children:a,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1})=>{const[m,g]=Pb(d),p=A.useMemo(()=>gy(a),[a]),y=d&&!m?[]:p.map(Al),b=A.useRef(!0),x=A.useRef(p),w=Zh(()=>new Map),[_,E]=A.useState(p),[S,k]=A.useState(p);Lb(()=>{b.current=!1,x.current=p;for(let z=0;z<S.length;z++){const V=Al(S[z]);y.includes(V)?w.delete(V):w.get(V)!==!0&&w.set(V,!1)}},[S,y.length,y.join("-")]);const O=[];if(p!==_){let z=[...p];for(let V=0;V<S.length;V++){const M=S[V],q=Al(M);y.includes(q)||(z.splice(V,0,M),O.push(M))}u==="wait"&&O.length&&(z=O),k(gy(z)),E(p);return}const{forceRender:R}=A.useContext(Jh);return c.jsx(c.Fragment,{children:S.map(z=>{const V=Al(z),M=d&&!m?!1:p===S||y.includes(V),q=()=>{if(w.has(V))w.set(V,!0);else return;let X=!0;w.forEach(Q=>{Q||(X=!1)}),X&&(R?.(),k(x.current),d&&g?.(),i&&i())};return c.jsx(w2,{isPresent:M,initial:!b.current||s?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:l,mode:u,onExitComplete:M?void 0:q,children:z},V)})})},Kt=a=>a;let Bb=Kt;function nf(a){let t;return()=>(t===void 0&&(t=a()),t)}const _i=(a,t,s)=>{const i=t-a;return i===0?1:(s-a)/i},ta=a=>a*1e3,na=a=>a/1e3,S2={useManualTiming:!1};function _2(a){let t=new Set,s=new Set,i=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(p){u.has(p)&&(g.schedule(p),a()),p(d)}const g={schedule:(p,y=!1,b=!1)=>{const w=b&&i?t:s;return y&&u.add(p),w.has(p)||w.add(p),p},cancel:p=>{s.delete(p),u.delete(p)},process:p=>{if(d=p,i){l=!0;return}i=!0,[t,s]=[s,t],t.forEach(m),t.clear(),i=!1,l&&(l=!1,g.process(p))}};return g}const Nl=["read","resolveKeyframes","update","preRender","render","postRender"],E2=40;function zb(a,t){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=Nl.reduce((k,O)=>(k[O]=_2(u),k),{}),{read:m,resolveKeyframes:g,update:p,preRender:y,render:b,postRender:x}=d,w=()=>{const k=performance.now();s=!1,l.delta=i?1e3/60:Math.max(Math.min(k-l.timestamp,E2),1),l.timestamp=k,l.isProcessing=!0,m.process(l),g.process(l),p.process(l),y.process(l),b.process(l),x.process(l),l.isProcessing=!1,s&&t&&(i=!1,a(w))},_=()=>{s=!0,i=!0,l.isProcessing||a(w)};return{schedule:Nl.reduce((k,O)=>{const R=d[O];return k[O]=(z,V=!1,M=!1)=>(s||_(),R.schedule(z,V,M)),k},{}),cancel:k=>{for(let O=0;O<Nl.length;O++)d[Nl[O]].cancel(k)},state:l,steps:d}}const{schedule:He,cancel:Ma,state:bt,steps:qd}=zb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),Vb=A.createContext({strict:!1}),py={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ei={};for(const a in py)Ei[a]={isEnabled:t=>py[a].some(s=>!!t[s])};function T2(a){for(const t in a)Ei[t]={...Ei[t],...a[t]}}const k2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||k2.has(a)}let qb=a=>!Hl(a);function A2(a){a&&(qb=t=>t.startsWith("on")?!Hl(t):a(t))}try{A2(require("@emotion/is-prop-valid").default)}catch{}function N2(a,t,s){const i={};for(const l in a)l==="values"&&typeof a.values=="object"||(qb(l)||s===!0&&Hl(l)||!t&&!Hl(l)||a.draggable&&l.startsWith("onDrag"))&&(i[l]=a[l]);return i}function C2(a){if(typeof Proxy>"u")return a;const t=new Map,s=(...i)=>a(...i);return new Proxy(s,{get:(i,l)=>l==="create"?a:(t.has(l)||t.set(l,a(l)),t.get(l))})}const tc=A.createContext({});function Yr(a){return typeof a=="string"||Array.isArray(a)}function nc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const af=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sf=["initial",...af];function ac(a){return nc(a.animate)||sf.some(t=>Yr(a[t]))}function Fb(a){return!!(ac(a)||a.variants)}function O2(a,t){if(ac(a)){const{initial:s,animate:i}=a;return{initial:s===!1||Yr(s)?s:void 0,animate:Yr(i)?i:void 0}}return a.inherit!==!1?t:{}}function R2(a){const{initial:t,animate:s}=O2(a,A.useContext(tc));return A.useMemo(()=>({initial:t,animate:s}),[yy(t),yy(s)])}function yy(a){return Array.isArray(a)?a.join(" "):a}const D2=Symbol.for("motionComponentSymbol");function pi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function M2(a,t,s){return A.useCallback(i=>{i&&a.onMount&&a.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):pi(s)&&(s.current=i))},[t])}const rf=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U2="framerAppearId",Hb="data-"+rf(U2),{schedule:of}=zb(queueMicrotask,!1),Ib=A.createContext({});function P2(a,t,s,i,l){var u,d;const{visualElement:m}=A.useContext(tc),g=A.useContext(Vb),p=A.useContext(ec),y=A.useContext(ef).reducedMotion,b=A.useRef(null);i=i||g.renderer,!b.current&&i&&(b.current=i(a,{visualState:t,parent:m,props:s,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const x=b.current,w=A.useContext(Ib);x&&!x.projection&&l&&(x.type==="html"||x.type==="svg")&&L2(b.current,s,l,w);const _=A.useRef(!1);A.useInsertionEffect(()=>{x&&_.current&&x.update(s,p)});const E=s[Hb],S=A.useRef(!!E&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,E))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,E)));return Lb(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),of.render(x.render),S.current&&x.animationState&&x.animationState.animateChanges())}),A.useEffect(()=>{x&&(!S.current&&x.animationState&&x.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,E)}),S.current=!1))}),x}function L2(a,t,s,i){const{layoutId:l,layout:u,drag:d,dragConstraints:m,layoutScroll:g,layoutRoot:p}=t;a.projection=new s(a.latestValues,t["data-framer-portal-id"]?void 0:$b(a.parent)),a.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||m&&pi(m),visualElement:a,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:g,layoutRoot:p})}function $b(a){if(a)return a.options.allowProjection!==!1?a.projection:$b(a.parent)}function B2({preloadedFeatures:a,createVisualElement:t,useRender:s,useVisualState:i,Component:l}){var u,d;a&&T2(a);function m(p,y){let b;const x={...A.useContext(ef),...p,layoutId:z2(p)},{isStatic:w}=x,_=R2(p),E=i(p,w);if(!w&&tf){V2();const S=q2(x);b=S.MeasureLayout,_.visualElement=P2(l,E,x,t,S.ProjectionNode)}return c.jsxs(tc.Provider,{value:_,children:[b&&_.visualElement?c.jsx(b,{visualElement:_.visualElement,...x}):null,s(l,p,M2(E,_.visualElement,y),E,w,_.visualElement)]})}m.displayName=`motion.${typeof l=="string"?l:`create(${(d=(u=l.displayName)!==null&&u!==void 0?u:l.name)!==null&&d!==void 0?d:""})`}`;const g=A.forwardRef(m);return g[D2]=l,g}function z2({layoutId:a}){const t=A.useContext(Jh).id;return t&&a!==void 0?t+"-"+a:a}function V2(a,t){A.useContext(Vb).strict}function q2(a){const{drag:t,layout:s}=Ei;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t?.isEnabled(a)||s?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const F2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lf(a){return typeof a!="string"||a.includes("-")?!1:!!(F2.indexOf(a)>-1||/[A-Z]/u.test(a))}function vy(a){const t=[{},{}];return a?.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function cf(a,t,s,i){if(typeof t=="function"){const[l,u]=vy(i);t=t(s!==void 0?s:a.custom,l,u)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[l,u]=vy(i);t=t(s!==void 0?s:a.custom,l,u)}return t}const ph=a=>Array.isArray(a),H2=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),I2=a=>ph(a)?a[a.length-1]||0:a,Et=a=>!!(a&&a.getVelocity);function Ml(a){const t=Et(a)?a.get():a;return H2(t)?t.toValue():t}function $2({scrapeMotionValuesFromProps:a,createRenderState:t,onUpdate:s},i,l,u){const d={latestValues:G2(i,l,u,a),renderState:t()};return s&&(d.onMount=m=>s({props:i,current:m,...d}),d.onUpdate=m=>s(m)),d}const Gb=a=>(t,s)=>{const i=A.useContext(tc),l=A.useContext(ec),u=()=>$2(a,t,i,l);return s?u():Zh(u)};function G2(a,t,s,i){const l={},u=i(a,{});for(const x in u)l[x]=Ml(u[x]);let{initial:d,animate:m}=a;const g=ac(a),p=Fb(a);t&&p&&!g&&a.inherit!==!1&&(d===void 0&&(d=t.initial),m===void 0&&(m=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?m:d;if(b&&typeof b!="boolean"&&!nc(b)){const x=Array.isArray(b)?b:[b];for(let w=0;w<x.length;w++){const _=cf(a,x[w]);if(_){const{transitionEnd:E,transition:S,...k}=_;for(const O in k){let R=k[O];if(Array.isArray(R)){const z=y?R.length-1:0;R=R[z]}R!==null&&(l[O]=R)}for(const O in E)l[O]=E[O]}}}return l}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xs=new Set(Ni),Yb=a=>t=>typeof t=="string"&&t.startsWith(a),Kb=Yb("--"),Y2=Yb("var(--"),uf=a=>Y2(a)?K2.test(a.split("/*")[0].trim()):!1,K2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xb=(a,t)=>t&&typeof a=="number"?t.transform(a):a,aa=(a,t,s)=>s>t?t:s<a?a:s,Ci={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Kr={...Ci,transform:a=>aa(0,1,a)},Cl={...Ci,default:1},to=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),Ra=to("deg"),On=to("%"),de=to("px"),X2=to("vh"),W2=to("vw"),by={...On,parse:a=>On.parse(a)/100,transform:a=>On.transform(a*100)},Q2={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},J2={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:Ra,skewX:Ra,skewY:Ra,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Kr,originX:by,originY:by,originZ:de},xy={...Ci,transform:Math.round},df={...Q2,...J2,zIndex:xy,size:de,fillOpacity:Kr,strokeOpacity:Kr,numOctaves:xy},Z2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eE=Ni.length;function tE(a,t,s){let i="",l=!0;for(let u=0;u<eE;u++){const d=Ni[u],m=a[d];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(d.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||s){const p=Xb(m,df[d]);if(!g){l=!1;const y=Z2[d]||d;i+=`${y}(${p}) `}s&&(t[d]=p)}}return i=i.trim(),s?i=s(t,l?"":i):l&&(i="none"),i}function hf(a,t,s){const{style:i,vars:l,transformOrigin:u}=a;let d=!1,m=!1;for(const g in t){const p=t[g];if(xs.has(g)){d=!0;continue}else if(Kb(g)){l[g]=p;continue}else{const y=Xb(p,df[g]);g.startsWith("origin")?(m=!0,u[g]=y):i[g]=y}}if(t.transform||(d||s?i.transform=tE(t,a.transform,s):i.transform&&(i.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:y=0}=u;i.transformOrigin=`${g} ${p} ${y}`}}const nE={offset:"stroke-dashoffset",array:"stroke-dasharray"},aE={offset:"strokeDashoffset",array:"strokeDasharray"};function sE(a,t,s=1,i=0,l=!0){a.pathLength=1;const u=l?nE:aE;a[u.offset]=de.transform(-i);const d=de.transform(t),m=de.transform(s);a[u.array]=`${d} ${m}`}function wy(a,t,s){return typeof a=="string"?a:de.transform(t+s*a)}function iE(a,t,s){const i=wy(t,a.x,a.width),l=wy(s,a.y,a.height);return`${i} ${l}`}function ff(a,{attrX:t,attrY:s,attrScale:i,originX:l,originY:u,pathLength:d,pathSpacing:m=1,pathOffset:g=0,...p},y,b){if(hf(a,p,b),y){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:x,style:w,dimensions:_}=a;x.transform&&(_&&(w.transform=x.transform),delete x.transform),_&&(l!==void 0||u!==void 0||w.transform)&&(w.transformOrigin=iE(_,l!==void 0?l:.5,u!==void 0?u:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),d!==void 0&&sE(x,d,m,g,!1)}const mf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Wb=()=>({...mf(),attrs:{}}),gf=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Qb(a,{style:t,vars:s},i,l){Object.assign(a.style,t,l&&l.getProjectionStyles(i));for(const u in s)a.style.setProperty(u,s[u])}const Jb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zb(a,t,s,i){Qb(a,t,void 0,i);for(const l in t.attrs)a.setAttribute(Jb.has(l)?l:rf(l),t.attrs[l])}const Il={};function rE(a){Object.assign(Il,a)}function ex(a,{layout:t,layoutId:s}){return xs.has(a)||a.startsWith("origin")||(t||s!==void 0)&&(!!Il[a]||a==="opacity")}function pf(a,t,s){var i;const{style:l}=a,u={};for(const d in l)(Et(l[d])||t.style&&Et(t.style[d])||ex(d,a)||((i=s?.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=l[d]);return u}function tx(a,t,s){const i=pf(a,t,s);for(const l in a)if(Et(a[l])||Et(t[l])){const u=Ni.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=a[l]}return i}function oE(a,t){try{t.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const jy=["x","y","width","height","cx","cy","r"],lE={useVisualState:Gb({scrapeMotionValuesFromProps:tx,createRenderState:Wb,onUpdate:({props:a,prevProps:t,current:s,renderState:i,latestValues:l})=>{if(!s)return;let u=!!a.drag;if(!u){for(const m in l)if(xs.has(m)){u=!0;break}}if(!u)return;let d=!t;if(t)for(let m=0;m<jy.length;m++){const g=jy[m];a[g]!==t[g]&&(d=!0)}d&&He.read(()=>{oE(s,i),He.render(()=>{ff(i,l,gf(s.tagName),a.transformTemplate),Zb(s,i)})})}})},cE={useVisualState:Gb({scrapeMotionValuesFromProps:pf,createRenderState:mf})};function nx(a,t,s){for(const i in t)!Et(t[i])&&!ex(i,s)&&(a[i]=t[i])}function uE({transformTemplate:a},t){return A.useMemo(()=>{const s=mf();return hf(s,t,a),Object.assign({},s.vars,s.style)},[t])}function dE(a,t){const s=a.style||{},i={};return nx(i,s,a),Object.assign(i,uE(a,t)),i}function hE(a,t){const s={},i=dE(a,t);return a.drag&&a.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(s.tabIndex=0),s.style=i,s}function fE(a,t,s,i){const l=A.useMemo(()=>{const u=Wb();return ff(u,t,gf(i),a.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(a.style){const u={};nx(u,a.style,a),l.style={...u,...l.style}}return l}function mE(a=!1){return(s,i,l,{latestValues:u},d)=>{const g=(lf(s)?fE:hE)(i,u,d,s),p=N2(i,typeof s=="string",a),y=s!==A.Fragment?{...p,...g,ref:l}:{},{children:b}=i,x=A.useMemo(()=>Et(b)?b.get():b,[b]);return A.createElement(s,{...y,children:x})}}function gE(a,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const d={...lf(i)?lE:cE,preloadedFeatures:a,useRender:mE(l),createVisualElement:t,Component:i};return B2(d)}}function ax(a,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==a.length)return!1;for(let i=0;i<s;i++)if(t[i]!==a[i])return!1;return!0}function sc(a,t,s){const i=a.getProps();return cf(i,t,s!==void 0?s:i.custom,a)}const pE=nf(()=>window.ScrollTimeline!==void 0);class yE{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=s}attachTimeline(t,s){const i=this.animations.map(l=>{if(pE()&&l.attachTimeline)return l.attachTimeline(t);if(typeof s=="function")return s(l)});return()=>{i.forEach((l,u)=>{l&&l(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vE extends yE{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function yf(a,t){return a?a[t]||a.default||a:void 0}const yh=2e4;function sx(a){let t=0;const s=50;let i=a.next(t);for(;!i.done&&t<yh;)t+=s,i=a.next(t);return t>=yh?1/0:t}function vf(a){return typeof a=="function"}function Sy(a,t){a.timeline=t,a.onfinish=null}const bf=a=>Array.isArray(a)&&typeof a[0]=="number",bE={linearEasing:void 0};function xE(a,t){const s=nf(a);return()=>{var i;return(i=bE[t])!==null&&i!==void 0?i:s()}}const $l=xE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ix=(a,t,s=10)=>{let i="";const l=Math.max(Math.round(t/s),2);for(let u=0;u<l;u++)i+=a(_i(0,l-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function rx(a){return!!(typeof a=="function"&&$l()||!a||typeof a=="string"&&(a in vh||$l())||bf(a)||Array.isArray(a)&&a.every(rx))}const Ur=([a,t,s,i])=>`cubic-bezier(${a}, ${t}, ${s}, ${i})`,vh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ur([0,.65,.55,1]),circOut:Ur([.55,0,1,.45]),backIn:Ur([.31,.01,.66,-.59]),backOut:Ur([.33,1.53,.69,.99])};function ox(a,t){if(a)return typeof a=="function"&&$l()?ix(a,t):bf(a)?Ur(a):Array.isArray(a)?a.map(s=>ox(s,t)||vh.easeOut):vh[a]}const yn={x:!1,y:!1};function lx(){return yn.x||yn.y}function wE(a,t,s){var i;if(a instanceof Element)return[a];if(typeof a=="string"){let l=document;const u=(i=void 0)!==null&&i!==void 0?i:l.querySelectorAll(a);return u?Array.from(u):[]}return Array.from(a)}function cx(a,t){const s=wE(a),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[s,l,()=>i.abort()]}function _y(a){return t=>{t.pointerType==="touch"||lx()||a(t)}}function jE(a,t,s={}){const[i,l,u]=cx(a,s),d=_y(m=>{const{target:g}=m,p=t(m);if(typeof p!="function"||!g)return;const y=_y(b=>{p(b),g.removeEventListener("pointerleave",y)});g.addEventListener("pointerleave",y,l)});return i.forEach(m=>{m.addEventListener("pointerenter",d,l)}),u}const ux=(a,t)=>t?a===t?!0:ux(a,t.parentElement):!1,xf=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,SE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _E(a){return SE.has(a.tagName)||a.tabIndex!==-1}const Pr=new WeakSet;function Ey(a){return t=>{t.key==="Enter"&&a(t)}}function Fd(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EE=(a,t)=>{const s=a.currentTarget;if(!s)return;const i=Ey(()=>{if(Pr.has(s))return;Fd(s,"down");const l=Ey(()=>{Fd(s,"up")}),u=()=>Fd(s,"cancel");s.addEventListener("keyup",l,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function Ty(a){return xf(a)&&!lx()}function TE(a,t,s={}){const[i,l,u]=cx(a,s),d=m=>{const g=m.currentTarget;if(!Ty(m)||Pr.has(g))return;Pr.add(g);const p=t(m),y=(w,_)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),!(!Ty(w)||!Pr.has(g))&&(Pr.delete(g),typeof p=="function"&&p(w,{success:_}))},b=w=>{y(w,s.useGlobalTarget||ux(g,w.target))},x=w=>{y(w,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",x,l)};return i.forEach(m=>{!_E(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(s.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),m.addEventListener("focus",p=>EE(p,l),l)}),u}function kE(a){return a==="x"||a==="y"?yn[a]?null:(yn[a]=!0,()=>{yn[a]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}const dx=new Set(["width","height","top","left","right","bottom",...Ni]);let Ul;function AE(){Ul=void 0}const Rn={now:()=>(Ul===void 0&&Rn.set(bt.isProcessing||S2.useManualTiming?bt.timestamp:performance.now()),Ul),set:a=>{Ul=a,queueMicrotask(AE)}};function wf(a,t){a.indexOf(t)===-1&&a.push(t)}function jf(a,t){const s=a.indexOf(t);s>-1&&a.splice(s,1)}class Sf{constructor(){this.subscriptions=[]}add(t){return wf(this.subscriptions,t),()=>jf(this.subscriptions,t)}notify(t,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,s,i);else for(let u=0;u<l;u++){const d=this.subscriptions[u];d&&d(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hx(a,t){return t?a*(1e3/t):0}const ky=30,NE=a=>!isNaN(parseFloat(a));class CE{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const u=Rn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Sf);const i=this.events[t].add(s);return t==="change"?()=>{i(),He.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ky)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ky);return hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xr(a,t){return new CE(a,t)}function OE(a,t,s){a.hasValue(t)?a.getValue(t).set(s):a.addValue(t,Xr(s))}function RE(a,t){const s=sc(a,t);let{transitionEnd:i={},transition:l={},...u}=s||{};u={...u,...i};for(const d in u){const m=I2(u[d]);OE(a,d,m)}}function DE(a){return!!(Et(a)&&a.add)}function bh(a,t){const s=a.getValue("willChange");if(DE(s))return s.add(t)}function fx(a){return a.props[Hb]}const mx=(a,t,s)=>(((1-3*s+3*t)*a+(3*s-6*t))*a+3*t)*a,ME=1e-7,UE=12;function PE(a,t,s,i,l){let u,d,m=0;do d=t+(s-t)/2,u=mx(d,i,l)-a,u>0?s=d:t=d;while(Math.abs(u)>ME&&++m<UE);return d}function no(a,t,s,i){if(a===t&&s===i)return Kt;const l=u=>PE(u,0,1,a,s);return u=>u===0||u===1?u:mx(l(u),t,i)}const gx=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,px=a=>t=>1-a(1-t),yx=no(.33,1.53,.69,.99),_f=px(yx),vx=gx(_f),bx=a=>(a*=2)<1?.5*_f(a):.5*(2-Math.pow(2,-10*(a-1))),Ef=a=>1-Math.sin(Math.acos(a)),xx=px(Ef),wx=gx(Ef),jx=a=>/^0[^.\s]+$/u.test(a);function LE(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||jx(a):!0}const Vr=a=>Math.round(a*1e5)/1e5,Tf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BE(a){return a==null}const zE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kf=(a,t)=>s=>!!(typeof s=="string"&&zE.test(s)&&s.startsWith(a)||t&&!BE(s)&&Object.prototype.hasOwnProperty.call(s,t)),Sx=(a,t,s)=>i=>{if(typeof i!="string")return i;const[l,u,d,m]=i.match(Tf);return{[a]:parseFloat(l),[t]:parseFloat(u),[s]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},VE=a=>aa(0,255,a),Hd={...Ci,transform:a=>Math.round(VE(a))},ys={test:kf("rgb","red"),parse:Sx("red","green","blue"),transform:({red:a,green:t,blue:s,alpha:i=1})=>"rgba("+Hd.transform(a)+", "+Hd.transform(t)+", "+Hd.transform(s)+", "+Vr(Kr.transform(i))+")"};function qE(a){let t="",s="",i="",l="";return a.length>5?(t=a.substring(1,3),s=a.substring(3,5),i=a.substring(5,7),l=a.substring(7,9)):(t=a.substring(1,2),s=a.substring(2,3),i=a.substring(3,4),l=a.substring(4,5),t+=t,s+=s,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const xh={test:kf("#"),parse:qE,transform:ys.transform},yi={test:kf("hsl","hue"),parse:Sx("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(a)+", "+On.transform(Vr(t))+", "+On.transform(Vr(s))+", "+Vr(Kr.transform(i))+")"},_t={test:a=>ys.test(a)||xh.test(a)||yi.test(a),parse:a=>ys.test(a)?ys.parse(a):yi.test(a)?yi.parse(a):xh.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?ys.transform(a):yi.transform(a)},FE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HE(a){var t,s;return isNaN(a)&&typeof a=="string"&&(((t=a.match(Tf))===null||t===void 0?void 0:t.length)||0)+(((s=a.match(FE))===null||s===void 0?void 0:s.length)||0)>0}const _x="number",Ex="color",IE="var",$E="var(",Ay="${}",GE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wr(a){const t=a.toString(),s=[],i={color:[],number:[],var:[]},l=[];let u=0;const m=t.replace(GE,g=>(_t.test(g)?(i.color.push(u),l.push(Ex),s.push(_t.parse(g))):g.startsWith($E)?(i.var.push(u),l.push(IE),s.push(g)):(i.number.push(u),l.push(_x),s.push(parseFloat(g))),++u,Ay)).split(Ay);return{values:s,split:m,indexes:i,types:l}}function Tx(a){return Wr(a).values}function kx(a){const{split:t,types:s}=Wr(a),i=t.length;return l=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],l[d]!==void 0){const m=s[d];m===_x?u+=Vr(l[d]):m===Ex?u+=_t.transform(l[d]):u+=l[d]}return u}}const YE=a=>typeof a=="number"?0:a;function KE(a){const t=Tx(a);return kx(a)(t.map(YE))}const Ua={test:HE,parse:Tx,createTransformer:kx,getAnimatableNone:KE},XE=new Set(["brightness","contrast","saturate","opacity"]);function WE(a){const[t,s]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[i]=s.match(Tf)||[];if(!i)return a;const l=s.replace(i,"");let u=XE.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+l+")"}const QE=/\b([a-z-]*)\(.*?\)/gu,wh={...Ua,getAnimatableNone:a=>{const t=a.match(QE);return t?t.map(WE).join(" "):a}},JE={...df,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:wh,WebkitFilter:wh},Af=a=>JE[a];function Ax(a,t){let s=Af(a);return s!==wh&&(s=Ua),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const ZE=new Set(["auto","none","0"]);function eT(a,t,s){let i=0,l;for(;i<a.length&&!l;){const u=a[i];typeof u=="string"&&!ZE.has(u)&&Wr(u).values.length&&(l=a[i]),i++}if(l&&s)for(const u of t)a[u]=Ax(s,l)}const Ny=a=>a===Ci||a===de,Cy=(a,t)=>parseFloat(a.split(", ")[t]),Oy=(a,t)=>(s,{transform:i})=>{if(i==="none"||!i)return 0;const l=i.match(/^matrix3d\((.+)\)$/u);if(l)return Cy(l[1],t);{const u=i.match(/^matrix\((.+)\)$/u);return u?Cy(u[1],a):0}},tT=new Set(["x","y","z"]),nT=Ni.filter(a=>!tT.has(a));function aT(a){const t=[];return nT.forEach(s=>{const i=a.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const Ti={width:({x:a},{paddingLeft:t="0",paddingRight:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),height:({y:a},{paddingTop:t="0",paddingBottom:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:Oy(4,13),y:Oy(5,14)};Ti.translateX=Ti.x;Ti.translateY=Ti.y;const vs=new Set;let jh=!1,Sh=!1;function Nx(){if(Sh){const a=Array.from(vs).filter(i=>i.needsMeasurement),t=new Set(a.map(i=>i.element)),s=new Map;t.forEach(i=>{const l=aT(i);l.length&&(s.set(i,l),i.render())}),a.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([u,d])=>{var m;(m=i.getValue(u))===null||m===void 0||m.set(d)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sh=!1,jh=!1,vs.forEach(a=>a.complete()),vs.clear()}function Cx(){vs.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Sh=!0)})}function sT(){Cx(),Nx()}class Nf{constructor(t,s,i,l,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=l,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vs.add(this),jh||(jh=!0,He.read(Cx),He.resolveKeyframes(Nx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:l}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const d=l?.get(),m=t[t.length-1];if(d!==void 0)t[0]=d;else if(i&&s){const g=i.readValue(s,m);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=m),l&&d===void 0&&l.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ox=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),iT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rT(a){const t=iT.exec(a);if(!t)return[,];const[,s,i,l]=t;return[`--${s??i}`,l]}function Rx(a,t,s=1){const[i,l]=rT(a);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return Ox(d)?parseFloat(d):d}return uf(l)?Rx(l,t,s+1):l}const Dx=a=>t=>t.test(a),oT={test:a=>a==="auto",parse:a=>a},Mx=[Ci,de,On,Ra,W2,X2,oT],Ry=a=>Mx.find(Dx(a));class Ux extends Nf{constructor(t,s,i,l,u){super(t,s,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let p=t[g];if(typeof p=="string"&&(p=p.trim(),uf(p))){const y=Rx(p,s.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!dx.has(i)||t.length!==2)return;const[l,u]=t,d=Ry(l),m=Ry(u);if(d!==m)if(Ny(d)&&Ny(m))for(let g=0;g<t.length;g++){const p=t[g];typeof p=="string"&&(t[g]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let l=0;l<t.length;l++)LE(t[l])&&i.push(l);i.length&&eT(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ti[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var t;const{element:s,name:i,unresolvedKeyframes:l}=this;if(!s||!s.current)return;const u=s.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=l.length-1,m=l[d];l[d]=Ti[i](s.measureViewportBox(),window.getComputedStyle(s.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([g,p])=>{s.getValue(g).set(p)}),this.resolveNoneKeyframes()}}const Dy=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Ua.test(a)||a==="0")&&!a.startsWith("url("));function lT(a){const t=a[0];if(a.length===1)return!0;for(let s=0;s<a.length;s++)if(a[s]!==t)return!0}function cT(a,t,s,i){const l=a[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=a[a.length-1],d=Dy(l,t),m=Dy(u,t);return!d||!m?!1:lT(a)||(s==="spring"||vf(s))&&i}const uT=a=>a!==null;function ic(a,{repeat:t,repeatType:s="loop"},i){const l=a.filter(uT),u=t&&s!=="loop"&&t%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const dT=40;class Px{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rn.now(),this.options={autoplay:t,delay:s,type:i,repeat:l,repeatDelay:u,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dT?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sT(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Rn.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:u,delay:d,onComplete:m,onUpdate:g,isGenerator:p}=this.options;if(!p&&!cT(t,i,l,u))if(d)this.options.duration=0;else{g&&g(ic(t,this.options,s)),m&&m(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,s);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...y},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ge=(a,t,s)=>a+(t-a)*s;function Id(a,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(t-a)*6*s:s<1/2?t:s<2/3?a+(t-a)*(2/3-s)*6:a}function hT({hue:a,saturation:t,lightness:s,alpha:i}){a/=360,t/=100,s/=100;let l=0,u=0,d=0;if(!t)l=u=d=s;else{const m=s<.5?s*(1+t):s+t-s*t,g=2*s-m;l=Id(g,m,a+1/3),u=Id(g,m,a),d=Id(g,m,a-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Gl(a,t){return s=>s>0?t:a}const $d=(a,t,s)=>{const i=a*a,l=s*(t*t-i)+i;return l<0?0:Math.sqrt(l)},fT=[xh,ys,yi],mT=a=>fT.find(t=>t.test(a));function My(a){const t=mT(a);if(!t)return!1;let s=t.parse(a);return t===yi&&(s=hT(s)),s}const Uy=(a,t)=>{const s=My(a),i=My(t);if(!s||!i)return Gl(a,t);const l={...s};return u=>(l.red=$d(s.red,i.red,u),l.green=$d(s.green,i.green,u),l.blue=$d(s.blue,i.blue,u),l.alpha=Ge(s.alpha,i.alpha,u),ys.transform(l))},gT=(a,t)=>s=>t(a(s)),ao=(...a)=>a.reduce(gT),_h=new Set(["none","hidden"]);function pT(a,t){return _h.has(a)?s=>s<=0?a:t:s=>s>=1?t:a}function yT(a,t){return s=>Ge(a,t,s)}function Cf(a){return typeof a=="number"?yT:typeof a=="string"?uf(a)?Gl:_t.test(a)?Uy:xT:Array.isArray(a)?Lx:typeof a=="object"?_t.test(a)?Uy:vT:Gl}function Lx(a,t){const s=[...a],i=s.length,l=a.map((u,d)=>Cf(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)s[d]=l[d](u);return s}}function vT(a,t){const s={...a,...t},i={};for(const l in s)a[l]!==void 0&&t[l]!==void 0&&(i[l]=Cf(a[l])(a[l],t[l]));return l=>{for(const u in i)s[u]=i[u](l);return s}}function bT(a,t){var s;const i=[],l={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const d=t.types[u],m=a.indexes[d][l[d]],g=(s=a.values[m])!==null&&s!==void 0?s:0;i[u]=g,l[d]++}return i}const xT=(a,t)=>{const s=Ua.createTransformer(t),i=Wr(a),l=Wr(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?_h.has(a)&&!l.values.length||_h.has(t)&&!i.values.length?pT(a,t):ao(Lx(bT(i,l),l.values),s):Gl(a,t)};function Bx(a,t,s){return typeof a=="number"&&typeof t=="number"&&typeof s=="number"?Ge(a,t,s):Cf(a)(a,t)}const wT=5;function zx(a,t,s){const i=Math.max(t-wT,0);return hx(s-a(i),t-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gd=.001;function jT({duration:a=Je.duration,bounce:t=Je.bounce,velocity:s=Je.velocity,mass:i=Je.mass}){let l,u,d=1-t;d=aa(Je.minDamping,Je.maxDamping,d),a=aa(Je.minDuration,Je.maxDuration,na(a)),d<1?(l=p=>{const y=p*d,b=y*a,x=y-s,w=Eh(p,d),_=Math.exp(-b);return Gd-x/w*_},u=p=>{const b=p*d*a,x=b*s+s,w=Math.pow(d,2)*Math.pow(p,2)*a,_=Math.exp(-b),E=Eh(Math.pow(p,2),d);return(-l(p)+Gd>0?-1:1)*((x-w)*_)/E}):(l=p=>{const y=Math.exp(-p*a),b=(p-s)*a+1;return-Gd+y*b},u=p=>{const y=Math.exp(-p*a),b=(s-p)*(a*a);return y*b});const m=5/a,g=_T(l,u,m);if(a=ta(a),isNaN(g))return{stiffness:Je.stiffness,damping:Je.damping,duration:a};{const p=Math.pow(g,2)*i;return{stiffness:p,damping:d*2*Math.sqrt(i*p),duration:a}}}const ST=12;function _T(a,t,s){let i=s;for(let l=1;l<ST;l++)i=i-a(i)/t(i);return i}function Eh(a,t){return a*Math.sqrt(1-t*t)}const ET=["duration","bounce"],TT=["stiffness","damping","mass"];function Py(a,t){return t.some(s=>a[s]!==void 0)}function kT(a){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...a};if(!Py(a,TT)&&Py(a,ET))if(a.visualDuration){const s=a.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,u=2*aa(.05,1,1-(a.bounce||0))*Math.sqrt(l);t={...t,mass:Je.mass,stiffness:l,damping:u}}else{const s=jT(a);t={...t,...s,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Vx(a=Je.visualDuration,t=Je.bounce){const s=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:i,restDelta:l}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],m={done:!1,value:u},{stiffness:g,damping:p,mass:y,duration:b,velocity:x,isResolvedFromDuration:w}=kT({...s,velocity:-na(s.velocity||0)}),_=x||0,E=p/(2*Math.sqrt(g*y)),S=d-u,k=na(Math.sqrt(g/y)),O=Math.abs(S)<5;i||(i=O?Je.restSpeed.granular:Je.restSpeed.default),l||(l=O?Je.restDelta.granular:Je.restDelta.default);let R;if(E<1){const V=Eh(k,E);R=M=>{const q=Math.exp(-E*k*M);return d-q*((_+E*k*S)/V*Math.sin(V*M)+S*Math.cos(V*M))}}else if(E===1)R=V=>d-Math.exp(-k*V)*(S+(_+k*S)*V);else{const V=k*Math.sqrt(E*E-1);R=M=>{const q=Math.exp(-E*k*M),X=Math.min(V*M,300);return d-q*((_+E*k*S)*Math.sinh(X)+V*S*Math.cosh(X))/V}}const z={calculatedDuration:w&&b||null,next:V=>{const M=R(V);if(w)m.done=V>=b;else{let q=0;E<1&&(q=V===0?ta(_):zx(R,V,M));const X=Math.abs(q)<=i,Q=Math.abs(d-M)<=l;m.done=X&&Q}return m.value=m.done?d:M,m},toString:()=>{const V=Math.min(sx(z),yh),M=ix(q=>z.next(V*q).value,V,30);return V+"ms "+M}};return z}function Ly({keyframes:a,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:g,restDelta:p=.5,restSpeed:y}){const b=a[0],x={done:!1,value:b},w=X=>m!==void 0&&X<m||g!==void 0&&X>g,_=X=>m===void 0?g:g===void 0||Math.abs(m-X)<Math.abs(g-X)?m:g;let E=s*t;const S=b+E,k=d===void 0?S:d(S);k!==S&&(E=k-b);const O=X=>-E*Math.exp(-X/i),R=X=>k+O(X),z=X=>{const Q=O(X),he=R(X);x.done=Math.abs(Q)<=p,x.value=x.done?k:he};let V,M;const q=X=>{w(x.value)&&(V=X,M=Vx({keyframes:[x.value,_(x.value)],velocity:zx(R,X,x.value),damping:l,stiffness:u,restDelta:p,restSpeed:y}))};return q(0),{calculatedDuration:null,next:X=>{let Q=!1;return!M&&V===void 0&&(Q=!0,z(X),q(X)),V!==void 0&&X>=V?M.next(X-V):(!Q&&z(X),x)}}}const AT=no(.42,0,1,1),NT=no(0,0,.58,1),qx=no(.42,0,.58,1),CT=a=>Array.isArray(a)&&typeof a[0]!="number",OT={linear:Kt,easeIn:AT,easeInOut:qx,easeOut:NT,circIn:Ef,circInOut:wx,circOut:xx,backIn:_f,backInOut:vx,backOut:yx,anticipate:bx},By=a=>{if(bf(a)){Bb(a.length===4);const[t,s,i,l]=a;return no(t,s,i,l)}else if(typeof a=="string")return OT[a];return a};function RT(a,t,s){const i=[],l=s||Bx,u=a.length-1;for(let d=0;d<u;d++){let m=l(a[d],a[d+1]);if(t){const g=Array.isArray(t)?t[d]||Kt:t;m=ao(g,m)}i.push(m)}return i}function DT(a,t,{clamp:s=!0,ease:i,mixer:l}={}){const u=a.length;if(Bb(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=a[0]===a[1];a[0]>a[u-1]&&(a=[...a].reverse(),t=[...t].reverse());const m=RT(t,i,l),g=m.length,p=y=>{if(d&&y<a[0])return t[0];let b=0;if(g>1)for(;b<a.length-2&&!(y<a[b+1]);b++);const x=_i(a[b],a[b+1],y);return m[b](x)};return s?y=>p(aa(a[0],a[u-1],y)):p}function MT(a,t){const s=a[a.length-1];for(let i=1;i<=t;i++){const l=_i(0,t,i);a.push(Ge(s,1,l))}}function UT(a){const t=[0];return MT(t,a.length-1),t}function PT(a,t){return a.map(s=>s*t)}function LT(a,t){return a.map(()=>t||qx).splice(0,a.length-1)}function Yl({duration:a=300,keyframes:t,times:s,ease:i="easeInOut"}){const l=CT(i)?i.map(By):By(i),u={done:!1,value:t[0]},d=PT(s&&s.length===t.length?s:UT(t),a),m=DT(d,t,{ease:Array.isArray(l)?l:LT(t,l)});return{calculatedDuration:a,next:g=>(u.value=m(g),u.done=g>=a,u)}}const BT=a=>{const t=({timestamp:s})=>a(s);return{start:()=>He.update(t,!0),stop:()=>Ma(t),now:()=>bt.isProcessing?bt.timestamp:Rn.now()}},zT={decay:Ly,inertia:Ly,tween:Yl,keyframes:Yl,spring:Vx},VT=a=>a/100;class Of extends Px{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:s,motionValue:i,element:l,keyframes:u}=this.options,d=l?.KeyframeResolver||Nf,m=(g,p)=>this.onKeyframesResolved(g,p);this.resolver=new d(u,m,s,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:d=0}=this.options,m=vf(s)?s:zT[s]||Yl;let g,p;m!==Yl&&typeof t[0]!="number"&&(g=ao(VT,Bx(t[0],t[1])),t=[0,100]);const y=m({...this.options,keyframes:t});u==="mirror"&&(p=m({...this.options,keyframes:[...t].reverse(),velocity:-d})),y.calculatedDuration===null&&(y.calculatedDuration=sx(y));const{calculatedDuration:b}=y,x=b+l,w=x*(i+1)-l;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:g,calculatedDuration:b,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:i}=this;if(!i){const{keyframes:X}=this.options;return{done:!0,value:X[X.length-1]}}const{finalKeyframe:l,generator:u,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:g,calculatedDuration:p,totalDuration:y,resolvedDuration:b}=i;if(this.startTime===null)return u.next(0);const{delay:x,repeat:w,repeatType:_,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const k=this.currentTime-x*(this.speed>=0?1:-1),O=this.speed>=0?k<0:k>y;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let R=this.currentTime,z=u;if(w){const X=Math.min(this.currentTime,y)/b;let Q=Math.floor(X),he=X%1;!he&&X>=1&&(he=1),he===1&&Q--,Q=Math.min(Q,w+1),!!(Q%2)&&(_==="reverse"?(he=1-he,E&&(he-=E/b)):_==="mirror"&&(z=d)),R=aa(0,1,he)*b}const V=O?{done:!1,value:g[0]}:z.next(R);m&&(V.value=m(V.value));let{done:M}=V;!O&&p!==null&&(M=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return q&&l!==void 0&&(V.value=ic(g,this.options,l)),S&&S(V.value),q&&this.finish(),V}get duration(){const{resolved:t}=this;return t?na(t.calculatedDuration):0}get time(){return na(this.currentTime)}set time(t){t=ta(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=na(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BT,onPlay:s,startTime:i}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),s&&s();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qT=new Set(["opacity","clipPath","filter","transform"]);function FT(a,t,s,{delay:i=0,duration:l=300,repeat:u=0,repeatType:d="loop",ease:m="easeInOut",times:g}={}){const p={[t]:s};g&&(p.offset=g);const y=ox(m,l);return Array.isArray(y)&&(p.easing=y),a.animate(p,{delay:i,duration:l,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const HT=nf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kl=10,IT=2e4;function $T(a){return vf(a.type)||a.type==="spring"||!rx(a.ease)}function GT(a,t){const s=new Of({...t,keyframes:a,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:a[0]};const l=[];let u=0;for(;!i.done&&u<IT;)i=s.sample(u),l.push(i.value),u+=Kl;return{times:void 0,keyframes:l,duration:u-Kl,ease:"linear"}}const Fx={anticipate:bx,backInOut:vx,circInOut:wx};function YT(a){return a in Fx}class zy extends Px{constructor(t){super(t);const{name:s,motionValue:i,element:l,keyframes:u}=this.options;this.resolver=new Ux(u,(d,m)=>this.onKeyframesResolved(d,m),s,i,l),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:i=300,times:l,ease:u,type:d,motionValue:m,name:g,startTime:p}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof u=="string"&&$l()&&YT(u)&&(u=Fx[u]),$T(this.options)){const{onComplete:b,onUpdate:x,motionValue:w,element:_,...E}=this.options,S=GT(t,E);t=S.keyframes,t.length===1&&(t[1]=t[0]),i=S.duration,l=S.times,u=S.ease,d="keyframes"}const y=FT(m.owner.current,g,t,{...this.options,duration:i,times:l,ease:u});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(Sy(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:b}=this.options;m.set(ic(t,this.options,s)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:l,type:d,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return na(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return na(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.currentTime=ta(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Kt;const{animation:i}=s;Sy(i,t)}return Kt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:i,duration:l,type:u,ease:d,times:m}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:b,element:x,...w}=this.options,_=new Of({...w,keyframes:i,duration:l,type:u,ease:d,times:m,isGenerator:!0}),E=ta(this.time);p.setWithVelocity(_.sample(E-Kl).value,_.sample(E).value,Kl)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:i,repeatDelay:l,repeatType:u,damping:d,type:m}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=s.owner.getProps();return HT()&&i&&qT.has(i)&&!g&&!p&&!l&&u!=="mirror"&&d!==0&&m!=="inertia"}}const KT={type:"spring",stiffness:500,damping:25,restSpeed:10},XT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),WT={type:"keyframes",duration:.8},QT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JT=(a,{keyframes:t})=>t.length>2?WT:xs.has(a)?a.startsWith("scale")?XT(t[1]):KT:QT;function ZT({when:a,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:d,repeatDelay:m,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const Rf=(a,t,s,i={},l,u)=>d=>{const m=yf(i,a)||{},g=m.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ta(g);let y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:a,motionValue:t,element:u?void 0:l};ZT(m)||(y={...y,...JT(a,y)}),y.duration&&(y.duration=ta(y.duration)),y.repeatDelay&&(y.repeatDelay=ta(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(b=!0)),b&&!u&&t.get()!==void 0){const x=ic(y.keyframes,m);if(x!==void 0)return He.update(()=>{y.onUpdate(x),y.onComplete()}),new vE([])}return!u&&zy.supports(y)?new zy(y):new Of(y)};function ek({protectedKeys:a,needsAnimating:t},s){const i=a.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function Hx(a,t,{delay:s=0,transitionOverride:i,type:l}={}){var u;let{transition:d=a.getDefaultTransition(),transitionEnd:m,...g}=t;i&&(d=i);const p=[],y=l&&a.animationState&&a.animationState.getState()[l];for(const b in g){const x=a.getValue(b,(u=a.latestValues[b])!==null&&u!==void 0?u:null),w=g[b];if(w===void 0||y&&ek(y,b))continue;const _={delay:s,...yf(d||{},b)};let E=!1;if(window.MotionHandoffAnimation){const k=fx(a);if(k){const O=window.MotionHandoffAnimation(k,b,He);O!==null&&(_.startTime=O,E=!0)}}bh(a,b),x.start(Rf(b,x,w,a.shouldReduceMotion&&dx.has(b)?{type:!1}:_,a,E));const S=x.animation;S&&p.push(S)}return m&&Promise.all(p).then(()=>{He.update(()=>{m&&RE(a,m)})}),p}function Th(a,t,s={}){var i;const l=sc(a,t,s.type==="exit"?(i=a.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=a.getDefaultTransition()||{}}=l||{};s.transitionOverride&&(u=s.transitionOverride);const d=l?()=>Promise.all(Hx(a,l,s)):()=>Promise.resolve(),m=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:x}=u;return tk(a,t,y+p,b,x,s)}:()=>Promise.resolve(),{when:g}=u;if(g){const[p,y]=g==="beforeChildren"?[d,m]:[m,d];return p().then(()=>y())}else return Promise.all([d(),m(s.delay)])}function tk(a,t,s=0,i=0,l=1,u){const d=[],m=(a.variantChildren.size-1)*i,g=l===1?(p=0)=>p*i:(p=0)=>m-p*i;return Array.from(a.variantChildren).sort(nk).forEach((p,y)=>{p.notify("AnimationStart",t),d.push(Th(p,t,{...u,delay:s+g(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(d)}function nk(a,t){return a.sortNodePosition(t)}function ak(a,t,s={}){a.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(u=>Th(a,u,s));i=Promise.all(l)}else if(typeof t=="string")i=Th(a,t,s);else{const l=typeof t=="function"?sc(a,t,s.custom):t;i=Promise.all(Hx(a,l,s))}return i.then(()=>{a.notify("AnimationComplete",t)})}const sk=sf.length;function Ix(a){if(!a)return;if(!a.isControllingVariants){const s=a.parent?Ix(a.parent)||{}:{};return a.props.initial!==void 0&&(s.initial=a.props.initial),s}const t={};for(let s=0;s<sk;s++){const i=sf[s],l=a.props[i];(Yr(l)||l===!1)&&(t[i]=l)}return t}const ik=[...af].reverse(),rk=af.length;function ok(a){return t=>Promise.all(t.map(({animation:s,options:i})=>ak(a,s,i)))}function lk(a){let t=ok(a),s=Vy(),i=!0;const l=g=>(p,y)=>{var b;const x=sc(a,y,g==="exit"?(b=a.presenceContext)===null||b===void 0?void 0:b.custom:void 0);if(x){const{transition:w,transitionEnd:_,...E}=x;p={...p,...E,..._}}return p};function u(g){t=g(a)}function d(g){const{props:p}=a,y=Ix(a.parent)||{},b=[],x=new Set;let w={},_=1/0;for(let S=0;S<rk;S++){const k=ik[S],O=s[k],R=p[k]!==void 0?p[k]:y[k],z=Yr(R),V=k===g?O.isActive:null;V===!1&&(_=S);let M=R===y[k]&&R!==p[k]&&z;if(M&&i&&a.manuallyAnimateOnMount&&(M=!1),O.protectedKeys={...w},!O.isActive&&V===null||!R&&!O.prevProp||nc(R)||typeof R=="boolean")continue;const q=ck(O.prevProp,R);let X=q||k===g&&O.isActive&&!M&&z||S>_&&z,Q=!1;const he=Array.isArray(R)?R:[R];let xe=he.reduce(l(k),{});V===!1&&(xe={});const{prevResolvedValues:ze={}}=O,xt={...ze,...xe},Ye=K=>{X=!0,x.has(K)&&(Q=!0,x.delete(K)),O.needsAnimating[K]=!0;const J=a.getValue(K);J&&(J.liveStyle=!1)};for(const K in xt){const J=xe[K],we=ze[K];if(w.hasOwnProperty(K))continue;let pe=!1;ph(J)&&ph(we)?pe=!ax(J,we):pe=J!==we,pe?J!=null?Ye(K):x.add(K):J!==void 0&&x.has(K)?Ye(K):O.protectedKeys[K]=!0}O.prevProp=R,O.prevResolvedValues=xe,O.isActive&&(w={...w,...xe}),i&&a.blockInitialAnimation&&(X=!1),X&&(!(M&&q)||Q)&&b.push(...he.map(K=>({animation:K,options:{type:k}})))}if(x.size){const S={};x.forEach(k=>{const O=a.getBaseTarget(k),R=a.getValue(k);R&&(R.liveStyle=!0),S[k]=O??null}),b.push({animation:S})}let E=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(b):Promise.resolve()}function m(g,p){var y;if(s[g].isActive===p)return Promise.resolve();(y=a.variantChildren)===null||y===void 0||y.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(g,p)}),s[g].isActive=p;const b=d(g);for(const x in s)s[x].protectedKeys={};return b}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Vy(),i=!0}}}function ck(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!ax(t,a):!1}function os(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vy(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uk extends Ba{constructor(t){super(t),t.animationState||(t.animationState=lk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let dk=0;class hk extends Ba{constructor(){super(...arguments),this.id=dk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);s&&!t&&l.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const fk={animation:{Feature:uk},exit:{Feature:hk}};function Qr(a,t,s,i={passive:!0}){return a.addEventListener(t,s,i),()=>a.removeEventListener(t,s)}function so(a){return{point:{x:a.pageX,y:a.pageY}}}const mk=a=>t=>xf(t)&&a(t,so(t));function qr(a,t,s,i){return Qr(a,t,mk(s),i)}const qy=(a,t)=>Math.abs(a-t);function gk(a,t){const s=qy(a.x,t.x),i=qy(a.y,t.y);return Math.sqrt(s**2+i**2)}class $x{constructor(t,s,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Kd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=gk(b.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:_}=b,{timestamp:E}=bt;this.history.push({..._,timestamp:E});const{onStart:S,onMove:k}=this.handlers;x||(S&&S(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Yd(x,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Kd(b.type==="pointercancel"?this.lastMoveEventInfo:Yd(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,S),_&&_(b,S)},!xf(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.contextWindow=l||window;const d=so(t),m=Yd(d,this.transformPagePoint),{point:g}=m,{timestamp:p}=bt;this.history=[{...g,timestamp:p}];const{onSessionStart:y}=s;y&&y(t,Kd(m,this.history)),this.removeListeners=ao(qr(this.contextWindow,"pointermove",this.handlePointerMove),qr(this.contextWindow,"pointerup",this.handlePointerUp),qr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ma(this.updatePoint)}}function Yd(a,t){return t?{point:t(a.point)}:a}function Fy(a,t){return{x:a.x-t.x,y:a.y-t.y}}function Kd({point:a},t){return{point:a,delta:Fy(a,Gx(t)),offset:Fy(a,pk(t)),velocity:yk(t,.1)}}function pk(a){return a[0]}function Gx(a){return a[a.length-1]}function yk(a,t){if(a.length<2)return{x:0,y:0};let s=a.length-1,i=null;const l=Gx(a);for(;s>=0&&(i=a[s],!(l.timestamp-i.timestamp>ta(t)));)s--;if(!i)return{x:0,y:0};const u=na(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const Yx=1e-4,vk=1-Yx,bk=1+Yx,Kx=.01,xk=0-Kx,wk=0+Kx;function Xt(a){return a.max-a.min}function jk(a,t,s){return Math.abs(a-t)<=s}function Hy(a,t,s,i=.5){a.origin=i,a.originPoint=Ge(t.min,t.max,a.origin),a.scale=Xt(s)/Xt(t),a.translate=Ge(s.min,s.max,a.origin)-a.originPoint,(a.scale>=vk&&a.scale<=bk||isNaN(a.scale))&&(a.scale=1),(a.translate>=xk&&a.translate<=wk||isNaN(a.translate))&&(a.translate=0)}function Fr(a,t,s,i){Hy(a.x,t.x,s.x,i?i.originX:void 0),Hy(a.y,t.y,s.y,i?i.originY:void 0)}function Iy(a,t,s){a.min=s.min+t.min,a.max=a.min+Xt(t)}function Sk(a,t,s){Iy(a.x,t.x,s.x),Iy(a.y,t.y,s.y)}function $y(a,t,s){a.min=t.min-s.min,a.max=a.min+Xt(t)}function Hr(a,t,s){$y(a.x,t.x,s.x),$y(a.y,t.y,s.y)}function _k(a,{min:t,max:s},i){return t!==void 0&&a<t?a=i?Ge(t,a,i.min):Math.max(a,t):s!==void 0&&a>s&&(a=i?Ge(s,a,i.max):Math.min(a,s)),a}function Gy(a,t,s){return{min:t!==void 0?a.min+t:void 0,max:s!==void 0?a.max+s-(a.max-a.min):void 0}}function Ek(a,{top:t,left:s,bottom:i,right:l}){return{x:Gy(a.x,s,l),y:Gy(a.y,t,i)}}function Yy(a,t){let s=t.min-a.min,i=t.max-a.max;return t.max-t.min<a.max-a.min&&([s,i]=[i,s]),{min:s,max:i}}function Tk(a,t){return{x:Yy(a.x,t.x),y:Yy(a.y,t.y)}}function kk(a,t){let s=.5;const i=Xt(a),l=Xt(t);return l>i?s=_i(t.min,t.max-i,a.min):i>l&&(s=_i(a.min,a.max-l,t.min)),aa(0,1,s)}function Ak(a,t){const s={};return t.min!==void 0&&(s.min=t.min-a.min),t.max!==void 0&&(s.max=t.max-a.min),s}const kh=.35;function Nk(a=kh){return a===!1?a=0:a===!0&&(a=kh),{x:Ky(a,"left","right"),y:Ky(a,"top","bottom")}}function Ky(a,t,s){return{min:Xy(a,t),max:Xy(a,s)}}function Xy(a,t){return typeof a=="number"?a:a[t]||0}const Wy=()=>({translate:0,scale:1,origin:0,originPoint:0}),vi=()=>({x:Wy(),y:Wy()}),Qy=()=>({min:0,max:0}),nt=()=>({x:Qy(),y:Qy()});function cn(a){return[a("x"),a("y")]}function Xx({top:a,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:a,max:i}}}function Ck({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function Ok(a,t){if(!t)return a;const s=t({x:a.left,y:a.top}),i=t({x:a.right,y:a.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Xd(a){return a===void 0||a===1}function Ah({scale:a,scaleX:t,scaleY:s}){return!Xd(a)||!Xd(t)||!Xd(s)}function us(a){return Ah(a)||Wx(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Wx(a){return Jy(a.x)||Jy(a.y)}function Jy(a){return a&&a!=="0%"}function Xl(a,t,s){const i=a-s,l=t*i;return s+l}function Zy(a,t,s,i,l){return l!==void 0&&(a=Xl(a,l,i)),Xl(a,s,i)+t}function Nh(a,t=0,s=1,i,l){a.min=Zy(a.min,t,s,i,l),a.max=Zy(a.max,t,s,i,l)}function Qx(a,{x:t,y:s}){Nh(a.x,t.translate,t.scale,t.originPoint),Nh(a.y,s.translate,s.scale,s.originPoint)}const ev=.999999999999,tv=1.0000000000001;function Rk(a,t,s,i=!1){const l=s.length;if(!l)return;t.x=t.y=1;let u,d;for(let m=0;m<l;m++){u=s[m],d=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xi(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,Qx(a,d)),i&&us(u.latestValues)&&xi(a,u.latestValues))}t.x<tv&&t.x>ev&&(t.x=1),t.y<tv&&t.y>ev&&(t.y=1)}function bi(a,t){a.min=a.min+t,a.max=a.max+t}function nv(a,t,s,i,l=.5){const u=Ge(a.min,a.max,l);Nh(a,t,s,u,i)}function xi(a,t){nv(a.x,t.x,t.scaleX,t.scale,t.originX),nv(a.y,t.y,t.scaleY,t.scale,t.originY)}function Jx(a,t){return Xx(Ok(a.getBoundingClientRect(),t))}function Dk(a,t,s){const i=Jx(a,s),{scroll:l}=t;return l&&(bi(i.x,l.offset.x),bi(i.y,l.offset.y)),i}const Zx=({current:a})=>a?a.ownerDocument.defaultView:null,Mk=new WeakMap;class Uk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(so(y).point)},u=(y,b)=>{const{drag:x,dragPropagation:w,onDragStart:_}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kE(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(S=>{let k=this.getAxisMotionValue(S).get()||0;if(On.test(k)){const{projection:O}=this.visualElement;if(O&&O.layout){const R=O.layout.layoutBox[S];R&&(k=Xt(R)*(parseFloat(k)/100))}}this.originPoint[S]=k}),_&&He.postRender(()=>_(y,b)),bh(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(y,b)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:_,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:S}=b;if(w&&this.currentDirection===null){this.currentDirection=Pk(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",b.point,S),this.updateAxis("y",b.point,S),this.visualElement.render(),E&&E(y,b)},m=(y,b)=>this.stop(y,b),g=()=>cn(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)===null||b===void 0?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $x(t,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Zx(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&He.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:l}=this.getProps();if(!i||!Ol(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=_k(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;s&&pi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&l?this.constraints=Ek(l.layoutBox,s):this.constraints=!1,this.elastic=Nk(i),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&cn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=Ak(l.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!pi(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=Dk(i,l.root,this.visualElement.getTransformPagePoint());let d=Tk(l.layout.layoutBox,u);if(s){const m=s(Ck(d));this.hasMutatedConstraints=!!m,m&&(d=Xx(m))}return d}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=cn(y=>{if(!Ol(y,s,this.currentDirection))return;let b=g&&g[y]||{};d&&(b={min:0,max:0});const x=l?200:1e6,w=l?40:1e7,_={type:"inertia",velocity:i?t[y]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(y,_)});return Promise.all(p).then(m)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return bh(this.visualElement,t),i.start(Rf(t,i,0,s,this.visualElement,!1))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){cn(s=>{const{drag:i}=this.getProps();if(!Ol(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[s];u.set(t[s]-Ge(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!pi(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};cn(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const g=m.get();l[d]=kk({min:g,max:g},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cn(d=>{if(!Ol(d,t,null))return;const m=this.getAxisMotionValue(d),{min:g,max:p}=this.constraints[d];m.set(Ge(g,p,l[d]))})}addListeners(){if(!this.visualElement.current)return;Mk.set(this.visualElement,this);const t=this.visualElement.current,s=qr(t,"pointerdown",g=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();pi(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),He.read(i);const d=Qr(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(cn(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=g[y].translate,b.set(b.get()+g[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:d=kh,dragMomentum:m=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function Ol(a,t,s){return(t===!0||t===a)&&(s===null||s===a)}function Pk(a,t=10){let s=null;return Math.abs(a.y)>t?s="y":Math.abs(a.x)>t&&(s="x"),s}class Lk extends Ba{constructor(t){super(t),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new Uk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const av=a=>(t,s)=>{a&&He.postRender(()=>a(t,s))};class Bk extends Ba{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(t){this.session=new $x(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:av(t),onStart:av(s),onMove:i,onEnd:(u,d)=>{delete this.session,l&&He.postRender(()=>l(u,d))}}}mount(){this.removePointerDownListener=qr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sv(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Rr={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(de.test(a))a=parseFloat(a);else return a;const s=sv(a,t.target.x),i=sv(a,t.target.y);return`${s}% ${i}%`}},zk={correct:(a,{treeScale:t,projectionDelta:s})=>{const i=a,l=Ua.parse(a);if(l.length>5)return i;const u=Ua.createTransformer(a),d=typeof l[0]!="number"?1:0,m=s.x.scale*t.x,g=s.y.scale*t.y;l[0+d]/=m,l[1+d]/=g;const p=Ge(m,g,.5);return typeof l[2+d]=="number"&&(l[2+d]/=p),typeof l[3+d]=="number"&&(l[3+d]/=p),u(l)}};class Vk extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=t;rE(qk),u&&(s.group&&s.group.add(u),i&&i.register&&l&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Pl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:l,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,l||t.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||He.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),of.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ew(a){const[t,s]=Pb(),i=A.useContext(Jh);return c.jsx(Vk,{...a,layoutGroup:i,switchLayoutGroup:A.useContext(Ib),isPresent:t,safeToRemove:s})}const qk={borderRadius:{...Rr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rr,borderTopRightRadius:Rr,borderBottomLeftRadius:Rr,borderBottomRightRadius:Rr,boxShadow:zk};function Fk(a,t,s){const i=Et(a)?a:Xr(a);return i.start(Rf("",i,t,s)),i.animation}function Hk(a){return a instanceof SVGElement&&a.tagName!=="svg"}const Ik=(a,t)=>a.depth-t.depth;class $k{constructor(){this.children=[],this.isDirty=!1}add(t){wf(this.children,t),this.isDirty=!0}remove(t){jf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ik),this.isDirty=!1,this.children.forEach(t)}}function Gk(a,t){const s=Rn.now(),i=({timestamp:l})=>{const u=l-s;u>=t&&(Ma(i),a(u-t))};return He.read(i,!0),()=>Ma(i)}const tw=["TopLeft","TopRight","BottomLeft","BottomRight"],Yk=tw.length,iv=a=>typeof a=="string"?parseFloat(a):a,rv=a=>typeof a=="number"||de.test(a);function Kk(a,t,s,i,l,u){l?(a.opacity=Ge(0,s.opacity!==void 0?s.opacity:1,Xk(i)),a.opacityExit=Ge(t.opacity!==void 0?t.opacity:1,0,Wk(i))):u&&(a.opacity=Ge(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,i));for(let d=0;d<Yk;d++){const m=`border${tw[d]}Radius`;let g=ov(t,m),p=ov(s,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||rv(g)===rv(p)?(a[m]=Math.max(Ge(iv(g),iv(p),i),0),(On.test(p)||On.test(g))&&(a[m]+="%")):a[m]=p}(t.rotate||s.rotate)&&(a.rotate=Ge(t.rotate||0,s.rotate||0,i))}function ov(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const Xk=nw(0,.5,xx),Wk=nw(.5,.95,Kt);function nw(a,t,s){return i=>i<a?0:i>t?1:s(_i(a,t,i))}function lv(a,t){a.min=t.min,a.max=t.max}function ln(a,t){lv(a.x,t.x),lv(a.y,t.y)}function cv(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function uv(a,t,s,i,l){return a-=t,a=Xl(a,1/s,i),l!==void 0&&(a=Xl(a,1/l,i)),a}function Qk(a,t=0,s=1,i=.5,l,u=a,d=a){if(On.test(t)&&(t=parseFloat(t),t=Ge(d.min,d.max,t/100)-d.min),typeof t!="number")return;let m=Ge(u.min,u.max,i);a===u&&(m-=t),a.min=uv(a.min,t,s,m,l),a.max=uv(a.max,t,s,m,l)}function dv(a,t,[s,i,l],u,d){Qk(a,t[s],t[i],t[l],t.scale,u,d)}const Jk=["x","scaleX","originX"],Zk=["y","scaleY","originY"];function hv(a,t,s,i){dv(a.x,t,Jk,s?s.x:void 0,i?i.x:void 0),dv(a.y,t,Zk,s?s.y:void 0,i?i.y:void 0)}function fv(a){return a.translate===0&&a.scale===1}function aw(a){return fv(a.x)&&fv(a.y)}function mv(a,t){return a.min===t.min&&a.max===t.max}function eA(a,t){return mv(a.x,t.x)&&mv(a.y,t.y)}function gv(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function sw(a,t){return gv(a.x,t.x)&&gv(a.y,t.y)}function pv(a){return Xt(a.x)/Xt(a.y)}function yv(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class tA{constructor(){this.members=[]}add(t){wf(this.members,t),t.scheduleRender()}remove(t){if(jf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nA(a,t,s){let i="";const l=a.x.translate/t.x,u=a.y.translate/t.y,d=s?.z||0;if((l||u||d)&&(i=`translate3d(${l}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:p,rotate:y,rotateX:b,rotateY:x,skewX:w,skewY:_}=s;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),b&&(i+=`rotateX(${b}deg) `),x&&(i+=`rotateY(${x}deg) `),w&&(i+=`skewX(${w}deg) `),_&&(i+=`skewY(${_}deg) `)}const m=a.x.scale*t.x,g=a.y.scale*t.y;return(m!==1||g!==1)&&(i+=`scale(${m}, ${g})`),i||"none"}const ds={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lr=typeof window<"u"&&window.MotionDebug!==void 0,Wd=["","X","Y","Z"],aA={visibility:"hidden"},vv=1e3;let sA=0;function Qd(a,t,s,i){const{latestValues:l}=t;l[a]&&(s[a]=l[a],t.setStaticValue(a,0),i&&(i[a]=0))}function iw(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const s=fx(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=a.options;window.MotionCancelOptimisedAnimation(s,"transform",He,!(l||u))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&iw(i)}function rw({attachResizeListener:a,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},m=t?.()){this.id=sA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lr&&(ds.totalNodes=ds.resolvedTargetDeltas=ds.recalculatedProjection=0),this.nodes.forEach(oA),this.nodes.forEach(hA),this.nodes.forEach(fA),this.nodes.forEach(lA),Lr&&window.MotionDebug.record(ds)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new $k)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Sf),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const g=this.eventHandlers.get(d);g&&g.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hk(d),this.instance=d;const{layoutId:g,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(p||g)&&(this.isLayoutDirty=!0),a){let b;const x=()=>this.root.updateBlockedByResize=!1;a(d,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=Gk(x,250),Pl.hasAnimatedSinceResize&&(Pl.hasAnimatedSinceResize=!1,this.nodes.forEach(xv))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&y&&(g||p)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x,hasRelativeTargetChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||y.getDefaultTransition()||vA,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=y.getProps(),O=!this.targetLayout||!sw(this.targetLayout,_)||w,R=!x&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||x&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,R);const z={...yf(E,"layout"),onPlay:S,onComplete:k};(y.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else x||xv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mA),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bv);return}this.isUpdating||this.nodes.forEach(uA),this.isUpdating=!1,this.nodes.forEach(dA),this.nodes.forEach(iA),this.nodes.forEach(rA),this.clearAllSnapshots();const m=Rn.now();bt.delta=aa(0,1e3/60,m-bt.timestamp),bt.timestamp=m,bt.isProcessing=!0,qd.update.process(bt),qd.preRender.process(bt),qd.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,of.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cA),this.sharedNodes.forEach(gA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!aw(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;d&&(m||us(this.latestValues)||y)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return d&&(g=this.removeTransform(g)),bA(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return nt();const g=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(xA))){const{scroll:y}=this.root;y&&(bi(g.x,y.offset.x),bi(g.y,y.offset.y))}return g}removeElementScroll(d){var m;const g=nt();if(ln(g,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return g;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:b,options:x}=y;y!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&ln(g,d),bi(g.x,b.offset.x),bi(g.y,b.offset.y))}return g}applyTransform(d,m=!1){const g=nt();ln(g,d);for(let p=0;p<this.path.length;p++){const y=this.path[p];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xi(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),us(y.latestValues)&&xi(g,y.latestValues)}return us(this.latestValues)&&xi(g,this.latestValues),g}removeTransform(d){const m=nt();ln(m,d);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!us(p.latestValues))continue;Ah(p.latestValues)&&p.updateSnapshot();const y=nt(),b=p.measurePageBox();ln(y,b),hv(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return us(this.latestValues)&&hv(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==g;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:x}=this.options;if(!(!this.layout||!(b||x))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Hr(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),Qx(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Hr(this.relativeTargetOrigin,this.target,w.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lr&&ds.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ah(this.parent.latestValues)||Wx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),g=!!this.resumingFrom||this!==m;let p=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(p=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||b))return;ln(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;Rk(this.layoutCorrected,this.treeScale,this.path,g),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=nt());const{target:_}=m;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cv(this.prevProjectionDelta.x,this.projectionDelta.x),cv(this.prevProjectionDelta.y,this.projectionDelta.y)),Fr(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!yv(this.projectionDelta.x,this.prevProjectionDelta.x)||!yv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Lr&&ds.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vi(),this.projectionDelta=vi(),this.projectionDeltaWithTransform=vi()}setAnimationOrigin(d,m=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},b=vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=nt(),w=g?g.source:void 0,_=this.layout?this.layout.source:void 0,E=w!==_,S=this.getStack(),k=!S||S.members.length<=1,O=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(yA));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const V=z/1e3;wv(b.x,d.x,V),wv(b.y,d.y,V),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hr(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pA(this.relativeTarget,this.relativeTargetOrigin,x,V),R&&eA(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=nt()),ln(R,this.relativeTarget)),E&&(this.animationValues=y,Kk(y,p,this.latestValues,V,O,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{Pl.hasAnimatedSinceResize=!0,this.currentAnimation=Fk(0,vv,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:y}=d;if(!(!m||!g||!p)){if(this!==d&&this.layout&&p&&ow(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||nt();const b=Xt(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+b;const x=Xt(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+x}ln(m,g),xi(m,y),Fr(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new tA),this.sharedNodes.get(d).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Qd("z",d,p,this.animationValues);for(let y=0;y<Wd.length;y++)Qd(`rotate${Wd[y]}`,d,p,this.animationValues),Qd(`skew${Wd[y]}`,d,p,this.animationValues);d.render();for(const y in p)d.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);d.scheduleRender()}getProjectionStyles(d){var m,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aA;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ml(d?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Ml(d?.pointerEvents)||""),this.hasProjected&&!us(this.latestValues)&&(E.transform=y?y({},""):"none",this.hasProjected=!1),E}const x=b.animationValues||b.latestValues;this.applyTransformsToTarget(),p.transform=nA(this.projectionDeltaWithTransform,this.treeScale,x),y&&(p.transform=y(x,p.transform));const{x:w,y:_}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,b.animationValues?p.opacity=b===this?(g=(m=x.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=b===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const E in Il){if(x[E]===void 0)continue;const{correct:S,applyTo:k}=Il[E],O=p.transform==="none"?x[E]:S(x[E],b);if(k){const R=k.length;for(let z=0;z<R;z++)p[k[z]]=O}else p[E]=O}return this.options.layoutId&&(p.pointerEvents=b===this?Ml(d?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(bv),this.root.sharedNodes.clear()}}}function iA(a){a.updateLayout()}function rA(a){var t;const s=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&s&&a.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=a.layout,{animationType:u}=a.options,d=s.source!==a.layout.source;u==="size"?cn(b=>{const x=d?s.measuredBox[b]:s.layoutBox[b],w=Xt(x);x.min=i[b].min,x.max=x.min+w}):ow(u,s.layoutBox,i)&&cn(b=>{const x=d?s.measuredBox[b]:s.layoutBox[b],w=Xt(i[b]);x.max=x.min+w,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+w)});const m=vi();Fr(m,i,s.layoutBox);const g=vi();d?Fr(g,a.applyTransform(l,!0),s.measuredBox):Fr(g,i,s.layoutBox);const p=!aw(m);let y=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:w}=b;if(x&&w){const _=nt();Hr(_,s.layoutBox,x.layoutBox);const E=nt();Hr(E,i,w.layoutBox),sw(_,E)||(y=!0),b.options.layoutRoot&&(a.relativeTarget=E,a.relativeTargetOrigin=_,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:g,layoutDelta:m,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(a.isLead()){const{onExitComplete:i}=a.options;i&&i()}a.options.transition=void 0}function oA(a){Lr&&ds.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function lA(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function cA(a){a.clearSnapshot()}function bv(a){a.clearMeasurements()}function uA(a){a.isLayoutDirty=!1}function dA(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function xv(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function hA(a){a.resolveTargetDelta()}function fA(a){a.calcProjection()}function mA(a){a.resetSkewAndRotation()}function gA(a){a.removeLeadSnapshot()}function wv(a,t,s){a.translate=Ge(t.translate,0,s),a.scale=Ge(t.scale,1,s),a.origin=t.origin,a.originPoint=t.originPoint}function jv(a,t,s,i){a.min=Ge(t.min,s.min,i),a.max=Ge(t.max,s.max,i)}function pA(a,t,s,i){jv(a.x,t.x,s.x,i),jv(a.y,t.y,s.y,i)}function yA(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const vA={duration:.45,ease:[.4,0,.1,1]},Sv=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),_v=Sv("applewebkit/")&&!Sv("chrome/")?Math.round:Kt;function Ev(a){a.min=_v(a.min),a.max=_v(a.max)}function bA(a){Ev(a.x),Ev(a.y)}function ow(a,t,s){return a==="position"||a==="preserve-aspect"&&!jk(pv(t),pv(s),.2)}function xA(a){var t;return a!==a.root&&((t=a.scroll)===null||t===void 0?void 0:t.wasRoot)}const wA=rw({attachResizeListener:(a,t)=>Qr(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jd={current:void 0},lw=rw({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Jd.current){const a=new wA({});a.mount(window),a.setOptions({layoutScroll:!0}),Jd.current=a}return Jd.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),jA={pan:{Feature:Bk},drag:{Feature:Lk,ProjectionNode:lw,MeasureLayout:ew}};function Tv(a,t,s){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,u=i[l];u&&He.postRender(()=>u(t,so(t)))}class SA extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=jE(t,s=>(Tv(this.node,s,"Start"),i=>Tv(this.node,i,"End"))))}unmount(){}}class _A extends Ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(Qr(this.node.current,"focus",()=>this.onFocus()),Qr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kv(a,t,s){const{props:i}=a;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),u=i[l];u&&He.postRender(()=>u(t,so(t)))}class EA extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=TE(t,s=>(kv(this.node,s,"Start"),(i,{success:l})=>kv(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ch=new WeakMap,Zd=new WeakMap,TA=a=>{const t=Ch.get(a.target);t&&t(a)},kA=a=>{a.forEach(TA)};function AA({root:a,...t}){const s=a||document;Zd.has(s)||Zd.set(s,{});const i=Zd.get(s),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(kA,{root:a,...t})),i[l]}function NA(a,t,s){const i=AA(t);return Ch.set(a,s),i.observe(a),()=>{Ch.delete(a),i.unobserve(a)}}const CA={some:0,all:1};class OA extends Ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:CA[l]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),x=p?y:b;x&&x(g)};return NA(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(RA(t,s))&&this.startObserver()}unmount(){}}function RA({viewport:a={}},{viewport:t={}}={}){return s=>a[s]!==t[s]}const DA={inView:{Feature:OA},tap:{Feature:EA},focus:{Feature:_A},hover:{Feature:SA}},MA={layout:{ProjectionNode:lw,MeasureLayout:ew}},Oh={current:null},cw={current:!1};function UA(){if(cw.current=!0,!!tf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Oh.current=a.matches;a.addListener(t),t()}else Oh.current=!1}const PA=[...Mx,_t,Ua],LA=a=>PA.find(Dx(a)),Av=new WeakMap;function BA(a,t,s){for(const i in t){const l=t[i],u=s[i];if(Et(l))a.addValue(i,l);else if(Et(u))a.addValue(i,Xr(l,{owner:a}));else if(u!==l)if(a.hasValue(i)){const d=a.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=a.getStaticValue(i);a.addValue(i,Xr(d!==void 0?d:l,{owner:a}))}}for(const i in s)t[i]===void 0&&a.removeValue(i);return t}const Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zA{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Rn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,He.render(this.render,!1,!0))};const{latestValues:g,renderState:p,onUpdate:y}=d;this.onUpdate=y,this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=p,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ac(s),this.isVariantNode=Fb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in x){const _=x[w];g[w]!==void 0&&Et(_)&&_.set(g[w],!1)}}mount(t){this.current=t,Av.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),cw.current||UA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Oh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Av.delete(this.current),this.projection&&this.projection.unmount(),Ma(this.notifyUpdate),Ma(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=xs.has(t),l=s.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&He.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{l(),u(),d&&d(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ei){const s=Ei[t];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Nv.length;i++){const l=Nv[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,d=t[u];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=BA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Xr(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){var i;let l=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return l!=null&&(typeof l=="string"&&(Ox(l)||jx(l))?l=parseFloat(l):!LA(l)&&Ua.test(s)&&(l=Ax(t,s)),this.setBaseTarget(t,Et(l)?l.get():l)),Et(l)?l.get():l}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const d=cf(this.props,i,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);d&&(l=d[t])}if(i&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Et(u)?u:this.initialValues[t]!==void 0&&l===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Sf),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class uw extends zA{constructor(){super(...arguments),this.KeyframeResolver=Ux}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function VA(a){return window.getComputedStyle(a)}class qA extends uw{constructor(){super(...arguments),this.type="html",this.renderInstance=Qb}readValueFromInstance(t,s){if(xs.has(s)){const i=Af(s);return i&&i.default||0}else{const i=VA(t),l=(Kb(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Jx(t,s)}build(t,s,i){hf(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return pf(t,s,i)}}class FA extends uw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(xs.has(s)){const i=Af(s);return i&&i.default||0}return s=Jb.has(s)?s:rf(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return tx(t,s,i)}build(t,s,i){ff(t,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,i,l){Zb(t,s,i,l)}mount(t){this.isSVGTag=gf(t.tagName),super.mount(t)}}const HA=(a,t)=>lf(a)?new FA(t):new qA(t,{allowProjection:a!==A.Fragment}),IA=gE({...fk,...DA,...jA,...MA},HA),Be=C2(IA),Ze=[{name:"Argentina",code:"AR",dialCode:"+54",banks:[{name:"Banco Nacin",type:"National"},{name:"Galicia",type:"National"},{name:"BBVA Argentina",type:"National"},{name:"Mercado Pago",type:"National"}],currency:"ARS",exchangeRateToUSD:1250,region:"LatAm",minimumSendAmount:4e3},{name:"Bolivia",code:"BO",dialCode:"+591",banks:[],currency:"BOB",exchangeRateToUSD:6.91,region:"LatAm",minimumSendAmount:50},{name:"Brasil",code:"BR",dialCode:"+55",banks:[],currency:"BRL",exchangeRateToUSD:5.4,region:"LatAm",minimumSendAmount:50},{name:"Chile",code:"CL",dialCode:"+56",banks:[{name:"Banco de Chile",type:"National"},{name:"BancoEstado",type:"National"},{name:"Santander Chile",type:"National"}],currency:"CLP",exchangeRateToUSD:940,region:"LatAm",minimumSendAmount:4e3},{name:"Colombia",code:"CO",dialCode:"+57",banks:[{name:"Bancolombia",type:"National"},{name:"Davivienda",type:"National"},{name:"Nequi",type:"National"},{name:"Daviplata",type:"National"},{name:"Banco de Bogot",type:"National"}],currency:"COP",exchangeRateToUSD:3950,region:"LatAm",minimumSendAmount:25e3},{name:"Costa Rica",code:"CR",dialCode:"+506",banks:[],currency:"CRC",exchangeRateToUSD:525,region:"LatAm",minimumSendAmount:5e3},{name:"Cuba",code:"CU",dialCode:"+53",banks:[],currency:"CUP",exchangeRateToUSD:24,region:"LatAm",minimumSendAmount:500},{name:"Ecuador",code:"EC",dialCode:"+593",banks:[{name:"Pichincha",type:"National"},{name:"Guayaquil",type:"National"},{name:"Produbanco",type:"National"},{name:"Banco Bolivariano",type:"National"}],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"El Salvador",code:"SV",dialCode:"+503",banks:[],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"Guatemala",code:"GT",dialCode:"+502",banks:[],currency:"GTQ",exchangeRateToUSD:7.78,region:"LatAm",minimumSendAmount:100},{name:"Honduras",code:"HN",dialCode:"+504",banks:[],currency:"HNL",exchangeRateToUSD:24.7,region:"LatAm",minimumSendAmount:300},{name:"Mxico",code:"MX",dialCode:"+52",banks:[{name:"BBVA Mxico",type:"National"},{name:"Santander Mxico",type:"National"},{name:"Banorte",type:"National"},{name:"HSBC Mxico",type:"National"},{name:"Citibanamex",type:"National"}],currency:"MXN",exchangeRateToUSD:17.15,region:"LatAm",minimumSendAmount:80},{name:"Nicaragua",code:"NI",dialCode:"+505",banks:[],currency:"NIO",exchangeRateToUSD:36.6,region:"LatAm",minimumSendAmount:400},{name:"Panam",code:"PA",dialCode:"+507",banks:[],currency:"USD",exchangeRateToUSD:1,region:"LatAm",minimumSendAmount:20},{name:"Paraguay",code:"PY",dialCode:"+595",banks:[],currency:"PYG",exchangeRateToUSD:7250,region:"LatAm",minimumSendAmount:5e4},{name:"Per",code:"PE",dialCode:"+51",banks:[{name:"BCP",type:"National"},{name:"Interbank",type:"National"},{name:"Scotiabank",type:"National"},{name:"BBVA Per",type:"National"},{name:"Yape",type:"National"},{name:"Plin",type:"National"}],currency:"PEN",exchangeRateToUSD:3.75,region:"LatAm",minimumSendAmount:25},{name:"Repblica Dominicana",code:"DO",dialCode:"+1",banks:[],currency:"DOP",exchangeRateToUSD:59,region:"LatAm",minimumSendAmount:500},{name:"Uruguay",code:"UY",dialCode:"+598",banks:[],currency:"UYU",exchangeRateToUSD:39.5,region:"LatAm",minimumSendAmount:500},{name:"Venezuela",code:"VE",dialCode:"+58",banks:[{name:"Mercantil",type:"National"},{name:"Banesco",type:"National"},{name:"Banco de Venezuela",type:"National"},{name:"Provincial",type:"National"},{name:"Pago Mvil",type:"National"}],currency:"VES",exchangeRateToUSD:36.5,region:"LatAm",minimumSendAmount:500},{name:"Canad",code:"CA",dialCode:"+1",banks:[],currency:"CAD",exchangeRateToUSD:1.37,region:"North America",minimumSendAmount:25},{name:"EE.UU.",code:"US",dialCode:"+1",banks:[{name:"Bank of America",type:"International"},{name:"Chase",type:"International"},{name:"Wells Fargo",type:"International"},{name:"Citibank",type:"International"},{name:"Zelle",type:"International"}],currency:"USD",exchangeRateToUSD:1,region:"North America",minimumSendAmount:20},{name:"Alemania",code:"DE",dialCode:"+49",banks:[],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Espaa",code:"ES",dialCode:"+34",banks:[{name:"SEPA Transfer",type:"International"},{name:"Revolut",type:"International"},{name:"Wise",type:"International"}],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Francia",code:"FR",dialCode:"+33",banks:[],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Italia",code:"IT",dialCode:"+39",banks:[],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Portugal",code:"PT",dialCode:"+351",banks:[],currency:"EUR",exchangeRateToUSD:.92,region:"Europe",minimumSendAmount:20},{name:"Reino Unido",code:"GB",dialCode:"+44",banks:[],currency:"GBP",exchangeRateToUSD:.79,region:"Europe",minimumSendAmount:15}],Jr=.025,Wl=.005,Rh=.06,Dh=3,Mh=10,Uh=.02,un=({countryCode:a,className:t})=>({VE:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"3",y:"0",fill:"#FFCF00"}),c.jsx("rect",{width:"5",height:"2",y:"1",fill:"#00247D"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#CF142B"})]}),PE:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#D91023"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#D91023"})]}),CO:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"1",y:"0",fill:"#FFCD00"}),c.jsx("rect",{width:"3",height:"0.5",y:"1",fill:"#003893"}),c.jsx("rect",{width:"3",height:"0.5",y:"1.5",fill:"#CE1126"})]}),MX:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#006847"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#CE1126"})]}),EC:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"1",y:"0",fill:"#FFCD00"}),c.jsx("rect",{width:"3",height:"0.5",y:"1",fill:"#003893"}),c.jsx("rect",{width:"3",height:"0.5",y:"1.5",fill:"#CE1126"})]}),CL:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"1",y:"1",fill:"#D52B1E"}),c.jsx("rect",{width:"1",height:"1",fill:"#0039A6"})]}),AR:c.jsxs("svg",{viewBox:"0 0 9 5",className:t,children:[c.jsx("rect",{width:"9",height:"5",fill:"#74ACDF"}),c.jsx("rect",{width:"9",height:"3",y:"1",fill:"#FFFFFF"})]}),US:c.jsxs("svg",{viewBox:"0 0 20 12",className:t,children:[c.jsx("defs",{children:c.jsxs("g",{id:"stripe",children:[c.jsx("rect",{width:"20",height:"1",fill:"#B22234"}),c.jsx("rect",{width:"20",height:"1",y:"2",fill:"#B22234"}),c.jsx("rect",{width:"20",height:"1",y:"4",fill:"#B22234"}),c.jsx("rect",{width:"20",height:"1",y:"6",fill:"#B22234"}),c.jsx("rect",{width:"20",height:"1",y:"8",fill:"#B22234"}),c.jsx("rect",{width:"20",height:"1",y:"10",fill:"#B22234"})]})}),c.jsx("rect",{width:"20",height:"12",fill:"#FFFFFF"}),c.jsx("use",{href:"#stripe"}),c.jsx("rect",{width:"9",height:"6",fill:"#3C3B6E"})]}),ES:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"2",fill:"#C60B1E"}),c.jsx("rect",{width:"3",height:"1",y:"0.5",fill:"#FFC400"})]}),BR:c.jsxs("svg",{viewBox:"0 0 20 14",className:t,children:[c.jsx("rect",{width:"20",height:"14",fill:"#009C3B"}),c.jsx("polygon",{points:"10,2 18,7 10,12 2,7",fill:"#FFDF00"}),c.jsx("circle",{cx:"10",cy:"7",r:"3",fill:"#002776"})]}),DE:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1",y:"0",fill:"#000000"}),c.jsx("rect",{width:"5",height:"1",y:"1",fill:"#DD0000"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#FFCE00"})]}),FR:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#002395"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#ED2939"})]}),IT:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#009246"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#CE2B37"})]}),PT:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"2",fill:"#FF0000"}),c.jsx("rect",{width:"1.2",height:"2",fill:"#006600"})]}),NL:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"0.667",fill:"#AE1C28"}),c.jsx("rect",{width:"3",height:"0.667",y:"0.667",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"0.666",y:"1.334",fill:"#21468B"})]}),BE:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#000000"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FDDA24"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#EF3340"})]}),PL:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1.5",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1.5",y:"1.5",fill:"#DC143C"})]}),GR:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"2",fill:"#0D5EAF"}),c.jsx("rect",{width:"3",height:"0.222",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"0.222",y:"0.444",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"0.222",y:"0.889",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"0.222",y:"1.333",fill:"#FFFFFF"}),c.jsx("rect",{width:"3",height:"0.222",y:"1.778",fill:"#FFFFFF"})]}),GB:c.jsxs("svg",{viewBox:"0 0 60 30",className:t,children:[c.jsx("rect",{width:"60",height:"30",fill:"#012169"}),c.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#FFFFFF",strokeWidth:"6"}),c.jsx("path",{d:"M0,0 L60,30 M60,0 L0,30",stroke:"#C8102E",strokeWidth:"4"}),c.jsx("path",{d:"M30,0 L30,30 M0,15 L60,15",stroke:"#FFFFFF",strokeWidth:"10"}),c.jsx("path",{d:"M30,0 L30,30 M0,15 L60,15",stroke:"#C8102E",strokeWidth:"6"})]}),CA:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"1.5",height:"3",fill:"#FF0000"}),c.jsx("rect",{width:"2",height:"3",x:"1.5",fill:"#FFFFFF"}),c.jsx("rect",{width:"1.5",height:"3",x:"3.5",fill:"#FF0000"}),c.jsx("polygon",{points:"2.5,1 2.6,1.3 2.9,1.3 2.7,1.5 2.8,1.8 2.5,1.6 2.2,1.8 2.3,1.5 2.1,1.3 2.4,1.3",fill:"#FF0000"})]}),BO:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"0.667",fill:"#D52B1E"}),c.jsx("rect",{width:"3",height:"0.667",y:"0.667",fill:"#F9E300"}),c.jsx("rect",{width:"3",height:"0.666",y:"1.334",fill:"#007A33"})]}),CR:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"3",fill:"#002B7F"}),c.jsx("rect",{width:"5",height:"2.4",y:"0.3",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1.2",y:"0.9",fill:"#CE1126"})]}),CU:c.jsxs("svg",{viewBox:"0 0 10 6",className:t,children:[c.jsx("rect",{width:"10",height:"6",fill:"#002A8F"}),c.jsx("rect",{width:"10",height:"1.2",fill:"#FFFFFF"}),c.jsx("rect",{width:"10",height:"1.2",y:"2.4",fill:"#FFFFFF"}),c.jsx("rect",{width:"10",height:"1.2",y:"4.8",fill:"#FFFFFF"}),c.jsx("polygon",{points:"0,0 4,3 0,6",fill:"#CF142B"}),c.jsx("polygon",{points:"1.5,3 2,2.5 2,3.5",fill:"#FFFFFF"})]}),DO:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"2",fill:"#002D62"}),c.jsx("rect",{width:"3",height:"1",y:"0.5",fill:"#FFFFFF"}),c.jsx("rect",{width:"1.5",height:"2",x:"1.5",fill:"#CE1126"})]}),GT:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"1",height:"2",fill:"#4997D0"}),c.jsx("rect",{width:"1",height:"2",x:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"1",height:"2",x:"2",fill:"#4997D0"})]}),HN:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1",fill:"#0073CF"}),c.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0073CF"})]}),NI:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1",fill:"#0067C6"}),c.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0067C6"})]}),PA:c.jsxs("svg",{viewBox:"0 0 3 2",className:t,children:[c.jsx("rect",{width:"3",height:"2",fill:"#FFFFFF"}),c.jsx("rect",{width:"1.5",height:"1",fill:"#DA121A"}),c.jsx("rect",{width:"1.5",height:"1",x:"1.5",y:"1",fill:"#0000AB"}),c.jsx("polygon",{points:"0.5,0.3 0.6,0.6 0.9,0.6 0.7,0.8 0.8,1.1 0.5,0.9 0.2,1.1 0.3,0.8 0.1,0.6 0.4,0.6",fill:"#0000AB"}),c.jsx("polygon",{points:"2.5,1.3 2.6,1.6 2.9,1.6 2.7,1.8 2.8,2.1 2.5,1.9 2.2,2.1 2.3,1.8 2.1,1.6 2.4,1.6",fill:"#DA121A"})]}),PY:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1",fill:"#D52B1E"}),c.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0038A8"})]}),SV:c.jsxs("svg",{viewBox:"0 0 5 3",className:t,children:[c.jsx("rect",{width:"5",height:"1",fill:"#0F47AF"}),c.jsx("rect",{width:"5",height:"1",y:"1",fill:"#FFFFFF"}),c.jsx("rect",{width:"5",height:"1",y:"2",fill:"#0F47AF"})]}),UY:c.jsxs("svg",{viewBox:"0 0 9 6",className:t,children:[c.jsx("rect",{width:"9",height:"6",fill:"#FFFFFF"}),c.jsx("rect",{width:"9",height:"0.667",fill:"#0038A8"}),c.jsx("rect",{width:"9",height:"0.667",y:"1.333",fill:"#0038A8"}),c.jsx("rect",{width:"9",height:"0.667",y:"2.666",fill:"#0038A8"}),c.jsx("rect",{width:"9",height:"0.667",y:"4",fill:"#0038A8"}),c.jsx("rect",{width:"9",height:"0.667",y:"5.333",fill:"#0038A8"}),c.jsx("rect",{width:"4",height:"3",fill:"#FFFFFF"}),c.jsx("circle",{cx:"2",cy:"1.5",r:"0.8",fill:"#FCD116",stroke:"#7B3F00",strokeWidth:"0.1"})]}),EU:c.jsxs("svg",{viewBox:"0 0 30 20",className:t,children:[c.jsx("rect",{width:"30",height:"20",fill:"#003399"}),c.jsx("circle",{cx:"15",cy:"10",r:"6",fill:"none",stroke:"#FFCC00",strokeWidth:"2"})]})})[a]||c.jsx("div",{className:`bg-gray-300 ${t}`}),dw=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),Ph=({value:a,onChange:t,className:s="",required:i=!1})=>{const[l,u]=A.useState(!1),d=A.useRef(null),m=A.useMemo(()=>[...Ze].sort((w,_)=>_.dialCode.length-w.dialCode.length),[]),{countryCode:g,nationalNumber:p}=A.useMemo(()=>{if(!a)return{countryCode:"US",nationalNumber:""};for(const w of m)if(a.startsWith(w.dialCode))return{countryCode:w.code,nationalNumber:a.substring(w.dialCode.length)};return{countryCode:"US",nationalNumber:a.replace(/\D/g,"")}},[a,m]),y=A.useMemo(()=>Ze.find(w=>w.code===g)||Ze.find(w=>w.code==="US"),[g]);A.useEffect(()=>{const w=_=>{d.current&&!d.current.contains(_.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=w=>{t(`${w.dialCode}${p}`),u(!1)},x=w=>{const _=w.target.value.replace(/\D/g,"");t(`${y.dialCode}${_}`)};return c.jsxs("div",{className:`flex items-center w-full bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 rounded-md shadow-sm focus-within:ring-indigo-500 focus-within:border-indigo-500 focus-within:ring-1 ${s}`,children:[c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{type:"button",onClick:()=>u(w=>!w),className:"flex items-center gap-2 h-full pl-3 pr-2 rounded-l-md bg-gray-50 dark:bg-slate-700/50 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors","aria-haspopup":"listbox","aria-expanded":l,children:[c.jsx(un,{countryCode:y.code,className:"w-5 h-auto rounded-sm flex-shrink-0"}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.dialCode}),c.jsx(dw,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),c.jsx(wn,{children:l&&c.jsx(Be.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute z-20 mt-1 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",role:"listbox",children:Ze.map(w=>c.jsx("li",{children:c.jsxs("button",{onClick:()=>b(w),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-slate-700",role:"option","aria-selected":w.code===y.code,children:[c.jsx(un,{countryCode:w.code,className:"w-5 h-auto rounded-sm flex-shrink-0"}),c.jsx("span",{className:"text-sm text-gray-800 dark:text-white flex-grow",children:w.name}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.dialCode})]})},w.code))})})]}),c.jsx("input",{type:"tel",value:p,onChange:x,className:"w-full bg-transparent py-3 px-3 text-gray-800 dark:text-white focus:outline-none",placeholder:"Nmero de telfono",required:i})]})},Dn=({className:a="w-5 h-5 border-white"})=>c.jsx("div",{className:`animate-spin rounded-full border-2 border-t-transparent ${a}`,role:"status","aria-live":"polite","aria-label":"Cargando"}),$A=()=>{const[a,t]=A.useState("login"),[s,i]=A.useState(""),[l,u]=A.useState(""),[d,m]=A.useState(""),[g,p]=A.useState(""),[y,b]=A.useState(!1),[x,w]=A.useState(null),[_,E]=A.useState(null),[S,k]=A.useState(!1),O=X=>{w(null),E(null),u(""),t(X)},R=async X=>{if(X.preventDefault(),b(!0),w(null),E(null),a==="login"){const{error:Q}=await be.auth.signInWithPassword({email:s,password:l});Q&&w(Q.message)}else if(a==="register"){const{data:Q,error:he}=await be.auth.signUp({email:s,password:l,options:{data:{full_name:d,phone:g}}});he?w(he.message):Q.user&&(E("Registro exitoso! Revisa tu correo electrnico para completar la verificacin."),i(""),u(""),m(""),p(""))}b(!1)},z=async X=>{X.preventDefault(),b(!0),w(null),E(null);const{error:Q}=await be.auth.resetPasswordForEmail(s);Q?w(Q.message):E("Se ha enviado un enlace para restablecer tu contrasea a tu correo electrnico."),b(!1)},V=()=>{switch(a){case"login":return"Bienvenido de Nuevo";case"register":return"Crea tu Cuenta";case"forgotPassword":return"Restablecer Contrasea"}},M=()=>{switch(a){case"forgotPassword":return"Te enviaremos un enlace para que recuperes tu cuenta.";default:return"Tu portal de finanzas globales."}},q=()=>a==="forgotPassword"?c.jsxs("form",{onSubmit:z,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Correo Electrnico"}),c.jsx("input",{type:"email",id:"email",value:s,onChange:X=>i(X.target.value),className:"mt-1 block w-full bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 rounded-md shadow-sm py-3 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com",required:!0})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500 transition-colors duration-300 disabled:bg-indigo-400 dark:disabled:bg-indigo-800/50 disabled:cursor-wait",children:y?c.jsx(Dn,{className:"w-5 h-5"}):"Enviar Enlace de Recuperacin"})})]}):c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a==="register"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nombre Completo"}),c.jsx("input",{type:"text",id:"fullName",value:d,onChange:X=>m(X.target.value),className:"mt-1 block w-full bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 rounded-md shadow-sm py-3 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"John Doe",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:["Nmero de Telfono ",c.jsx("span",{className:"text-gray-400",children:"(Opcional)"})]}),c.jsx(Ph,{value:g,onChange:p})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Correo Electrnico"}),c.jsx("input",{type:"email",id:"email",value:s,onChange:X=>i(X.target.value),className:"mt-1 block w-full bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 rounded-md shadow-sm py-3 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"tu@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Contrasea"}),a==="login"&&c.jsx("div",{className:"text-sm",children:c.jsx("button",{type:"button",onClick:()=>O("forgotPassword"),className:"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300",children:"Olvidaste tu contrasea?"})})]}),c.jsx("input",{type:"password",id:"password",value:l,onChange:X=>u(X.target.value),className:"mt-1 block w-full bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 rounded-md shadow-sm py-3 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"",required:!0})]}),a==="login"&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:S,onChange:X=>k(X.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:checked:bg-indigo-600 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600 dark:text-gray-300",children:"Recordar sesin"})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:y,className:"w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500 transition-colors duration-300 disabled:bg-indigo-400 dark:disabled:bg-indigo-800/50 disabled:cursor-wait",children:y&&a==="login"?c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-5 h-5 mr-3"}),c.jsx("span",{children:"Verificando credenciales..."})]}):y?c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-5 h-5 mr-3"}),c.jsx("span",{children:a==="login"?"Iniciando...":"Creando..."})]}):a==="login"?"Iniciar Sesin":"Crear Cuenta"})}),c.jsx(wn,{children:y&&a==="login"&&c.jsx(Be.div,{initial:{width:"0%"},animate:{width:["0%","75%","0%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"h-1.5 bg-indigo-600 dark:bg-indigo-400 rounded-full mt-2"})})]});return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-gray-100 via-indigo-200/50 to-gray-100 dark:from-gray-900 dark:via-purple-900/50 dark:to-gray-900",children:c.jsxs(xn,{className:"w-full max-w-md dark:bg-slate-900",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Fh,{className:"h-16 w-auto mx-auto"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-4",children:V()}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:M()})]}),x&&c.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:x}),_&&c.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm text-center mb-4",children:_}),q(),c.jsxs("p",{className:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400",children:[a==="login"&&"No tienes cuenta?",a==="register"&&"Ya tienes una cuenta?",a==="forgotPassword"&&"Recordaste tu contrasea?",c.jsxs("button",{onClick:()=>O(a==="login"?"register":"login"),className:"ml-1 font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300",children:[a==="login"&&"Regstrate",a==="register"&&"Inicia Sesin",a==="forgotPassword"&&"Volver a Iniciar Sesin"]})]})]})})};var Ne=(a=>(a[a.Calculator=0]="Calculator",a[a.Exchange=1]="Exchange",a[a.Beneficiaries=2]="Beneficiaries",a[a.History=3]="History",a[a.Profile=4]="Profile",a[a.Info=5]="Info",a[a.Admin=6]="Admin",a))(Ne||{});const hw=A.createContext(void 0),GA=({children:a})=>{const[t,s]=A.useState(()=>{const l=localStorage.getItem("theme");return l==="light"||l==="dark"?l:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});A.useEffect(()=>{const l=window.document.documentElement;t==="dark"?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{s(l=>l==="light"?"dark":"light")};return c.jsx(hw.Provider,{value:{theme:t,toggleTheme:i},children:a})},YA=()=>{const a=A.useContext(hw);if(!a)throw new Error("useTheme must be used within a ThemeProvider");return a},KA=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),XA=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),fw=({className:a})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 24 24","aria-hidden":"true",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"avatarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#4f46e5"}),c.jsx("stop",{offset:"100%",stopColor:"#7c3aed"})]})}),c.jsx("g",{fill:"url(#avatarGradient)",children:c.jsx("circle",{cx:"12",cy:"12",r:"12"})}),c.jsx("path",{fill:"#FFFFFF",d:"M12 14c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z",transform:"scale(0.8) translate(3, 2)"})]}),Cv=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})}),WA=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),QA=({user:a,setActiveScreen:t})=>{const{theme:s,toggleTheme:i}=YA(),[l,u]=A.useState(!1),d=A.useRef(null),m=async()=>{try{const{error:g}=await be.auth.signOut({scope:"local"});g&&console.error("Error during logout:",g.message)}catch(g){console.error("Unexpected error during logout:",g)}};return A.useEffect(()=>{const g=p=>{d.current&&!d.current.contains(p.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[d]),c.jsx("header",{className:"py-4 px-4 md:px-8 bg-white dark:bg-gray-800 shadow-sm z-40 relative transition-colors duration-300",children:c.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Fh,{className:"h-8 w-auto text-gray-800 dark:text-white"}),c.jsx("span",{className:"text-xl font-bold hidden sm:inline text-gray-800 dark:text-white",children:"Remesas A&M"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:i,className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 p-2 rounded-full transition-colors duration-300","aria-label":"Toggle theme",children:s==="light"?c.jsx(XA,{className:"h-5 w-5"}):c.jsx(KA,{className:"h-5 w-5"})}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>u(g=>!g),className:"flex items-center gap-3 bg-gray-100 dark:bg-slate-700/50 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-full py-1.5 pl-1.5 pr-4 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500","aria-expanded":l,"aria-haspopup":"true",id:"user-menu-button",children:[c.jsx(fw,{className:"h-8 w-8 text-white"}),c.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 hidden md:inline truncate max-w-[150px]",children:a.fullName})]}),c.jsx(wn,{children:l&&c.jsxs(Be.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl origin-top-right z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-slate-700",children:[c.jsx("p",{className:"font-semibold text-sm text-gray-800 dark:text-white truncate",children:a.fullName}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.email})]}),c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{t(Ne.Profile),u(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors text-left",role:"menuitem",children:[c.jsx(Cv,{className:"h-5 w-5"}),c.jsx("span",{children:"Mi Perfil"})]}),(a.email==="pineroanthony2@gmail.com"||a.id==="9ddd1796-86f1-4c39-81c2-9e7c4b64ceda")&&c.jsxs("button",{onClick:()=>{t(Ne.Admin),u(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-purple-700 dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-colors text-left",role:"menuitem",children:[c.jsx(Cv,{className:"h-5 w-5"}),c.jsx("span",{children:"Panel de Administracin"})]}),c.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors text-left",role:"menuitem",children:[c.jsx(WA,{className:"h-5 w-5"}),c.jsx("span",{children:"Cerrar Sesin"})]})]})]})})]})]})]})})};async function mw(){try{console.log(" Fetching exchange rates from Backend...");const a=await fetch("http://localhost:3001/api/exchange/rates");if(!a.ok)throw new Error(`Backend API returned ${a.status}`);const t=await a.json(),s={};Array.isArray(t)&&t.forEach(l=>{l.currency&&l.exchangeRateToUSD&&(s[l.currency]=l.exchangeRateToUSD)});const i={base:"USD",date:new Date().toISOString().split("T")[0],rates:s,timestamp:Date.now()};return console.log(" Exchange rates loaded from Backend"),i}catch(a){return console.error(" Error fetching exchange rates from backend:",a),null}}function JA(a,t,s,i,l=!0){if(!i||!i.rates)throw new Error("Exchange rates not available");const u=i.rates[t],d=i.rates[s];if(!u||!d)throw new Error(`Currency not supported: ${t} or ${s}`);let g=a/u*d;return l&&(g=g*(1-.005)),g}function ZA(a,t,s,i=!0){if(!s||!s.rates)return 0;const l=s.rates[a],u=s.rates[t];if(!l||!u)return 0;let d=u/l;return i&&(d=d*(1-.005)),d}async function eN(){return localStorage.removeItem("exchange_rates_cache"),mw()}const gw=A.createContext(void 0),tN=({children:a})=>{const[t,s]=A.useState(null),[i,l]=A.useState(Ze),[u,d]=A.useState(!0),[m,g]=A.useState(null),[p,y]=A.useState(null),b=async()=>{try{d(!0),g(null);const S=await mw();if(!S)throw new Error("No se pudieron obtener las tasas de cambio");s(S),y(new Date);const k=Ze.map(O=>({...O,exchangeRateToUSD:S.rates[O.currency]||O.exchangeRateToUSD}));l(k),console.log(" Tasas de cambio actualizadas:",S.date)}catch(S){console.error("Error cargando tasas:",S),g("Las tasas de cambio no estn disponibles. Usando valores de respaldo."),l(Ze)}finally{d(!1)}},x=async()=>{console.log(" Refrescando tasas de cambio...");const S=await eN();if(S){s(S),y(new Date);const k=Ze.map(O=>({...O,exchangeRateToUSD:S.rates[O.currency]||O.exchangeRateToUSD}));l(k),g(null)}};A.useEffect(()=>{b()},[]),A.useEffect(()=>{const S=setInterval(()=>{console.log(" Auto-refresh de tasas de cambio"),b()},36e5);return()=>clearInterval(S)},[]);const E={countriesWithLatestRates:i,liveRates:t,isLoading:u,error:m,lastUpdated:p,refreshRates:x,convertAmount:(S,k,O,R=!0)=>{if(!t){const z=Ze.find(M=>M.currency===k),V=Ze.find(M=>M.currency===O);if(z&&V){let q=S/z.exchangeRateToUSD*V.exchangeRateToUSD;return R&&(q=q*(1-Wl)),q}return S}return JA(S,k,O,t,R)},getRate:(S,k,O=!0)=>{if(!t){const R=Ze.find(V=>V.currency===S),z=Ze.find(V=>V.currency===k);if(R&&z){let V=z.exchangeRateToUSD/R.exchangeRateToUSD;return O&&(V=V*(1-Wl)),V}return 0}return ZA(S,k,t,O)}};return c.jsx(gw.Provider,{value:E,children:a})},io=()=>{const a=A.useContext(gw);if(a===void 0)throw new Error("useExchangeRates must be used within an ExchangeRateProvider");return a},nN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),aN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Lh=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),bs=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ll=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),rc=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Df=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),sN=()=>{const{lastUpdated:a,isLoading:t,error:s,refreshRates:i}=io();if(t&&!a)return c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Cargando tasas en tiempo real..."})]})});if(s)return c.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700 dark:text-yellow-300",children:[c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),c.jsx("span",{children:s})]}),c.jsx("button",{onClick:i,className:"text-xs px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md transition-colors",children:"Reintentar"})]})});const l=u=>u.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return c.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:"Tasas en Tiempo Real"})]}),a&&c.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["Actualizado: ",l(a)]})]}),c.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300 space-y-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:" Comisin:"}),c.jsxs("span",{className:"bg-green-100 dark:bg-green-800/50 px-2 py-0.5 rounded-md font-bold",children:[(Jr*100).toFixed(1),"%"]}),c.jsx("span",{className:"text-green-600/80 dark:text-green-400/80 italic",children:"(antes 9%)"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:" Spread FX:"}),c.jsxs("span",{className:"bg-green-100 dark:bg-green-800/50 px-2 py-0.5 rounded-md font-bold",children:["+",(Wl*100).toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t border-green-200 dark:border-green-700",children:[c.jsx("span",{className:"font-semibold",children:" Costo Total:"}),c.jsxs("span",{className:"bg-emerald-600 text-white px-2 py-0.5 rounded-md font-bold",children:["~",((Jr+Wl)*100).toFixed(1),"%"]})]})]})]}),c.jsxs("button",{onClick:i,className:"text-xs px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors flex items-center gap-1.5",title:"Refrescar tasas",children:[c.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refrescar"]})]})})},Ov=({label:a,countries:t,selectedCode:s,onSelect:i})=>{const[l,u]=A.useState(!1),d=A.useRef(null),m=t.find(g=>g.code===s);return A.useEffect(()=>{const g=p=>{d.current&&!d.current.contains(p.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),c.jsxs("div",{className:"relative",ref:d,children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:a}),c.jsxs("button",{type:"button",onClick:()=>u(!l),className:"w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg py-3 px-4 flex items-center justify-between shadow-sm hover:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",children:[m?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(un,{countryCode:m.code,className:"w-6 h-auto rounded-sm object-cover shadow-sm"}),c.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:m.name})]}):c.jsx("span",{className:"text-gray-400",children:"Seleccionar pas"}),c.jsx(dw,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${l?"transform rotate-180":""}`})]}),c.jsx(wn,{children:l&&c.jsx(Be.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-60 overflow-auto focus:outline-none",children:t.map(g=>c.jsx("li",{children:c.jsxs("button",{type:"button",onClick:()=>{i(g.code),u(!1)},className:`w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${s===g.code?"bg-indigo-50 dark:bg-indigo-900/30":""}`,children:[c.jsx(un,{countryCode:g.code,className:"w-6 h-auto rounded-sm object-cover shadow-sm"}),c.jsx("span",{className:`block truncate ${s===g.code?"font-semibold text-indigo-600 dark:text-indigo-400":"text-gray-700 dark:text-gray-200"}`,children:g.name}),s===g.code&&c.jsx("span",{className:"ml-auto text-indigo-600 dark:text-indigo-400",children:""})]})},g.code))})})]})};class iN{log(t,s,...i){if(t==="error"){const u=`[${new Date().toISOString()}] [${t.toUpperCase()}]`;switch(t){case"info":console.log(u,s,...i);break;case"warn":console.warn(u,s,...i);break;case"error":console.error(u,s,...i);break}}}info(t,...s){this.log("info",t,...s)}warn(t,...s){this.log("warn",t,...s)}error(t,...s){this.log("error",t,...s)}debug(t,...s){this.log("debug",t,...s)}}const An=new iN,Dr={initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3,ease:"easeInOut"}},eh={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"}},rN=({details:a,onConfirm:t,onClose:s})=>{const{countriesWithLatestRates:i}=io();i.find(y=>y.code===a.fromCountryCode),i.find(y=>y.code===a.toCountryCode);const l={hidden:{opacity:0},visible:{opacity:1}},u={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}},d=({label:y,value:b,isBold:x=!1})=>c.jsxs("div",{className:"flex justify-between items-center py-3",children:[c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:y}),c.jsx("span",{className:`text-sm text-gray-800 dark:text-white ${x?"font-bold":"font-medium"}`,children:b})]}),[m,g]=qh.useState(!1),p=async()=>{m||(g(!0),await t(),g(!1))};return c.jsx(Be.div,{variants:l,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs(Be.div,{variants:u,onClick:y=>y.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 dark:border-slate-700",children:[c.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Confirmar Envo"}),c.jsx("button",{onClick:s,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(rc,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-4 rounded-xl flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(un,{countryCode:a.fromCountryCode,className:"w-6 h-auto rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Envas"}),c.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:[parseFloat(a.amount).toLocaleString("en-US",{minimumFractionDigits:2})," ",a.fromCurrency]})]})]}),c.jsx(Df,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),c.jsxs("div",{className:"flex items-center gap-2 text-right",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Reciben"}),c.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:[a.receivedAmount.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.receivedCurrency]})]}),c.jsx(un,{countryCode:a.toCountryCode,className:"w-6 h-auto rounded-full"})]})]}),c.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[c.jsx(d,{label:"Comisin",value:`${a.fee.toFixed(2)} ${a.fromCurrency}`}),c.jsx(d,{label:"Total a pagar",value:`${a.total.toFixed(2)} ${a.fromCurrency}`})]})]}),c.jsxs("footer",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center gap-4 rounded-b-2xl",children:[c.jsx("button",{onClick:s,disabled:m,className:"text-gray-600 dark:text-gray-300 font-medium py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),c.jsx("button",{onClick:()=>{An.debug("Confirmar clicked"),p()},disabled:m,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:m?"Procesando...":"Confirmar y Continuar"})]})]},"modal")},"backdrop")},Rv=A.forwardRef(({user:a,setActiveScreen:t,prefillData:s,onClearPrefill:i},l)=>{const{countriesWithLatestRates:u,isLoading:d,getRate:m}=io(),[g,p]=A.useState(1),[y,b]=A.useState(!1),[x,w]=A.useState(""),[_,E]=A.useState(""),[S,k]=A.useState(""),[O,R]=A.useState(!1),z=A.useRef(null),[V,M]=A.useState(""),[q,X]=A.useState(""),[Q,he]=A.useState(""),[xe,ze]=A.useState(""),[xt,Ye]=A.useState(!1),[Tt,F]=A.useState(!1),[K,J]=A.useState({}),[we,pe]=A.useState(null),[N,$]=A.useState(null),[G,W]=A.useState(!1),[ie,ce]=A.useState(null),[_e,Ke]=A.useState(""),Ce=()=>{if(p(1),u.length>0){const te=u.find(Z=>Z.code==="US")||u[0],oe=u.find(Z=>Z.code==="VE")||u[1]||u[0];E(te.code),k(oe.code)}M(""),X(""),he(""),ze(""),$(null),ce(null),Ke(""),J({}),R(!1),b(!1),pe(null),i(),setTimeout(()=>{z.current?.focus(),z.current?.select()},50)};A.useEffect(()=>{if(u.length>0&&!_&&!S){const te=u.find(Z=>Z.code==="US")||u[0],oe=u.find(Z=>Z.code==="VE")||u[1]||u[0];E(te.code),k(oe.code),w(String(te.minimumSendAmount*2))}},[u,_,S]),A.useEffect(()=>{if(s){if(k(s.country_code),M(s.name),X(s.bank),he(s.account_number),ze(s.document_id),Ye(!1),!_){const te=u.find(oe=>oe.code==="US")||u[0];E(te.code)}p(1),setTimeout(()=>{z.current?.focus(),z.current?.select()},100),i()}},[s,i,u,_]),A.useEffect(()=>{if(!_||u.length===0||s)return;const te=u.find(oe=>oe.code===_);if(te)if(te.currency==="USD")w("100");else{const oe=100*te.exchangeRateToUSD;let Z;oe>1e4?Z=Math.round(oe/1e3)*1e3:oe>100?Z=Math.round(oe/10)*10:Z=Math.round(oe),w(String(Z))}},[_,u,s]);const wt=te=>parseFloat(te.replace(/,/g,""))||0,sa=te=>{const Z=te.replace(/[^\d.]/g,"").split(".");return Z[0]=Z[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),Z.slice(0,2).join(".")},za=A.useMemo(()=>{const te=wt(x);if(!_||!S||te<=0)return{fee:0,total:0,fromCurrency:"",receivedAmount:0,receivedCurrency:"",exchangeRateText:"",arrivalTime:""};const oe=u.find(ia=>ia.code===_),Z=u.find(ia=>ia.code===S);if(!oe||!Z)return null;const Xe=te*Jr,ut=te+Xe,Mn=(oe.currency==="USD"?te:te/oe.exchangeRateToUSD)*Z.exchangeRateToUSD,Un=m(oe.currency,Z.currency,!0),Wt=`1 ${oe.currency}  ${Un.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})} ${Z.currency}`,hn=Z.region==="LatAm"?"Instantneo":"2 das hbiles";return{fee:Xe,total:ut,fromCurrency:oe.currency,receivedAmount:Mn,receivedCurrency:Z.currency,exchangeRateText:Wt,arrivalTime:hn}},[_,S,x,u,m]),Sn=te=>{const{name:oe,value:Z}=te.target;switch(oe){case"amount":w(sa(Z)),K.amount&&J(Xe=>({...Xe,amount:void 0}));break;case"recipientName":M(Z),K.recipientName&&J(Xe=>({...Xe,recipientName:void 0}));break;case"recipientBank":X(Z),K.recipientBank&&J(Xe=>({...Xe,recipientBank:void 0}));break;case"recipientAccount":he(Z),K.recipientAccount&&J(Xe=>({...Xe,recipientAccount:void 0}));break;case"recipientId":ze(Z),K.recipientId&&J(Xe=>({...Xe,recipientId:void 0}));break}},{fee:kt=0,total:dn=0,fromCurrency:Lt="USD",receivedAmount:ws=0,receivedCurrency:js="USD",exchangeRateText:Di="",arrivalTime:Mi=""}=za||{},Va=(te,oe)=>{if(!oe||oe.trim()==="")switch(te){case"recipientName":return"Nombre es requerido";case"recipientAccount":return"Cuenta es requerida";case"recipientId":return"Documento es requerido";default:return}},lc=()=>{if(!x||parseFloat(x)<=0){J(te=>({...te,amount:"Monto invlido"}));return}p(2)},cc=async()=>{if(N){W(!0);try{const{data:{session:te}}=await be.auth.getSession();if(!te)throw new Error("No hay sesin activa");const oe=new FormData;oe.append("file",N);const Z=await fetch("http://localhost:3001/api/upload",{method:"POST",headers:{Authorization:`Bearer ${te.access_token}`},body:oe});if(!Z.ok){const ut=await Z.json().catch(()=>({}));throw new Error(ut.error||"Error uploading file")}const Xe=await Z.json();ce(Xe.publicUrl),p(4),b(!0)}catch(te){console.error("Upload error:",te),alert("Error subiendo comprobante: "+(te.message||"Error desconocido"))}finally{W(!1)}}},At=async()=>{An.info("handleConfirmSend called"),F(!0),pe(null);try{An.debug("Getting session...");const{data:{session:te}}=await be.auth.getSession();if(An.debug("Session:",te?"Found":"Not found"),!te)throw new Error("No hay sesin activa");An.info("Sending request to backend...");const oe=await fetch("http://localhost:3001/api/remittances/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te.access_token}`},body:JSON.stringify({userId:a.id,amountSent:x,currencySent:Lt,amountReceived:ws,currencyReceived:js,fee:kt,fromCountryCode:_,toCountryCode:S,recipientName:V,recipientBank:q,recipientAccount:Q,recipientId:xe,receiptUrl:ie})});if(An.debug("Response status:",oe.status),!oe.ok){const Xe=await oe.json().catch(()=>({}));console.error("Error response:",Xe);const ut=Xe.message||Xe.error||"Error al enviar la remesa";throw alert(ut),new Error(ut)}const Z=await oe.json();An.info("Success! Transaction ID:",Z.transaction_id),Ke(Z.transaction_id),b(!1),p(5)}catch(te){console.error("handleConfirmSend error:",te);const oe=te instanceof Error?te.message:"Error inesperado";pe(oe),oe.includes("mnimo")||(b(!1),p(6))}finally{An.debug("handleConfirmSend finished"),F(!1)}},uc=()=>{const te=_;E(S),k(te),w("")},Ui=te=>oe=>{te(oe),setTimeout(()=>z.current?.focus(),50)},Pi=()=>{Ce()};if(A.useImperativeHandle(l,()=>({resetCalculator:Ce})),u.length===0||d)return c.jsx(xn,{children:c.jsxs("div",{className:"text-center p-8 text-gray-500 dark:text-gray-400",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4"}),"Cargando tasas de cambio..."]})});const Ss=()=>{const te=["VE","BR","CO","PE","US"],oe=u.filter(Z=>te.includes(Z.code)||Z.region==="Europe");return c.jsxs(Be.div,{...Dr,children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Enviar Remesa"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Calcula y enva dinero de forma rpida y segura."}),c.jsx(sN,{}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-center gap-4",children:[c.jsx(Ov,{label:"Desde",countries:oe,selectedCode:_,onSelect:Ui(E)}),c.jsx("button",{onClick:uc,className:"mt-6 bg-gray-200 dark:bg-gray-600 p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-500 transition-transform duration-300 hover:rotate-180",children:c.jsx(nN,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),c.jsx(Ov,{label:"Hacia",countries:u.filter(Z=>Z.code!==_),selectedCode:S,onSelect:Ui(k)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"T envas"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:z,type:"text",inputMode:"decimal",id:"amount",name:"amount",value:x,onChange:Sn,className:`w-full bg-gray-100 dark:bg-gray-700/60 border rounded-lg py-3 pl-4 pr-16 text-gray-800 dark:text-white text-lg font-semibold transition-colors ${K.amount?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"0.00"}),c.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-gray-400 font-semibold",children:Lt})]}),K.amount&&c.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:K.amount})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900/50 p-4 rounded-lg space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:["Comisin (",Jr*100,"%)"]}),c.jsxs(Be.span,{...eh,className:"font-medium text-gray-800 dark:text-white",children:[kt.toFixed(2)," ",Lt]},`fee-${kt}`)]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:"Tasa de cambio:"}),c.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:Di})]}),c.jsx("hr",{className:"border-gray-300 dark:border-gray-700 my-2"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-bold",children:"Receptor recibe:"}),c.jsxs(Be.span,{...eh,className:"font-bold text-green-600 dark:text-green-400 text-xl",children:[ws.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," ",js]},`received-${ws}`)]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-bold",children:"Total a pagar:"}),c.jsxs(Be.span,{...eh,className:"font-bold text-gray-900 dark:text-white text-lg",children:[dn.toFixed(2)," ",Lt]},`total-${dn}`)]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 text-xs text-gray-500 dark:text-gray-400",children:[c.jsx(aN,{className:"w-4 h-4"}),c.jsxs("span",{children:["Llegada estimada: ",c.jsx("span",{className:"font-semibold",children:Mi})]})]})]}),c.jsx("button",{onClick:lc,disabled:!!K.amount||wt(x)<=0||wt(x)<(u.find(Z=>Z.code===_)?.minimumSendAmount||0),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-4 rounded-lg transition-colors duration-300 text-lg disabled:bg-gray-400 dark:disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Continuar con el Envo"}),wt(x)>0&&wt(x)<(u.find(Z=>Z.code===_)?.minimumSendAmount||0)&&c.jsxs("p",{className:"text-red-500 text-sm mt-2 text-center font-medium",children:[" El monto mnimo para ",u.find(Z=>Z.code===_)?.name," es ",u.find(Z=>Z.code===_)?.minimumSendAmount.toLocaleString()," ",Lt]}),O&&c.jsxs("div",{className:"mt-4 p-4 rounded-lg bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 text-sm flex items-center gap-4",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:"Verificacin Requerida"}),c.jsx("p",{children:"Debes verificar tu perfil para poder enviar dinero."})]}),c.jsx("button",{onClick:()=>t(Ne.Profile),className:"ml-auto bg-indigo-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-indigo-700 text-xs flex-shrink-0",children:"Verificar Ahora"})]})]})]},"step1")},dc=()=>{const oe=u.find(ut=>ut.code===S)?.banks||[],Z=V&&q&&Q&&xe,Xe=ut=>{ut.preventDefault();const Bi=Va("recipientName",V),Mn=Va("recipientAccount",Q),Un=Va("recipientId",xe),Wt={};Bi&&(Wt.recipientName=Bi),Mn&&(Wt.recipientAccount=Mn),Un&&(Wt.recipientId=Un),J(hn=>({...hn,...Wt})),!(Object.keys(Wt).length>0)&&Z&&p(3)};return c.jsxs(Be.form,{...Dr,onSubmit:Xe,children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("button",{type:"button",onClick:()=>p(1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white p-1 rounded-full",children:c.jsx(Lh,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Datos del Beneficiario"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Ingresa la informacin de la persona que recibir el dinero."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"recipientName",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"recipientName",id:"recipientName",value:V,onChange:Sn,required:!0,className:`mt-1 block w-full bg-gray-100 dark:bg-gray-700 border rounded-md shadow-sm py-2 px-3 transition-colors ${K.recipientName?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`}),K.recipientName&&c.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:K.recipientName})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"recipientBank",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Banco del Beneficiario"}),c.jsxs("select",{name:"recipientBank",id:"recipientBank",value:q,onChange:Sn,required:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3",children:[c.jsx("option",{value:"",disabled:!0,children:"Selecciona un banco"}),oe.map(ut=>c.jsx("option",{value:ut.name,children:ut.name},ut.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"recipientAccount",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nmero de Cuenta"}),c.jsx("input",{type:"text",name:"recipientAccount",id:"recipientAccount",value:Q,onChange:Sn,required:!0,className:`mt-1 block w-full bg-gray-100 dark:bg-gray-700 border rounded-md shadow-sm py-2 px-3 transition-colors ${K.recipientAccount?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`}),K.recipientAccount&&c.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:K.recipientAccount})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"recipientId",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Documento de Identidad"}),c.jsx("input",{type:"text",name:"recipientId",id:"recipientId",value:xe,onChange:Sn,required:!0,className:`mt-1 block w-full bg-gray-100 dark:bg-gray-700 border rounded-md shadow-sm py-2 px-3 transition-colors ${K.recipientId?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`}),K.recipientId&&c.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:K.recipientId})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"saveBeneficiary",checked:xt,onChange:ut=>Ye(ut.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"saveBeneficiary",className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:"Guardar beneficiario"})]}),c.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:"Continuar al Pago"})]})]},"step2")},Li=()=>c.jsxs(Be.div,{...Dr,children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("button",{type:"button",onClick:()=>p(2),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white p-1 rounded-full",children:c.jsx(Lh,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Instrucciones de Pago"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Realiza el depsito a la siguiente cuenta y sube el comprobante."}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-6 border border-blue-100 dark:border-blue-800",children:[c.jsx("h3",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"Cuenta Bancaria (BCP)"}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Titular: ",c.jsx("span",{className:"font-semibold",children:"Remesas A&M SAC"})]}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Cuenta: ",c.jsx("span",{className:"font-mono font-semibold",children:"193-12345678-0-01"})]}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["CCI: ",c.jsx("span",{className:"font-mono font-semibold",children:"002-193-0012345678001-14"})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-800",children:c.jsxs("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:["Monto a pagar: ",dn.toFixed(2)," ",Lt]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Subir Comprobante"}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-indigo-500 transition-colors cursor-pointer relative",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:te=>$(te.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),N?c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 font-medium",children:[c.jsx(bs,{className:"w-5 h-5"}),N.name]}):c.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[c.jsx("p",{children:"Haz clic para subir o arrastra la imagen aqu"}),c.jsx("p",{className:"text-xs mt-1",children:"(JPG, PNG)"})]})]})]}),c.jsx("button",{onClick:cc,disabled:!N||G,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:G?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Subiendo..."]}):"Subir y Confirmar"})]})]},"step3"),hc=()=>c.jsxs(Be.div,{...Dr,className:"text-center p-8",children:[c.jsx(bs,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Envo exitoso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Tu transaccin ha sido enviada a verificacin."}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-semibold",children:["ID: ",_e]}),c.jsx("button",{onClick:Pi,className:"mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg",children:"Enviar otra remesa"})]},"step5"),fc=()=>c.jsxs(Be.div,{...Dr,className:"text-center p-8",children:[c.jsx(Ll,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Error al enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Hubo un problema al procesar tu envo."}),c.jsx("p",{className:"text-gray-800 dark:text-gray-200 font-semibold",children:we}),c.jsx("button",{onClick:Pi,className:"mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg",children:"Intentar de nuevo"})]},"step6"),qa=()=>{switch(g){case 1:return Ss();case 2:return dc();case 3:return Li();case 4:return Li();case 5:return hc();case 6:return fc();default:return null}};return c.jsxs(xn,{children:[c.jsx(wn,{mode:"wait",children:qa()}),y&&c.jsx(rN,{details:{amount:x,fee:kt,total:dn,fromCurrency:Lt,receivedAmount:ws,receivedCurrency:js,fromCountryCode:_,toCountryCode:S},onConfirm:At,onClose:()=>b(!1)})]})}),oN=a=>{switch(a){case"WLD":return"WLD";case"PAYPAL":return"USD";case"USDC":return"USDC";default:return""}},lN=()=>{const[a,t]=A.useState("WLD"),[s,i]=A.useState(""),[l,u]=A.useState(!1),d=parseFloat(s)||0;let m=0,g=0,p="";d<0?p="La cantidad no puede ser negativa.":a==="WLD"?(d>0&&d<Dh&&(p=`Mnimo de ${Dh} WLD.`),m=d*.1,g=d-m):a==="PAYPAL"?(m=d*Rh,g=d-m):a==="USDC"&&(d>0&&d<Mh&&(p=`Mnimo de ${Mh} USDC.`),m=d*Uh,g=d-m);const y=async()=>{p||d<=0||(u(!0),await new Promise(x=>setTimeout(x,1500)),console.log("Intercambio enviado por",d,a),u(!1))},b=oN(a);return c.jsxs(xn,{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Intercambiar Crypto y Saldo"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Convierte tus activos digitales a moneda local."}),c.jsxs("div",{className:"grid grid-cols-3 bg-gray-200 dark:bg-gray-700/80 p-1 rounded-lg mb-6",children:[c.jsx("button",{onClick:()=>{t("WLD"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="WLD"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"Worldcoin (WLD)"}),c.jsx("button",{onClick:()=>{t("PAYPAL"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="PAYPAL"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"PayPal"}),c.jsx("button",{onClick:()=>{t("USDC"),i("")},className:`flex-1 p-2 rounded-md font-semibold text-sm transition-colors ${a==="USDC"?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:"USDC"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"crypto-amount",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Cantidad a intercambiar"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",id:"crypto-amount",value:s,onChange:x=>i(x.target.value),className:`w-full bg-gray-100 dark:bg-gray-700 border rounded-md py-3 pl-4 pr-16 text-gray-800 dark:text-white text-lg font-semibold transition-colors ${p?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500"}`,placeholder:"0.00"}),c.jsx("span",{className:"absolute inset-y-0 right-4 flex items-center text-gray-500 dark:text-gray-400 font-bold",children:b})]}),p&&c.jsx("p",{className:"text-red-500 dark:text-red-400 text-xs mt-1",children:p})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900/50 p-4 rounded-lg space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Comisin:"}),c.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[m>0?m.toFixed(2):"0.00"," ",a==="PAYPAL"?"USD":b]})]}),c.jsx("hr",{className:"border-gray-300 dark:border-gray-700"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:"Recibirs (aprox):"}),c.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400 text-xl",children:[g>0?g.toFixed(2):"0.00"," USD"]})]})]}),c.jsx("button",{onClick:y,disabled:!!p||d<=0||l,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-4 rounded-lg transition-colors duration-300 text-lg disabled:bg-green-400 dark:disabled:bg-green-800/50 disabled:cursor-wait flex items-center justify-center",children:l?c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-6 h-6 mr-3"}),c.jsx("span",{children:"Procesando..."})]}):"Iniciar Intercambio"}),c.jsx("p",{className:"text-center text-xs text-gray-400 dark:text-gray-500",children:a==="WLD"?"La tasa de cambio WLD a USD es variable.":a==="PAYPAL"?`La comisin de PayPal es del ${Rh*100}%.`:`La comisin de USDC es del ${Uh*100}%.`})]})]})},pw=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),cN=({className:a})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),uN=({onCapture:a,onClose:t})=>{const[s,i]=A.useState(null),[l,u]=A.useState(null),d=A.useRef(null),m=A.useRef(null);A.useEffect(()=>{let p=null;return(async()=>{try{navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}),i(p),d.current&&(d.current.srcObject=p)):u("Tu navegador no soporta el acceso a la cmara.")}catch(b){console.error("Error accessing camera:",b),u("No se pudo acceder a la cmara. Revisa los permisos.")}})(),()=>{p&&p.getTracks().forEach(b=>b.stop())}},[]);const g=()=>{if(!d.current||!m.current||!s)return;const p=d.current,y=m.current;y.width=p.videoWidth,y.height=p.videoHeight;const b=y.getContext("2d");b&&(b.drawImage(p,0,0,y.width,y.height),y.toBlob(x=>{if(x){const w=new File([x],`capture-${Date.now()}.jpg`,{type:"image/jpeg"});a(w),t()}},"image/jpeg"))};return c.jsx(wn,{children:c.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:t,children:c.jsxs(Be.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-xl overflow-hidden",onClick:p=>p.stopPropagation(),children:[c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Capturar Foto"})}),c.jsxs("div",{className:"p-4",children:[l?c.jsxs("div",{className:"text-center text-red-500 bg-red-100 dark:bg-red-900/50 p-4 rounded-lg",children:[c.jsx("p",{className:"font-bold",children:"Error de Cmara"}),c.jsx("p",{children:l})]}):c.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-lg overflow-hidden",children:[c.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),!s&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:c.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-t-white border-gray-400/50 animate-spin"})})]}),c.jsx("canvas",{ref:m,style:{display:"none"}})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center gap-4",children:[c.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-300 font-medium py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:g,disabled:!s||!!l,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Capturar"})]})]})})})},dN=a=>{const t="Ocurri un error inesperado. Revisa la calidad de tus imgenes y tu conexin e intntalo de nuevo.";if(!a)return t;if(typeof a=="string")return a;if(a instanceof Error)return a.message;if(typeof a=="object"){const s=a;if(s.response?.data?.error?.message)return s.response.data.error.message;if(s.error?.message)return s.error.message;if(s.message)return String(s.message)}try{const s=JSON.stringify(a);if(s!=="{}")return s}catch{}return t},hN=({user:a,onProfileUpdate:t})=>{const[s,i]=A.useState(0),[l,u]=A.useState({fullName:a.fullName||"",country:Ze[0].code,documentId:"",address:"",phone:a.phone||""}),[d,m]=A.useState({id:null,address:null,selfie:null}),[g,p]=A.useState({id:null,address:null,selfie:null}),[y,b]=A.useState(null),[x,w]=A.useState(!1),[_,E]=A.useState(!1),[S,k]=A.useState(a.phone||""),[O,R]=A.useState(!1),[z,V]=A.useState(null),[M,q]=A.useState(null),[X,Q]=A.useState("not_started"),[he,xe]=A.useState(null);A.useEffect(()=>{ze()},[a.id]),A.useEffect(()=>{xt()},[a.isVerified,a.id]);const ze=async()=>{try{const G=await fetch(`http://localhost:3001/api/kyc/status/${a.id}`);if(!G.ok){console.error("Error fetching verification status");return}const W=await G.json();W.status&&W.status!=="not_started"&&(xe(W),Q(W.status))}catch(G){console.error("Error fetching verification status:",G)}},xt=async()=>{if(a.isVerified)try{const G=await fetch(`http://localhost:3001/api/kyc/status/${a.id}`);if(!G.ok)throw new Error("Error fetching country");const W=await G.json();if(W.status&&W.status!=="not_started"){const ie=Ze.find(ce=>ce.code===W.country)?.name;q(ie||W.country||"No disponible")}}catch(G){console.error("Error fetching user country:",G),q("No disponible")}},Ye=G=>{const{name:W,value:ie}=G.target;u(ce=>({...ce,[W]:ie}))},Tt=G=>{u(W=>({...W,phone:G}))},F=G=>{G.preventDefault(),i(2)},K=(G,W,ie)=>{m(ce=>({...ce,[G]:W})),p(ce=>({...ce,[G]:ie}))},J=G=>{m(W=>({...W,[G]:null})),p(W=>({...W,[G]:null}))},we=async()=>{R(!0),V(null);try{await t({phone:S}),V({type:"success",text:"Guardado!"}),setTimeout(()=>V(null),3e3),E(!1)}catch{V({type:"error",text:"Error al guardar."})}finally{R(!1)}},pe=async()=>{if(b(null),i(3),!g.id||!g.address||!g.selfie){b("Por favor, sube todos los documentos requeridos."),i(2);return}try{const G=async(wt,sa)=>{const za=wt.name.split(".").pop(),Sn=`${Math.random().toString(36).substring(2,15)}.${za}`,kt=`${a.id}/${sa}/${Sn}`,{error:dn}=await be.storage.from("user-documents").upload(kt,wt,{cacheControl:"3600",upsert:!1});if(dn)throw dn;const{data:{publicUrl:Lt}}=be.storage.from("user-documents").getPublicUrl(kt);return Lt},[W,ie,ce]=await Promise.all([G(g.id,"id"),G(g.address,"address"),G(g.selfie,"selfie")]),{data:{session:_e}}=await be.auth.getSession();if(!_e)throw new Error("No hay sesin activa");const Ke=await fetch("http://localhost:3001/api/kyc/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e.access_token}`},body:JSON.stringify({fullName:l.fullName,country:l.country,documentId:l.documentId,address:l.address,phone:l.phone,docUrls:{id:W,address:ie,selfie:ce}})});if(!Ke.ok){const wt=await Ke.json();throw new Error(wt.message||"Error en la verificacin")}const Ce=await Ke.json();Ce.status==="approved"?(await t({isVerified:!0,phone:l.phone,fullName:l.fullName}),An.info(" Auto-approved by AI with confidence:",Ce.aiConfidence),Q("approved")):(An.info(" Sent to manual review. Confidence:",Ce.aiConfidence),Q("pending"),xe({status:"pending",created_at:new Date().toISOString(),ai_confidence:Ce.aiConfidence}),await t({phone:l.phone,fullName:l.fullName}),i(0))}catch(G){console.error("KYC Verification Error:",G);const W=dN(G),ie=W.toLowerCase();ie.includes("api key")||ie.includes("authentication")?(b("El servicio de verificacin no est disponible por un problema de configuracin. Por favor, contacta al soporte."),w(!0)):b(W),i(2)}},N=()=>{if(a.isVerified)return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Mi Perfil"}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Dv,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Informacin Personal"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nombre Completo"}),c.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:a.fullName})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Correo Electrnico"}),c.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:a.email})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nmero de Telfono"}),_?c.jsxs("div",{className:"mt-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ph,{value:S,onChange:k,className:"flex-grow bg-gray-100 dark:bg-slate-900 border-gray-200 dark:border-slate-700 rounded-lg"}),c.jsx("button",{onClick:we,disabled:O||S===(a.phone||""),className:"flex-shrink-0 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 px-3 py-2 rounded-md disabled:bg-indigo-400 disabled:cursor-wait flex items-center justify-center w-20",children:O?c.jsx(Dn,{className:"w-4 h-4"}):"Guardar"}),c.jsx("button",{onClick:()=>{E(!1),k(a.phone||""),V(null)},className:"flex-shrink-0 text-sm font-medium text-gray-600 hover:text-gray-800 px-3 py-2 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-gray-300 dark:hover:text-white",children:"Cancelar"})]}),z&&c.jsx("div",{className:"text-right mt-1",children:c.jsx("p",{className:`text-xs ${z.type==="success"?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400"}`,children:z.text})})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:S||"No establecido"}),c.jsx("button",{onClick:()=>E(!0),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Editar"})]})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Pas de Residencia"}),c.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:M||"Cargando..."})]})]})]})]});switch(s){case 0:return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Mi Perfil"}),c.jsx(Dv,{onStart:()=>i(1),status:X,data:he})]});case 1:return c.jsxs("form",{onSubmit:F,children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Verificacin - Paso 1/2"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Ingresa tu informacin personal."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"fullName",id:"fullName",value:l.fullName,onChange:Ye,required:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-slate-900 border-transparent rounded-lg py-3 px-4 focus:ring-2 focus:ring-indigo-600 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pas de Residencia"}),c.jsx("select",{name:"country",id:"country",value:l.country,onChange:Ye,required:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-slate-900 border-transparent rounded-lg py-3 px-4 focus:ring-2 focus:ring-indigo-600 focus:border-transparent",children:Ze.map(G=>c.jsx("option",{value:G.code,children:G.name},G.code))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"documentId",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Documento de Identidad (ID)"}),c.jsx("input",{type:"text",name:"documentId",id:"documentId",value:l.documentId,onChange:Ye,required:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-slate-900 border-transparent rounded-lg py-3 px-4 focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:"Escribe el nmero tal como aparece"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Direccin"}),c.jsx("input",{type:"text",name:"address",id:"address",value:l.address,onChange:Ye,required:!0,className:"mt-1 block w-full bg-gray-100 dark:bg-slate-900 border-transparent rounded-lg py-3 px-4 focus:ring-2 focus:ring-indigo-600 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1",children:"Nmero de Telfono"}),c.jsx(Ph,{value:l.phone,onChange:Tt,className:"bg-gray-100 dark:bg-slate-900 border-transparent rounded-lg focus-within:ring-2 focus-within:ring-indigo-600 focus-within:border-transparent",required:!0})]}),c.jsx("button",{type:"submit",disabled:!l.documentId||!l.address||!l.fullName||!l.phone,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Continuar"})]})]});case 2:return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("button",{onClick:()=>i(1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white p-1 rounded-full",children:c.jsx(Lh,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Verificacin - Paso 2/2"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Carga tus documentos para confirmar tu identidad."}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(th,{title:"Documento de Identidad",description:"Sube o toma una foto clara de tu DNI o pasaporte.",tooltipText:"Asegrate de que la foto tenga buena iluminacin, sin brillos, y que todo el texto y la foto sean claramente visibles.",userId:a.id,isUploaded:!!d.id,onUploadSuccess:(G,W)=>K("id",G,W),onRemove:()=>J("id")}),c.jsx(th,{title:"Comprobante de Domicilio",description:"Una factura de servicio o estado de cuenta reciente.",tooltipText:"Debe ser un documento reciente (ltimos 3 meses) donde tu nombre y direccin sean legibles. Sube el documento completo, no solo una parte.",userId:a.id,isUploaded:!!d.address,onUploadSuccess:(G,W)=>K("address",G,W),onRemove:()=>J("address")}),c.jsx(th,{title:"Selfie",description:"Toma una foto clara de tu rostro.",tooltipText:"Tmate la foto en un lugar bien iluminado, sin gafas ni sombreros. Tu rostro debe estar centrado y completamente visible.",userId:a.id,isUploaded:!!d.selfie,onUploadSuccess:(G,W)=>K("selfie",G,W),onRemove:()=>J("selfie")}),y&&c.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 rounded-md text-sm text-red-700 dark:text-red-300 text-center",children:[c.jsx("strong",{children:"Error de Verificacin:"})," ",y]}),c.jsx("button",{onClick:pe,disabled:!d.id||!d.address||!d.selfie||x,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Enviar Verificacin"})]})]});case 3:return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),c.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Verificando con IA"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Analizando documentos y biometra... Esto puede tardar un momento."})]})}},$=a.isVerified?"border-purple-500/50 bg-gradient-to-br from-white to-purple-50 dark:from-gray-800 dark:to-purple-900/20":"";return c.jsx(xn,{className:$,children:N()})},Dv=({onStart:a,status:t,data:s})=>{const i=!a,l=t==="pending",u=t==="rejected",d=i?"bg-green-100 dark:bg-green-900/50":l?"bg-blue-100 dark:bg-blue-900/50":u?"bg-red-100 dark:bg-red-900/50":"bg-yellow-100 dark:bg-yellow-900/50",m=i?"bg-green-200 dark:bg-green-800":l?"bg-blue-200 dark:bg-blue-800":u?"bg-red-200 dark:bg-red-800":"bg-yellow-200 dark:bg-yellow-800",g=i?"text-green-800 dark:text-green-300":l?"text-blue-800 dark:text-blue-300":u?"text-red-800 dark:text-red-300":"text-yellow-800 dark:text-yellow-300",p=i?"text-green-600 dark:text-green-400":l?"text-blue-600 dark:text-blue-400":u?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400",y=i?c.jsx(bs,{className:"w-8 h-8 text-green-600 dark:text-green-400"}):l?c.jsx(Dn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}):u?c.jsx("span",{className:"text-2xl",children:""}):c.jsx("span",{className:"text-2xl",children:""}),b=i?"Identidad Verificada":l?"Verificacin en Revisin":u?"Verificacin Rechazada":"Verificacin Requerida",x=i?"Puedes realizar transacciones sin lmites.":l?`Tu verificacin est siendo revisada. Te notificaremos cuando est lista.${s?.ai_confidence?` (Confianza IA: ${(s.ai_confidence*100).toFixed(0)}%)`:""}`:u?"Tu verificacin fue rechazada. Por favor, intenta de nuevo con documentos vlidos.":"Completa la verificacin para enviar dinero.";return c.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-4 ${d}`,children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${m}`,children:y}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:`font-bold ${g}`,children:b}),c.jsx("p",{className:`text-sm ${p}`,children:x})]}),!i&&!l&&c.jsx("button",{onClick:a,className:"ml-auto bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:u?"Intentar de Nuevo":"Verificar Ahora"})]})},th=({title:a,description:t,tooltipText:s,userId:i,isUploaded:l,onUploadSuccess:u,onRemove:d})=>{const[m,g]=A.useState(!1),[p,y]=A.useState(null),[b,x]=A.useState(!1),w=A.useRef(null),_=async R=>{if(!R)return;y(null),g(!0);let z="";try{const V=R.name.split(".").pop(),q=`${a.toLowerCase().includes("identidad")?"id-document":a.toLowerCase().includes("domicilio")?"address-proof":"selfie"}-${Date.now()}.${V}`;z=`${i}/${q}`;const{error:X}=await be.storage.from("user-documents").upload(z,R,{upsert:!1});if(X)throw X;const{data:Q}=be.storage.from("user-documents").getPublicUrl(z);u(Q.publicUrl,R)}catch(V){const M=V;console.error("Error durante la carga:",M),y(M.message||"Error al procesar el archivo. Intenta de nuevo."),z&&be.storage.from("user-documents").remove([z]),d()}finally{g(!1),w.current&&(w.current.value="")}},E=()=>{!m&&!l&&w.current?.click()},S=m?"Subiendo...":l?"Documento cargado.":t,k=m?"text-blue-600 dark:text-blue-400":l?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",O=p?"border-red-500/50":l?"border-green-500/50":"border-gray-200 dark:border-gray-700";return c.jsxs("div",{className:`bg-gray-50 dark:bg-slate-800/50 border ${O} p-4 rounded-lg transition-colors`,children:[b&&c.jsx(uN,{onCapture:_,onClose:()=>x(!1)}),c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex-grow flex items-center gap-4",children:[c.jsx("div",{className:`flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-full transition-colors ${l?"bg-green-100 dark:bg-green-900/50":"bg-gray-100 dark:bg-slate-700"}`,children:c.jsx(pw,{className:`w-6 h-6 ${l?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:a}),c.jsxs("div",{className:"relative group flex items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-gray-800 dark:bg-slate-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10",children:[s,c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-x-8 border-x-transparent border-t-8 border-t-gray-800 dark:border-t-slate-900"})]})]}),l&&c.jsx(bs,{className:"w-5 h-5 text-green-500 dark:text-green-400"})]}),c.jsx("p",{className:`text-xs mt-1 ${k}`,children:S})]})]}),c.jsxs("div",{className:"flex-shrink-0 flex items-center justify-center gap-2",children:[c.jsx("input",{type:"file",ref:w,onChange:R=>_(R.target.files?R.target.files[0]:null),className:"hidden",accept:"image/png, image/jpeg, application/pdf"}),!l&&!m&&c.jsxs(c.Fragment,{children:[c.jsx("button",{title:"Tomar foto",onClick:()=>x(!0),className:"bg-gray-200 hover:bg-gray-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-gray-700 dark:text-gray-200 font-semibold p-3 rounded-lg transition-colors",children:c.jsx(cN,{className:"w-5 h-5"})}),c.jsx("button",{onClick:E,className:"bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cargar"})]}),m&&c.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-t-blue-600 border-gray-200 dark:border-gray-600 animate-spin"}),l&&c.jsx("button",{onClick:d,className:"bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:hover:bg-red-900 text-red-600 dark:text-red-300 text-sm font-semibold py-2 px-4 rounded-lg transition-colors",children:"Eliminar"})]})]}),p&&c.jsxs("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/30 rounded-md text-sm text-red-700 dark:text-red-300",children:[c.jsx("strong",{children:"Error:"})," ",p]})]})},fN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),mN=({title:a,children:t,onClose:s})=>{const i={hidden:{opacity:0},visible:{opacity:1}},l={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}};return c.jsx(Be.div,{variants:i,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"legal-modal-title",children:c.jsxs(Be.div,{variants:l,onClick:u=>u.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-2xl h-[90vh] flex flex-col shadow-2xl border border-gray-200 dark:border-slate-700",children:[c.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{id:"legal-modal-title",className:"text-lg font-bold text-gray-800 dark:text-white",children:a}),c.jsx("button",{onClick:s,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700","aria-label":"Cerrar",children:c.jsx(rc,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 p-6 overflow-y-auto text-gray-700 dark:text-gray-300",children:c.jsx("div",{className:"prose dark:prose-invert max-w-none",children:t})}),c.jsx("footer",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center rounded-b-2xl",children:c.jsx("button",{onClick:s,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cerrar"})})]},"legal-modal-content")},"legal-backdrop")},gN=()=>c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Poltica de Privacidad de Remesas A&M"}),c.jsx("p",{className:"mb-4",children:"En Remesas A&M, nos comprometemos a proteger la privacidad de nuestros usuarios. Esta poltica describe cmo recopilamos, utilizamos, divulgamos y protegemos su informacin personal cuando utiliza nuestra aplicacin de envo y recepcin de remesas internacionales y cambio de criptomonedas."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Informacin que Recopilamos"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Informacin de Registro:"})," Cuando se registra en nuestra aplicacin, recopilamos informacin como su nombre completo, direccin de correo electrnico, nmero de telfono y contrasea."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Informacin de Verificacin de Identidad (KYC):"})," Para cumplir con las regulaciones AML (Anti-Money Laundering) y KYC (Know Your Customer), podemos solicitar documentos de identidad (DNI, pasaporte), comprobantes de domicilio y una selfie para verificar su identidad."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Informacin de Transaccin:"})," Recopilamos detalles sobre las remesas que enva y recibe, incluyendo montos, monedas, datos del beneficiario (nombre, banco, nmero de cuenta, ID) y el pas de origen/destino."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Informacin Financiera:"})," Podemos recopilar informacin de sus mtodos de pago, como detalles de la cuenta bancaria o de carteras de criptomonedas, aunque nunca almacenamos directamente los datos completos de tarjetas de crdito."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Datos de Uso:"})," Recopilamos informacin sobre cmo interacta con nuestra aplicacin, incluyendo las pantallas visitadas, el tiempo de uso y los errores de la aplicacin."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Datos del Dispositivo:"})," Informacin sobre el dispositivo que utiliza para acceder a nuestra aplicacin, como el tipo de dispositivo, sistema operativo, identificadores nicos del dispositivo y datos de red mvil."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Cmo Utilizamos su Informacin"}),c.jsx("p",{className:"mb-4",children:"Utilizamos la informacin recopilada para los siguientes propsitos:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Procesar Transacciones:"})," Para ejecutar sus solicitudes de remesas y cambios de criptomonedas."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Verificacin de Identidad:"})," Para cumplir con las obligaciones legales y prevenir el fraude, el lavado de dinero y otras actividades ilcitas."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Mejorar el Servicio:"})," Para comprender cmo se utiliza nuestra aplicacin y realizar mejoras continuas en la funcionalidad y la experiencia del usuario."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Comunicacin:"})," Para enviarle notificaciones sobre sus transacciones, actualizaciones del servicio, informacin de seguridad y, si lo ha consentido, comunicaciones de marketing."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Soporte al Cliente:"})," Para responder a sus consultas y brindarle asistencia tcnica."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Seguridad:"})," Para proteger la seguridad e integridad de nuestros servicios, detectar y prevenir actividades fraudulentas o no autorizadas."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cumplimiento Legal:"})," Para cumplir con las leyes, regulaciones y solicitudes legales aplicables."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Divulgacin de su Informacin"}),c.jsx("p",{className:"mb-4",children:"Podemos compartir su informacin personal con terceros en las siguientes circunstancias:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Proveedores de Servicios:"})," Con socios que nos ayudan a operar nuestros servicios, como procesadores de pagos, proveedores de servicios de verificacin de identidad, servicios de alojamiento y anlisis de datos. Estos terceros estn obligados a proteger su informacin y utilizarla solo para los fines para los que fue divulgada."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Reguladores y Autoridades Legales:"})," Si estamos legalmente obligados a hacerlo, o si creemos de buena fe que dicha accin es necesaria para cumplir con una obligacin legal, proteger nuestros derechos o responder a un proceso legal."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Beneficiarios de Transacciones:"})," Para completar sus remesas, compartiremos la informacin necesaria con los bancos o servicios de pago del beneficiario."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Con su Consentimiento:"})," Podemos compartir su informacin con otros terceros si usted nos da su consentimiento expreso."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Seguridad de los Datos"}),c.jsx("p",{className:"mb-4",children:"Implementamos medidas de seguridad tcnicas, administrativas y fsicas para proteger su informacin personal contra el acceso no autorizado, la divulgacin, la alteracin o la destruccin. Esto incluye el cifrado de datos en trnsito y en reposo, el uso de autenticacin de dos factores y auditoras de seguridad peridicas."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Sus Derechos"}),c.jsx("p",{className:"mb-4",children:"Usted tiene ciertos derechos con respecto a su informacin personal, que pueden incluir:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsx("li",{children:"Acceder a su informacin personal."}),c.jsx("li",{children:"Rectificar informacin inexacta o incompleta."}),c.jsx("li",{children:"Solicitar la eliminacin de su informacin personal, sujeto a nuestras obligaciones legales."}),c.jsx("li",{children:"Oponerse al procesamiento de su informacin personal en ciertas circunstancias."})]}),c.jsx("p",{className:"mb-4",children:"Para ejercer estos derechos, contctenos utilizando la informacin proporcionada al final de esta poltica."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Cambios en esta Poltica de Privacidad"}),c.jsx("p",{className:"mb-4",children:"Podemos actualizar esta Poltica de Privacidad de vez en cuando para reflejar cambios en nuestras prcticas o requisitos legales. Le notificaremos cualquier cambio sustancial publicando la nueva poltica en nuestra aplicacin o sitio web."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"7. Contacto"}),c.jsxs("p",{className:"mb-4",children:["Si tiene preguntas o inquietudes sobre esta Poltica de Privacidad o nuestras prcticas de datos, puede contactarnos en:",c.jsx("br",{}),"Email: remesasamcambios@gmail.com",c.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),c.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),pN=()=>c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Trminos y Condiciones de Servicio de Remesas A&M"}),c.jsx("p",{className:"mb-4",children:"Bienvenido a Remesas A&M. Al acceder o utilizar nuestra aplicacin y servicios, usted acepta estar legalmente vinculado por estos Trminos y Condiciones, nuestra Poltica de Privacidad y nuestra Poltica de Cookies. Si no est de acuerdo con alguna parte de estos trminos, no debe utilizar nuestros servicios."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Descripcin del Servicio"}),c.jsx("p",{className:"mb-4",children:"Remesas A&M ofrece servicios de envo y recepcin de dinero a nivel internacional, as como servicios de intercambio de criptomonedas (Worldcoin, PayPal, USDC) entre pases de Amrica Latina, Estados Unidos y Europa. Nuestros servicios estn diseados para ser rpidos, seguros y eficientes."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Registro y Elegibilidad"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsx("li",{children:"Para utilizar nuestros servicios, debe registrarse y crear una cuenta. Debe tener al menos 18 aos de edad y ser legalmente capaz de celebrar contratos."}),c.jsx("li",{children:"Usted es responsable de mantener la confidencialidad de su informacin de inicio de sesin y de todas las actividades que ocurran bajo su cuenta."}),c.jsx("li",{children:"Nos reservamos el derecho de rechazar el registro o cancelar cuentas a nuestra discrecin."})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Verificacin de Identidad (KYC)"}),c.jsx("p",{className:"mb-4",children:'Para cumplir con las regulaciones contra el lavado de dinero (AML) y "Conozca a su Cliente" (KYC), es obligatorio que todos los usuarios completen un proceso de verificacin de identidad antes de poder enviar dinero. Este proceso puede incluir la presentacin de documentos de identidad, comprobantes de domicilio y una selfie. Nos reservamos el derecho de solicitar informacin adicional o realizar verificaciones adicionales en cualquier momento.'}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Transacciones y Comisiones"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Remesas Internacionales:"})," Aplicamos una comisin del 9% sobre el monto enviado. Los tiempos de procesamiento varan: instantneo para Amrica Latina y hasta 2 das hbiles para EE.UU. y Europa."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Intercambio PayPal:"})," Se aplica una comisin total del 6% (incluye envo y retiro)."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Intercambio Worldcoin (WLD):"})," Requiere un mnimo de 3 WLD. La comisin es variable y se mostrar claramente en la aplicacin antes de confirmar la transaccin."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Intercambio USDC:"})," Requiere un mnimo de 10 USDC. Se aplica una comisin del 5%."]}),c.jsx("li",{children:"Las tasas de cambio son dinmicas y se actualizan en tiempo real. La tasa final aplicable a su transaccin se le mostrar antes de su confirmacin."}),c.jsx("li",{children:"Usted es responsable de la exactitud de la informacin del beneficiario. No nos hacemos responsables por fondos enviados incorrectamente debido a datos errneos proporcionados por usted."})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Uso Prohibido"}),c.jsx("p",{className:"mb-4",children:"Usted acepta no utilizar nuestros servicios para ninguna actividad ilegal o fraudulenta, incluyendo, entre otros, lavado de dinero, financiacin del terrorismo, fraude, juegos de gambling ilegales o cualquier otra actividad que viole las leyes aplicables. Nos reservamos el derecho de suspender o cancelar su cuenta si sospechamos de dicho uso."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Limitacin de Responsabilidad"}),c.jsx("p",{className:"mb-4",children:"Remesas A&M no ser responsable por prdidas o daos, directos o indirectos, incidentales, especiales, punitivos o consecuenciales, que resulten del uso o la imposibilidad de usar nuestros servicios. En ningn caso nuestra responsabilidad total por cualquier reclamo que surja de estos trminos exceder el monto de las comisiones pagadas por usted en la transaccin en cuestin."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"7. Propiedad Intelectual"}),c.jsx("p",{className:"mb-4",children:"Todo el contenido y los materiales disponibles en la aplicacin Remesas A&M, incluyendo textos, grficos, logotipos, conos, imgenes y software, son propiedad de Remesas A&M o de sus licenciantes y estn protegidos por leyes de propiedad intelectual."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"8. Ley Aplicable y Jurisdiccin"}),c.jsx("p",{className:"mb-4",children:"Estos Trminos y Condiciones se regirn e interpretarn de acuerdo con las leyes del pas donde Remesas A&M tiene su sede principal, sin tener en cuenta sus disposiciones sobre conflictos de leyes. Usted acepta someterse a la jurisdiccin exclusiva de los tribunales de dicho pas para la resolucin de cualquier disputa."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"9. Cambios en los Trminos"}),c.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos Trminos y Condiciones en cualquier momento. Le notificaremos cualquier cambio sustancial publicando los trminos actualizados en nuestra aplicacin o sitio web. Su uso continuado de los servicios despus de dichos cambios constituye su aceptacin de los nuevos trminos."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"10. Contacto"}),c.jsxs("p",{className:"mb-4",children:["Si tiene alguna pregunta sobre estos Trminos y Condiciones, por favor contctenos en:",c.jsx("br",{}),"Email: remesasamcambios@gmail.com",c.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),c.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),yN=()=>c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Poltica de Cookies de Remesas A&M"}),c.jsx("p",{className:"mb-4",children:"Esta Poltica de Cookies explica cmo Remesas A&M utiliza cookies y tecnologas similares para reconocerle cuando visita nuestra aplicacin y sitio web. Explica qu son estas tecnologas y por qu las usamos, as como sus derechos para controlar su uso."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"1. Qu son las Cookies?"}),c.jsx("p",{className:"mb-4",children:"Las cookies son pequeos archivos de datos que se colocan en su ordenador o dispositivo mvil cuando visita un sitio web o utiliza una aplicacin. Las cookies son ampliamente utilizadas por los propietarios de sitios web y aplicaciones para hacer que sus servicios funcionen, o funcionen de manera ms eficiente, as como para proporcionar informacin de informes."}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de origen:"})," Son establecidas directamente por el propietario del sitio web o aplicacin que est visitando (en este caso, Remesas A&M)."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de terceros:"})," Son establecidas por partes que no son el propietario del sitio web o aplicacin que est visitando."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"2. Por qu usamos Cookies?"}),c.jsx("p",{className:"mb-4",children:"Utilizamos cookies por varias razones:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies estrictamente necesarias:"})," Son esenciales para proporcionarle los servicios disponibles a travs de nuestra aplicacin y sitio web, como la autenticacin y la seguridad de la sesin. Sin estas cookies, nuestros servicios no pueden funcionar correctamente."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de rendimiento y funcionalidad:"})," Se utilizan para mejorar el rendimiento y la funcionalidad de nuestra aplicacin y sitio web. Por ejemplo, recuerdan sus preferencias (como el idioma o el tema) y le brindan una experiencia ms personalizada."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de anlisis y personalizacin:"})," Recopilan informacin que se utiliza de forma agregada para ayudarnos a comprender cmo se utilizan nuestros servicios, cun efectivas son nuestras campaas de marketing o para ayudarnos a personalizar nuestros servicios para usted."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de seguridad:"})," Para proteger la seguridad de su cuenta y nuestros servicios en general, por ejemplo, detectando intentos de inicio de sesin no autorizados."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"3. Qu tipos de Cookies usamos?"}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies de sesin:"})," Son temporales y se eliminan de su dispositivo cuando cierra su navegador o cierra la aplicacin."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Cookies persistentes:"})," Permanecen en su dispositivo durante un perodo de tiempo establecido o hasta que las elimine manualmente. Las utilizamos para recordar sus preferencias y mejorar la experiencia en visitas futuras."]})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"4. Cmo puede controlar las Cookies?"}),c.jsx("p",{className:"mb-4",children:"Tiene derecho a decidir si acepta o rechaza las cookies. Puede ejercer sus derechos de cookies configurando sus preferencias en el gestor de consentimiento de cookies que puede encontrar en el pie de pgina de nuestro sitio web o en la configuracin de privacidad de nuestra aplicacin (si aplica)."}),c.jsxs("ul",{className:"list-disc list-inside mb-4",children:[c.jsx("li",{children:"La mayora de los navegadores web le permiten configurar las preferencias de cookies. Para obtener ms informacin sobre cmo administrar las cookies, visite la seccin de ayuda de su navegador."}),c.jsx("li",{children:"Tenga en cuenta que si decide rechazar las cookies, es posible que algunas funcionalidades de nuestra aplicacin y sitio web no funcionen correctamente."})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"5. Cambios en nuestra Poltica de Cookies"}),c.jsx("p",{className:"mb-4",children:"Podemos actualizar esta Poltica de Cookies de vez en cuando para reflejar, por ejemplo, cambios en las cookies que utilizamos o por otras razones operativas, legales o reglamentarias. Le recomendamos que revise esta Poltica de Cookies peridicamente para mantenerse informado sobre nuestro uso de las cookies."}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"6. Contacto"}),c.jsxs("p",{className:"mb-4",children:["Si tiene alguna pregunta sobre nuestro uso de cookies u otras tecnologas, puede contactarnos en:",c.jsx("br",{}),"Email: remesasamcambios@gmail.com",c.jsx("br",{}),"Telfono: +51999357171, +51952344685"]}),c.jsx("p",{className:"text-xs text-gray-500 italic mt-6",children:"Fecha de ltima actualizacin: 1 de agosto de 2024"})]}),Rl=()=>c.jsxs("tr",{className:"animate-pulse",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})})]}),vN=()=>{const{countriesWithLatestRates:a,lastUpdated:t,isLoading:s,error:i}=io(),[l,u]=A.useState(!1),[d,m]=A.useState(""),[g,p]=A.useState(null),y=t?`ltima actualizacin: ${t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}`:"Actualizando...",b=(x,w)=>{m(x),p(w),u(!0)};return c.jsxs(xn,{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Informacin y Tasas"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Consulta los bancos, comisiones, tasas de cambio y nuestras polticas."}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-purple-600 dark:text-purple-400 mb-3",children:"Comisiones Detalladas"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left text-gray-600 dark:text-gray-300",children:[c.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Servicio"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Comisin"}),c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Notas"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Remesas Internacionales"}),c.jsxs("td",{className:"px-6 py-4 font-mono",children:[Jr*100,"%"]}),c.jsx("td",{className:"px-6 py-4",children:"Sin tarifa mnima fija."})]}),c.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Intercambio PayPal"}),c.jsxs("td",{className:"px-6 py-4 font-mono",children:[Rh*100,"%"]}),c.jsx("td",{className:"px-6 py-4",children:"Total (incluye envo y retiro)"})]}),c.jsxs("tr",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700",children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Intercambio Worldcoin (WLD)"}),c.jsx("td",{className:"px-6 py-4",children:"Variable"}),c.jsxs("td",{className:"px-6 py-4",children:["Mnimo ",Dh," WLD"]})]}),c.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:"Intercambio USDC"}),c.jsxs("td",{className:"px-6 py-4 font-mono",children:[Uh*100,"%"]}),c.jsxs("td",{className:"px-6 py-4",children:["Mnimo ",Mh," USDC"]})]})]})]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-indigo-600 dark:text-indigo-400 mb-3",children:"Montos Mnimos y Tiempos de Entrega"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left text-gray-600 dark:text-gray-300",children:[c.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Pas"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Monto Mnimo"}),c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Tiempo de Entrega"})]})}),c.jsx("tbody",{children:a.map((x,w,_)=>c.jsxs("tr",{className:`bg-white dark:bg-gray-800 ${w!==_.length-1?"border-b dark:border-gray-700":""}`,children:[c.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white flex items-center gap-2",children:[c.jsx(un,{countryCode:x.code,className:"w-5 h-auto rounded-sm"}),x.name]}),c.jsx("td",{className:"px-6 py-4 font-mono",children:`${x.minimumSendAmount.toLocaleString("es-ES")} ${x.currency}`}),c.jsx("td",{className:"px-6 py-4",children:x.region==="LatAm"?"Instantneo":"2 das hbiles"})]},x.code))})]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-3",children:"Tasas de Cambio de Referencia (desde USD)"}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-sm text-left text-gray-600 dark:text-gray-300",children:[c.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Pas"}),c.jsx("th",{scope:"col",className:"px-6 py-3",children:"Moneda"}),c.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Tasa (1 USD )"})]})}),c.jsx("tbody",{children:s&&!t?c.jsxs(c.Fragment,{children:[c.jsx(Rl,{}),c.jsx(Rl,{}),c.jsx(Rl,{}),c.jsx(Rl,{})]}):a.filter(x=>x.currency!=="USD").map((x,w,_)=>c.jsxs("tr",{className:`bg-white dark:bg-gray-800 ${w!==_.length-1?"border-b dark:border-gray-700":""}`,children:[c.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:x.name}),c.jsx("td",{className:"px-6 py-4",children:x.currency}),c.jsx("td",{className:"px-6 py-4 font-mono",children:x.exchangeRateToUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:4})})]},x.code))})]}),c.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2 flex justify-between items-center",children:[c.jsx("span",{children:"Las tasas son referenciales y pueden cambiar."}),c.jsx("span",{className:`transition-opacity duration-300 ${s&&t?"opacity-50":"opacity-100"}`,children:i?c.jsx("span",{className:"text-red-500 font-medium",children:"Error al actualizar"}):y})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400 mb-3",children:"Bancos Disponibles por Pas"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(x=>c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:x.name}),c.jsx("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-300 text-sm mt-2",children:x.banks.map(w=>c.jsx("li",{children:w.name},w.name))})]},x.code))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[c.jsx(fN,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Polticas y Documentos Legales"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("button",{onClick:()=>b("Poltica de Privacidad",c.jsx(gN,{})),className:"w-full flex items-center justify-center py-3 px-4 border border-gray-300 dark:border-slate-700 rounded-lg text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:"Poltica de Privacidad"}),c.jsx("button",{onClick:()=>b("Trminos y Condiciones",c.jsx(pN,{})),className:"w-full flex items-center justify-center py-3 px-4 border border-gray-300 dark:border-slate-700 rounded-lg text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:"Trminos y Condiciones"}),c.jsx("button",{onClick:()=>b("Poltica de Cookies",c.jsx(yN,{})),className:"w-full flex items-center justify-center py-3 px-4 border border-gray-300 dark:border-slate-700 rounded-lg text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors md:col-span-2",children:"Poltica de Cookies"})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Es obligatorio que todos los usuarios completen la verificacin de identidad antes de procesar envos para cumplir con las regulaciones de seguridad. Todas las transacciones son registradas y los comprobantes se almacenan de forma segura. Puedes consultarlos en tu historial."})]})]}),c.jsx(wn,{children:l&&c.jsx(mN,{title:d,onClose:()=>u(!1),children:g})})]})},bN=({transaction:a,onClose:t})=>{const s=Ze.find(m=>m.code===a.from_country_code),i=Ze.find(m=>m.code===a.to_country_code),l={hidden:{opacity:0},visible:{opacity:1}},u={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}},d=({label:m,value:g,isMono:p=!1})=>c.jsxs("div",{className:"flex justify-between items-center py-3",children:[c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m}),c.jsx("span",{className:`text-sm font-medium text-gray-800 dark:text-white ${p?"font-mono":""}`,children:g})]});return c.jsx(Be.div,{variants:l,initial:"hidden",animate:"visible",exit:"hidden",onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs(Be.div,{variants:u,onClick:m=>m.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 dark:border-slate-700",children:[c.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Detalles de la Transaccin"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:a.transaction_id})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Cerrar modal",children:c.jsx(rc,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 p-4 rounded-xl flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[s&&c.jsx(un,{countryCode:s.code,className:"w-6 h-auto rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enviaste"}),c.jsxs("p",{className:"font-bold text-lg text-gray-800 dark:text-white",children:[a.amount_sent.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.currency_sent]})]})]}),c.jsx(Df,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),c.jsxs("div",{className:"flex items-center gap-2 text-right",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Recibieron"}),c.jsxs("p",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:[a.amount_received.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.currency_received]})]}),i&&c.jsx(un,{countryCode:i.code,className:"w-6 h-auto rounded-full"})]})]}),c.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[c.jsx(d,{label:"Beneficiario",value:a.recipient_name}),c.jsx(d,{label:"Banco",value:a.recipient_bank}),c.jsx(d,{label:"N de Cuenta",value:a.recipient_account,isMono:!0}),c.jsx(d,{label:"ID Beneficiario",value:a.recipient_id,isMono:!0}),c.jsx(d,{label:"Comisin",value:`${a.fee.toFixed(2)} ${a.currency_sent}`}),c.jsx(d,{label:"Estado",value:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Completado"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:a.status})}),c.jsx(d,{label:"Fecha",value:new Date(a.created_at).toLocaleString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]},"modal")},"backdrop")},xN=({direction:a,isActive:t})=>t?a==="asc"?c.jsx("svg",{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-label":"Orden ascendente",children:c.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}):c.jsx("svg",{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-label":"Orden descendente",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}):c.jsx("svg",{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),wN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),jN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),Mf=({currentPage:a,totalPages:t,onPageChange:s,itemsPerPage:i=10,onItemsPerPageChange:l})=>{if(t<=1)return null;const u=()=>{a>1&&s(a-1)},d=()=>{a<t&&s(a+1)},m=p=>{p.preventDefault();const b=p.currentTarget.elements.namedItem("jumpPage"),x=Math.max(1,Math.min(t,Number(b.value)||1));s(x)},g=p=>{const y=Number(p.target.value);l?.(y)};return c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mt-4 px-4 py-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",htmlFor:"itemsPerPage",children:"Items por pgina"}),c.jsx("select",{id:"itemsPerPage",value:i,onChange:g,className:"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-2 py-1 text-sm text-gray-700 dark:text-gray-200",children:[5,10,20,50].map(p=>c.jsx("option",{value:p,children:p},p))}),c.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400","aria-live":"polite",children:["Pgina ",c.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:a})," de ",c.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:t})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:u,disabled:a===1,className:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Pgina anterior",children:[c.jsx(wN,{className:"w-4 h-4"}),"Anterior"]}),c.jsxs("button",{onClick:d,disabled:a===t,className:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Pgina siguiente",children:["Siguiente",c.jsx(jN,{className:"w-4 h-4"})]}),c.jsxs("form",{onSubmit:m,className:"flex items-center gap-2","aria-label":"Saltar a pgina especfica",children:[c.jsx("label",{htmlFor:"jumpPage",className:"sr-only",children:"Ir a pgina"}),c.jsx("input",{id:"jumpPage",name:"jumpPage",type:"number",min:1,max:t,defaultValue:a,className:"w-16 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md px-2 py-1 text-sm text-gray-700 dark:text-gray-200"}),c.jsx("button",{type:"submit",className:"px-3 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-100 dark:hover:bg-slate-600 transition-colors",children:"Ir"})]})]})]})},Dl=({label:a,sortKey:t,currentSortKey:s,currentDirection:i,onSort:l,className:u=""})=>{const d=s===t;return c.jsx("th",{scope:"col",className:`px-4 py-3 ${u}`,children:c.jsxs("button",{onClick:()=>l(t),className:"flex items-center gap-1.5 group transition-colors text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white","aria-label":`Ordenar por ${a}`,children:[c.jsx("span",{children:a}),c.jsx(xN,{direction:d?i:void 0,isActive:d})]})})},SN=({user:a})=>{const[t,s]=A.useState([]),[i,l]=A.useState(!0),[u,d]=A.useState(null),[m,g]=A.useState(null),[p,y]=A.useState("created_at"),[b,x]=A.useState("desc"),[w,_]=A.useState(1),[E,S]=A.useState(10);A.useEffect(()=>{(async()=>{try{l(!0),d(null);const{data:{session:q}}=await be.auth.getSession();if(!q)throw new Error("No hay sesin activa");const X=await fetch(`http://localhost:3001/api/remittances/history?userId=${a.id}`,{headers:{Authorization:`Bearer ${q.access_token}`}});if(!X.ok)throw new Error("Error al obtener el historial");const Q=await X.json();s(Q||[])}catch(q){console.error("Error fetching history:",q),d(q.message)}finally{l(!1)}})()},[a.id]);const k=M=>{M===p?x(q=>q==="asc"?"desc":"asc"):(y(M),x("asc")),_(1)},O=A.useMemo(()=>{const M=[...t];return M.sort((q,X)=>{const Q=q[p],he=X[p];return typeof Q=="number"&&typeof he=="number"?Q-he:typeof Q=="string"&&typeof he=="string"?p==="created_at"?new Date(Q).getTime()-new Date(he).getTime():Q.localeCompare(he):0}),b==="desc"&&M.reverse(),M},[t,p,b]),R=A.useMemo(()=>{const M=(w-1)*E;return O.slice(M,M+E)},[O,w,E]),z=Math.ceil(O.length/E),V=()=>i?c.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600 mx-auto mb-4"}),"Cargando historial..."]}):u?c.jsx("div",{className:"text-center p-12 text-red-500 bg-red-50 dark:bg-red-900/30 rounded-lg",children:u}):t.length===0?c.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),c.jsx("h3",{className:"mt-2 text-xl font-semibold text-gray-800 dark:text-white",children:"Sin Transacciones"}),c.jsx("p",{className:"mt-1 text-sm",children:"An no has realizado ningn envo. Empieza hoy!"})]}):c.jsxs("div",{children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300",children:c.jsxs("tr",{children:[c.jsx(Dl,{label:"Fecha",sortKey:"created_at",currentSortKey:p,currentDirection:b,onSort:k}),c.jsx(Dl,{label:"Destinatario",sortKey:"recipient_name",currentSortKey:p,currentDirection:b,onSort:k}),c.jsx(Dl,{label:"Monto Enviado",sortKey:"amount_sent",currentSortKey:p,currentDirection:b,onSort:k,className:"hidden sm:table-cell"}),c.jsx("th",{scope:"col",className:"px-4 py-3",children:"Ruta"}),c.jsx(Dl,{label:"Estado",sortKey:"status",currentSortKey:p,currentDirection:b,onSort:k})]})}),c.jsx("tbody",{children:R.map(M=>c.jsx(_N,{transaction:M,onClick:()=>g(M)},M.id))})]})}),c.jsx(Mf,{currentPage:w,totalPages:z,onPageChange:_,itemsPerPage:E,onItemsPerPageChange:M=>{S(M),_(1)}})]});return c.jsxs(c.Fragment,{children:[c.jsxs(xn,{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Historial de Transacciones"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Aqu puedes ver todos tus envos realizados. Haz clic en una fila para ver detalles u ordnalos por columna."}),V()]}),c.jsx(wn,{children:m&&c.jsx(bN,{transaction:m,onClose:()=>g(null)})})]})},_N=({transaction:a,onClick:t})=>{const s=Ze.find(l=>l.code===a.from_country_code),i=Ze.find(l=>l.code===a.to_country_code);return c.jsxs("tr",{onClick:t,className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/80 cursor-pointer transition-colors",children:[c.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-300",children:new Date(a.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),c.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white",children:a.recipient_name}),c.jsx("td",{className:"px-4 py-3 hidden sm:table-cell",children:c.jsxs("span",{className:"font-mono",children:[a.amount_sent.toLocaleString("en-US",{minimumFractionDigits:2})," ",a.currency_sent]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[s&&c.jsx(un,{countryCode:s.code,className:"w-5 h-auto rounded-full"}),c.jsx(Df,{className:"w-4 h-4 text-gray-400"}),i&&c.jsx(un,{countryCode:i.code,className:"w-5 h-auto rounded-full"})]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ${a.status==="COMPLETADO"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":a.status==="RECHAZADO"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":a.status==="VERIFICADO"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}`,children:a.status})})]})},EN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),TN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L13.196 7.196z"})}),kN=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),AN=({user:a,beneficiaryToEdit:t,onClose:s,onSave:i})=>{const[l,u]=A.useState({name:"",country_code:"VE",bank:"",account_number:"",document_id:""}),[d,m]=A.useState(!1),[g,p]=A.useState(null);A.useEffect(()=>{t&&u({name:t.name,country_code:t.country_code,bank:t.bank,account_number:t.account_number,document_id:t.document_id})},[t]);const y=S=>{const{name:k,value:O}=S.target;u(R=>({...R,[k]:O}))},b=async S=>{S.preventDefault(),m(!0),p(null);try{const k={...t,user_id:a.id,name:l.name,country_code:l.country_code,bank:l.bank,account_number:l.account_number,document_id:l.document_id},{error:O}=await be.from("beneficiaries").upsert(k);if(O)throw O;i()}catch(k){const O=k;p(O.message||"Error al guardar el beneficiario."),console.error(O)}finally{m(!1)}},x=Ze.find(S=>S.code===l.country_code)?.banks||[],w={hidden:{opacity:0},visible:{opacity:1}},_={hidden:{opacity:0,y:50,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.95}},E="mt-1 block w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:ring-indigo-500 focus:border-indigo-500 transition-colors";return c.jsx(Be.div,{variants:w,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsx(Be.div,{variants:_,onClick:S=>S.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-200 dark:border-slate-700",children:c.jsxs("form",{onSubmit:b,children:[c.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:t?"Editar Beneficiario":"Nuevo Beneficiario"}),c.jsx("button",{type:"button",onClick:s,className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-700",children:c.jsx(rc,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"name",id:"name",value:l.name,onChange:y,required:!0,className:E})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"country_code",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pas"}),c.jsx("select",{name:"country_code",id:"country_code",value:l.country_code,onChange:y,required:!0,className:E,children:Ze.map(S=>c.jsx("option",{value:S.code,children:S.name},S.code))})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bank",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Banco"}),c.jsxs("select",{name:"bank",id:"bank",value:l.bank,onChange:y,required:!0,className:E,children:[c.jsx("option",{value:"",disabled:!0,children:"Selecciona un banco"}),x.map(S=>c.jsx("option",{value:S.name,children:S.name},S.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Nmero de Cuenta"}),c.jsx("input",{type:"text",name:"account_number",id:"account_number",value:l.account_number,onChange:y,required:!0,className:E})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"document_id",className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:"Documento de Identidad (ID)"}),c.jsx("input",{type:"text",name:"document_id",id:"document_id",value:l.document_id,onChange:y,required:!0,className:E})]}),g&&c.jsx("p",{className:"text-red-500 text-sm text-center",children:g})]}),c.jsxs("footer",{className:"p-4 bg-gray-50 dark:bg-slate-900/50 flex justify-end items-center gap-4 rounded-b-2xl",children:[c.jsx("button",{type:"button",onClick:s,className:"text-gray-600 dark:text-gray-300 font-medium py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg disabled:bg-indigo-400 flex items-center justify-center w-28",children:d?c.jsx(Dn,{className:"w-5 h-5"}):"Guardar"})]})]})})})},yw=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),vw=({className:a})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A10.004 10.004 0 0012 5.292"})}),NN=({user:a,onSelectBeneficiary:t})=>{const[s,i]=A.useState([]),[l,u]=A.useState(!0),[d,m]=A.useState(null),[g,p]=A.useState(!1),[y,b]=A.useState(null),[x,w]=A.useState(1),[_,E]=A.useState(10),S=async()=>{try{u(!0);const{data:M,error:q}=await be.from("beneficiaries").select("*").eq("user_id",a.id).order("name",{ascending:!0});if(q)throw q;i(M||[])}catch(M){const q=M;m(q.message||"No se pudieron cargar los beneficiarios."),console.error(q)}finally{u(!1)}};A.useEffect(()=>{S()},[a.id]);const k=()=>{b(null),p(!0)},O=M=>{b(M),p(!0)},R=async M=>{if(window.confirm("Ests seguro de que quieres eliminar este beneficiario?"))try{const{error:q}=await be.from("beneficiaries").delete().eq("id",M);if(q)throw q;S()}catch(q){alert("Error al eliminar: "+q.message)}},z=()=>{p(!1),S()},V=()=>{if(l)return c.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600 mx-auto mb-4"}),"Cargando beneficiarios..."]});if(d)return c.jsx("div",{className:"text-center p-12 text-red-500 bg-red-50 dark:bg-red-900/30 rounded-lg",children:d});if(s.length===0)return c.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[c.jsx(vw,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-xl font-semibold text-gray-800 dark:text-white",children:"Sin Beneficiarios Guardados"}),c.jsx("p",{className:"mt-1 text-sm",children:"Aade tu primer beneficiario para agilizar tus envos."})]});const M=(x-1)*_,q=s.slice(M,M+_),X=Math.ceil(s.length/_)||1;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map(Q=>{const he=Ze.find(xe=>xe.code===Q.country_code);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[he&&c.jsx(un,{countryCode:he.code,className:"w-6 h-auto rounded-full"}),c.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:Q.name})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>O(Q),className:"p-1.5 rounded-md text-gray-500 hover:bg-gray-200 dark:hover:bg-slate-700","aria-label":"Editar beneficiario",children:c.jsx(TN,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(Q.id),className:"p-1.5 rounded-md text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50","aria-label":"Eliminar beneficiario",children:c.jsx(kN,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 pl-9",children:[c.jsx("p",{children:Q.bank}),c.jsxs("p",{className:"font-mono",children:["...",Q.account_number.slice(-4)]})]})]}),c.jsxs("button",{onClick:()=>t(Q),className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:[c.jsx(yw,{className:"w-4 h-4"}),"Enviar Dinero"]})]},Q.id)})}),c.jsx(Mf,{currentPage:x,totalPages:X,onPageChange:w,itemsPerPage:_,onItemsPerPageChange:Q=>{E(Q),w(1)}})]})};return c.jsxs(c.Fragment,{children:[c.jsxs(xn,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Mis Beneficiarios"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gestiona tus destinatarios para envos rpidos."})]}),c.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:[c.jsx(EN,{className:"w-5 h-5"}),c.jsx("span",{children:"Aadir"})]})]}),V()]}),c.jsx(wn,{children:g&&c.jsx(AN,{user:a,beneficiaryToEdit:y,onClose:()=>p(!1),onSave:z})})]})},CN=()=>({async*sendMessageStream({message:t}){yield{text:(await(await fetch("http://localhost:3001/api/assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",text:t}]})})).json()).text||""}}}),ON=()=>{const[a,t]=A.useState(!1),[s,i]=A.useState(""),[l,u]=A.useState([]),[d,m]=A.useState(!1),[g,p]=A.useState(!1),[y,b]=A.useState(!1),x=A.useRef(null),w=A.useRef(null),_=A.useRef(null);A.useEffect(()=>{if(a&&!x.current)try{x.current=CN(),u([{role:"model",text:"Hola! Soy tu asistente virtual de Remesas A&M. Cmo puedo ayudarte hoy?"}])}catch(S){console.error("Failed to create chat session:",S),u([{role:"model",text:"Lo siento, el asistente virtual no est disponible en este momento."}]),b(!0)}},[a]),A.useEffect(()=>{const S=_.current;S&&S.scrollHeight-S.clientHeight<=S.scrollTop+100&&w.current?.scrollIntoView({behavior:"smooth"})},[l]);const E=A.useCallback(async()=>{if(!s.trim()||d||!x.current||g||y)return;const S={role:"user",text:s};u(k=>[...k,S]),i(""),m(!0),p(!0),setTimeout(()=>p(!1),3e3);try{const k=await x.current.sendMessageStream({message:s});let O="";u(R=>[...R,{role:"model",text:""}]);for await(const R of k)O+=R.text,u(z=>{const V=[...z];return V[V.length-1].text=O,V})}catch(k){console.error("Gemini API error:",k);const O=k instanceof Error?k.message.toLowerCase():"";if(O.includes("api key")||O.includes("authentication")){const R="El asistente no est disponible por un problema de configuracin. Por favor, contacta al soporte.";u(z=>[...z,{role:"model",text:R}]),b(!0)}else u(R=>{const z=[...R];return z[z.length-1].text="Lo siento, ocurri un error. Por favor, intenta de nuevo.",z})}finally{m(!1)}},[s,d,g,y]);return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t(!a),className:"fixed bottom-6 right-6 bg-gradient-to-br from-purple-600 to-indigo-700 text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center transition-transform hover:scale-110","aria-label":"Open virtual assistant",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:[c.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),c.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h1a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]})}),a&&c.jsxs("div",{className:"fixed bottom-24 right-6 w-full max-w-sm h-[70vh] max-h-[600px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden",children:[c.jsxs("header",{className:"bg-gray-50 dark:bg-gray-900 p-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Asistente Virtual"}),c.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Online"})]}),c.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white",children:""})]}),c.jsx("div",{ref:_,className:"flex-1 p-4 overflow-y-auto",children:c.jsxs("div",{className:"space-y-4",children:[l.map((S,k)=>c.jsxs("div",{className:`flex items-end gap-2 ${S.role==="user"?"justify-end":""}`,children:[S.role==="model"&&c.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex-shrink-0"}),c.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${S.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-bl-none"}`,children:c.jsxs("p",{className:"text-sm",style:{whiteSpace:"pre-wrap"},children:[S.text,d&&S.role==="model"&&k===l.length-1&&!S.text?"...":""]})})]},k)),c.jsx("div",{ref:w})]})}),c.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:s,onChange:S=>i(S.target.value),onKeyPress:S=>S.key==="Enter"&&E(),placeholder:y?"Asistente no disponible":"Escribe un mensaje...",className:"flex-1 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-full py-2 px-4 text-gray-800 dark:text-white focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50",disabled:d||y}),c.jsx("button",{onClick:E,disabled:d||!s.trim()||g||y,className:"bg-indigo-600 text-white p-2 rounded-full disabled:bg-gray-400 dark:disabled:bg-gray-500 transition-colors",title:g?"Por favor espera antes de enviar otro mensaje.":"Enviar mensaje",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]})]})},RN="pineroanthony2@gmail.com",DN="9ddd1796-86f1-4c39-81c2-9e7c4b64ceda";function Bh(a){if(!a)return!1;const t=RN,s=DN;return t&&a.email===t||s&&a.id===s}async function Oi(){const{data:a}=await be.auth.getSession();return{Authorization:`Bearer ${a?.session?.access_token||""}`}}async function Ri(a,t){try{const s=await fetch(`http://localhost:3001${a}`,t);return s.ok?await s.json():null}catch{return null}}async function MN(){const a=await Oi(),t=await Ri("/api/admin/metrics",{headers:a});if(t)return t;const s=await be.from("transactions").select("amount_sent"),i=await be.from("profiles").select("id"),l=await be.from("verification_requests").select("id"),u=Array.isArray(s.data)?s.data.length:0,d=Array.isArray(s.data)?s.data.reduce((p,y)=>p+(Number(y.amount_sent)||0),0):0,m=Array.isArray(i.data)?i.data.length:0,g=Array.isArray(l.data)?l.data.length:0;return{totalTransactions:u,totalAmountSent:d,totalUsers:m,totalVerifications:g}}async function nh(){const a=await Oi(),t=await Ri("/api/admin/users",{headers:a});if(t)return t;const{data:s}=await be.from("profiles").select("*").order("created_at",{ascending:!1});return s||[]}async function UN(a,t){const s=await Oi();await Ri(`/api/admin/users/${a}`,{method:"PUT",headers:{"Content-Type":"application/json",...s},body:JSON.stringify(t)})===null&&await be.from("profiles").update(t).eq("id",a)}async function PN(a){const t=await Oi();await Ri(`/api/admin/users/${a}`,{method:"DELETE",headers:t})===null&&await be.from("profiles").delete().eq("id",a)}async function Mv(){const a=await Oi(),t=await Ri("/api/admin/settings",{headers:a});if(t)return t;const{data:s}=await be.from("settings").select("*");return s||[]}async function LN(a){const t=await Oi();await Ri("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(a)})===null&&await be.from("settings").upsert(a,{onConflict:"key"})}const BN=({user:a})=>{const[t,s]=A.useState([]),[i,l]=A.useState(!0),[u,d]=A.useState(null),[m,g]=A.useState(""),[p,y]=A.useState(""),[b,x]=A.useState(!1),[w,_]=A.useState({}),E={id_matches:"Coincidencia de ID",faces_match:"Rostros Coinciden",is_authentic:"Es Autntico",is_not_expired:"No Ha Expirado",address_matches:"Direccin Coincide",is_from_country:"Pas Correcto",no_parsing_errors:"Sin Errores de Lectura",document_type_matches:"Tipo de Documento Correcto"},S=["Documento ilegible o borroso","Documento vencido o expirado","El documento no coincide con los datos ingresados","La selfie no coincide con la foto del documento","La selfie est borrosa o muy oscura","El documento parece alterado o falso","Comprobante de domicilio no vlido o muy antiguo","Otro (especificar en notas)"],k=M=>{if(!M)return"";if(M.startsWith("http")||M.startsWith("data:"))return M;const{data:q}=be.storage.from("user-documents").getPublicUrl(M);return q.publicUrl},O=M=>w[M]?w[M]:k(M),R=async(M,q)=>{const X=q.currentTarget,Q=X.parentElement;if(w[M]){X.style.display="none",Q?.classList.add("bg-gray-200","flex","items-center","justify-center"),Q&&(Q.innerHTML='<span class="text-gray-500 text-sm p-2 text-center">Imagen no disponible</span>');return}console.log(" Imagen fall al cargar, intentando obtener URL firmada para:",M);try{let he="user-documents",xe=M;if(M.includes("/user-documents/")?(he="user-documents",xe=M.split("/user-documents/")[1]):M.includes("/kyc-documents/")&&(he="kyc-documents",xe=M.split("/kyc-documents/")[1]),xe.includes("?")&&(xe=xe.split("?")[0]),xe){const{data:ze,error:xt}=await be.storage.from(he).createSignedUrl(xe,3600);if(ze?.signedUrl){console.log(" URL firmada generada con xito"),_(Ye=>({...Ye,[M]:ze.signedUrl}));return}xt&&console.error("Error generando URL firmada:",xt)}}catch(he){console.error("Error en recuperacin de imagen:",he)}X.style.display="none",Q?.classList.add("bg-gray-200","flex","items-center","justify-center"),Q&&(Q.innerHTML='<span class="text-gray-500 text-sm p-2 text-center">Archivo no encontrado (404)</span>')};A.useEffect(()=>{z()},[]);const z=async()=>{try{l(!0);const{data:{session:M}}=await be.auth.getSession(),q=M?.access_token;if(!q){console.error(" No auth token found"),l(!1);return}console.log(" Fetching pending verifications...");const X=await fetch("http://localhost:3001/api/kyc/pending",{headers:{Authorization:`Bearer ${q}`}});if(console.log(" Response status:",X.status),!X.ok){const he=await X.text();throw console.error(" Server error:",X.status,he),new Error(`Failed to load verifications: ${X.status}`)}const Q=await X.json();console.log(" KYC Data received:",Q),Q.verifications&&Q.verifications.length>0?s(Q.verifications):(console.log(" No verifications found in response"),s([]))}catch(M){console.error(" Error loading verifications:",M),s([])}finally{l(!1)}},V=async M=>{if(u){if(!M&&!p){alert("Por favor selecciona un motivo de rechazo");return}x(!0);try{const{data:{session:q}}=await be.auth.getSession(),X=q?.access_token,Q=await fetch("http://localhost:3001/api/kyc/review",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({verificationId:u.id,adminId:a.id,approved:M,reason:M?null:p,notes:m})}),he=await Q.json();if(!Q.ok)throw new Error(he.error||"Failed to review verification");he.warning&&console.warn(he.warning),await z(),d(null),g(""),y("")}catch(q){console.error("Error reviewing verification:",q),alert("Error al procesar la revisin: "+(q instanceof Error?q.message:"Error desconocido"))}finally{x(!1)}}};return i?c.jsx(xn,{children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Dn,{className:"w-8 h-8 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cargando verificaciones..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(xn,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Verificaciones KYC Pendientes"}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.length," verificacin",t.length!==1?"es":""," pendiente",t.length!==1?"s":""]})]}),c.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white px-4 py-2 rounded-lg transition-colors",children:"Actualizar"})]}),t.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(bs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay verificaciones pendientes"})]}):c.jsx("div",{className:"space-y-4",children:t.map(M=>c.jsx("div",{className:"bg-gray-50 dark:bg-slate-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-indigo-500 transition-colors cursor-pointer",onClick:()=>d(M),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:M.profiles.full_name}),M.ai_confidence&&c.jsxs("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${M.ai_confidence>=.95?"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300":"bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-300"}`,children:["IA: ",(M.ai_confidence*100).toFixed(0),"%"]})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:M.profiles.email}),c.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Enviado: ",new Date(M.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 text-xs font-semibold rounded-full",children:M.status==="pending"?"Pendiente":"En Revisin"}),c.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Revisar"})]})]})},M.id))})]}),c.jsx(wn,{children:u&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsx(Be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-5xl shadow-2xl border border-gray-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Revisar Verificacin"}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.profiles.full_name,"  ",u.profiles.email]})]}),c.jsx("button",{onClick:()=>d(null),className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(Ll,{className:"w-6 h-6"})})]}),u.ai_validation&&c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2 flex items-center gap-2",children:[c.jsx("span",{children:""})," Validacin de IA",c.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${(u.ai_confidence||0)>=.95?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["Confianza: ",((u.ai_confidence||0)*100).toFixed(0),"%"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.entries(u.ai_validation.validations||{}).map(([M,q])=>{const X=M.replace(/([A-Z])/g,"_$1").toLowerCase(),Q=E[M]||E[X]||M.replace(/_/g," ");return c.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-900/50 p-2 rounded border border-gray-100 dark:border-gray-700",children:[c.jsx("span",{className:q?"text-green-600":"text-red-600",children:q?c.jsx(bs,{className:"w-4 h-4"}):c.jsx(Ll,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300 capitalize",children:Q})]},M)})}),u.ai_validation.summary&&c.jsxs("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 italic border-t border-blue-200 dark:border-blue-800 pt-2",children:['"',u.ai_validation.summary,'"']})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[c.jsx(pw,{className:"w-4 h-4"})," Documento de Identidad"]}),c.jsxs("div",{className:"aspect-video bg-gray-100 dark:bg-slate-900 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 relative group",children:[c.jsx("img",{src:O(u.id_document_url),alt:"Documento de Identidad",className:"w-full h-full object-contain",onError:M=>R(u.id_document_url,M)}),c.jsx("a",{href:O(u.id_document_url),target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-medium",children:"Ver original"})]}),c.jsxs("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2 mt-6",children:[c.jsx(fw,{className:"w-4 h-4"})," Selfie"]}),c.jsxs("div",{className:"aspect-square max-w-[300px] mx-auto bg-gray-100 dark:bg-slate-900 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 relative group",children:[c.jsx("img",{src:O(u.selfie_url),alt:"Selfie",className:"w-full h-full object-cover",onError:M=>R(u.selfie_url,M)}),c.jsx("a",{href:O(u.selfie_url),target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-medium",children:"Ver original"})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-4",children:"Decisin de Revisin"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notas internas (opcional)"}),c.jsx("textarea",{value:m,onChange:M=>g(M.target.value),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-indigo-500 focus:border-indigo-500",rows:3,placeholder:"Agrega notas para el registro..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motivo de rechazo (si aplica)"}),c.jsxs("select",{value:p,onChange:M=>y(M.target.value),className:"w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-red-500 focus:border-red-500 p-2.5",children:[c.jsx("option",{value:"",children:"-- Selecciona un motivo --"}),S.map(M=>c.jsx("option",{value:M,children:M},M))]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[c.jsxs("button",{onClick:()=>V(!1),disabled:b,className:"flex items-center justify-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:[b?c.jsx(Dn,{className:"w-5 h-5"}):c.jsx(Ll,{className:"w-5 h-5"}),"Rechazar"]}),c.jsxs("button",{onClick:()=>V(!0),disabled:b,className:"flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:[b?c.jsx(Dn,{className:"w-5 h-5 text-white"}):c.jsx(bs,{className:"w-5 h-5"}),"Aprobar Verificacin"]})]})]})})]})]})})})})]})},bw=6048e5,zN=864e5,Uv=Symbol.for("constructDateFrom");function Pa(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&Uv in a?a[Uv](t):a instanceof Date?new a.constructor(t):new Date(t)}function jn(a,t){return Pa(t||a,a)}let VN={};function oc(){return VN}function Zr(a,t){const s=oc(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=jn(a,t?.in),u=l.getDay(),d=(u<i?7:0)+u-i;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Ql(a,t){return Zr(a,{...t,weekStartsOn:1})}function xw(a,t){const s=jn(a,t?.in),i=s.getFullYear(),l=Pa(s,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=Ql(l),d=Pa(s,0);d.setFullYear(i,0,4),d.setHours(0,0,0,0);const m=Ql(d);return s.getTime()>=u.getTime()?i+1:s.getTime()>=m.getTime()?i:i-1}function Pv(a){const t=jn(a),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+a-+s}function qN(a,...t){const s=Pa.bind(null,t.find(i=>typeof i=="object"));return t.map(s)}function Lv(a,t){const s=jn(a,t?.in);return s.setHours(0,0,0,0),s}function FN(a,t,s){const[i,l]=qN(s?.in,a,t),u=Lv(i),d=Lv(l),m=+u-Pv(u),g=+d-Pv(d);return Math.round((m-g)/zN)}function HN(a,t){const s=xw(a,t),i=Pa(a,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ql(i)}function IN(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function $N(a){return!(!IN(a)&&typeof a!="number"||isNaN(+jn(a)))}function GN(a,t){const s=jn(a,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const YN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KN=(a,t,s)=>{let i;const l=YN[a];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};function ji(a){return(t={})=>{const s=t.width?String(t.width):a.defaultWidth;return a.formats[s]||a.formats[a.defaultWidth]}}const XN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JN={date:ji({formats:XN,defaultWidth:"full"}),time:ji({formats:WN,defaultWidth:"full"}),dateTime:ji({formats:QN,defaultWidth:"full"})},ZN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eC=(a,t,s,i)=>ZN[a];function Nn(a){return(t,s)=>{const i=s?.context?String(s.context):"standalone";let l;if(i==="formatting"&&a.formattingValues){const d=a.defaultFormattingWidth||a.defaultWidth,m=s?.width?String(s.width):d;l=a.formattingValues[m]||a.formattingValues[d]}else{const d=a.defaultWidth,m=s?.width?String(s.width):a.defaultWidth;l=a.values[m]||a.values[d]}const u=a.argumentCallback?a.argumentCallback(t):t;return l[u]}}const tC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oC=(a,t)=>{const s=Number(a),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},lC={ordinalNumber:oC,era:Nn({values:tC,defaultWidth:"wide"}),quarter:Nn({values:nC,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Nn({values:aC,defaultWidth:"wide"}),day:Nn({values:sC,defaultWidth:"wide"}),dayPeriod:Nn({values:iC,defaultWidth:"wide",formattingValues:rC,defaultFormattingWidth:"wide"})};function Cn(a){return(t,s={})=>{const i=s.width,l=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],m=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],g=Array.isArray(m)?uC(m,b=>b.test(d)):cC(m,b=>b.test(d));let p;p=a.valueCallback?a.valueCallback(g):g,p=s.valueCallback?s.valueCallback(p):p;const y=t.slice(d.length);return{value:p,rest:y}}}function cC(a,t){for(const s in a)if(Object.prototype.hasOwnProperty.call(a,s)&&t(a[s]))return s}function uC(a,t){for(let s=0;s<a.length;s++)if(t(a[s]))return s}function ww(a){return(t,s={})=>{const i=t.match(a.matchPattern);if(!i)return null;const l=i[0],u=t.match(a.parsePattern);if(!u)return null;let d=a.valueCallback?a.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const m=t.slice(l.length);return{value:d,rest:m}}}const dC=/^(\d+)(th|st|nd|rd)?/i,hC=/\d+/i,fC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mC={any:[/^b/i,/^(a|c)/i]},gC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pC={any:[/1/i,/2/i,/3/i,/4/i]},yC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SC={ordinalNumber:ww({matchPattern:dC,parsePattern:hC,valueCallback:a=>parseInt(a,10)}),era:Cn({matchPatterns:fC,defaultMatchWidth:"wide",parsePatterns:mC,defaultParseWidth:"any"}),quarter:Cn({matchPatterns:gC,defaultMatchWidth:"wide",parsePatterns:pC,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Cn({matchPatterns:yC,defaultMatchWidth:"wide",parsePatterns:vC,defaultParseWidth:"any"}),day:Cn({matchPatterns:bC,defaultMatchWidth:"wide",parsePatterns:xC,defaultParseWidth:"any"}),dayPeriod:Cn({matchPatterns:wC,defaultMatchWidth:"any",parsePatterns:jC,defaultParseWidth:"any"})},_C={code:"en-US",formatDistance:KN,formatLong:JN,formatRelative:eC,localize:lC,match:SC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EC(a,t){const s=jn(a,t?.in);return FN(s,GN(s))+1}function TC(a,t){const s=jn(a,t?.in),i=+Ql(s)-+HN(s);return Math.round(i/bw)+1}function jw(a,t){const s=jn(a,t?.in),i=s.getFullYear(),l=oc(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,d=Pa(t?.in||a,0);d.setFullYear(i+1,0,u),d.setHours(0,0,0,0);const m=Zr(d,t),g=Pa(t?.in||a,0);g.setFullYear(i,0,u),g.setHours(0,0,0,0);const p=Zr(g,t);return+s>=+m?i+1:+s>=+p?i:i-1}function kC(a,t){const s=oc(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=jw(a,t),u=Pa(t?.in||a,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Zr(u,t)}function AC(a,t){const s=jn(a,t?.in),i=+Zr(s,t)-+kC(s,t);return Math.round(i/bw)+1}function De(a,t){const s=a<0?"-":"",i=Math.abs(a).toString().padStart(t,"0");return s+i}const Oa={y(a,t){const s=a.getFullYear(),i=s>0?s:1-s;return De(t==="yy"?i%100:i,t.length)},M(a,t){const s=a.getMonth();return t==="M"?String(s+1):De(s+1,2)},d(a,t){return De(a.getDate(),t.length)},a(a,t){const s=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(a,t){return De(a.getHours()%12||12,t.length)},H(a,t){return De(a.getHours(),t.length)},m(a,t){return De(a.getMinutes(),t.length)},s(a,t){return De(a.getSeconds(),t.length)},S(a,t){const s=t.length,i=a.getMilliseconds(),l=Math.trunc(i*Math.pow(10,s-3));return De(l,t.length)}},fi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bv={G:function(a,t,s){const i=a.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(a,t,s){if(t==="yo"){const i=a.getFullYear(),l=i>0?i:1-i;return s.ordinalNumber(l,{unit:"year"})}return Oa.y(a,t)},Y:function(a,t,s,i){const l=jw(a,i),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return De(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):De(u,t.length)},R:function(a,t){const s=xw(a);return De(s,t.length)},u:function(a,t){const s=a.getFullYear();return De(s,t.length)},Q:function(a,t,s){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return De(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,t,s){const i=Math.ceil((a.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return De(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,t,s){const i=a.getMonth();switch(t){case"M":case"MM":return Oa.M(a,t);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(a,t,s){const i=a.getMonth();switch(t){case"L":return String(i+1);case"LL":return De(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(a,t,s,i){const l=AC(a,i);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):De(l,t.length)},I:function(a,t,s){const i=TC(a);return t==="Io"?s.ordinalNumber(i,{unit:"week"}):De(i,t.length)},d:function(a,t,s){return t==="do"?s.ordinalNumber(a.getDate(),{unit:"date"}):Oa.d(a,t)},D:function(a,t,s){const i=EC(a);return t==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):De(i,t.length)},E:function(a,t,s){const i=a.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(a,t,s,i){const l=a.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return De(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(a,t,s,i){const l=a.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return De(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(a,t,s){const i=a.getDay(),l=i===0?7:i;switch(t){case"i":return String(l);case"ii":return De(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(a,t,s){const l=a.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(a,t,s){const i=a.getHours();let l;switch(i===12?l=fi.noon:i===0?l=fi.midnight:l=i/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(a,t,s){const i=a.getHours();let l;switch(i>=17?l=fi.evening:i>=12?l=fi.afternoon:i>=4?l=fi.morning:l=fi.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(a,t,s){if(t==="ho"){let i=a.getHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return Oa.h(a,t)},H:function(a,t,s){return t==="Ho"?s.ordinalNumber(a.getHours(),{unit:"hour"}):Oa.H(a,t)},K:function(a,t,s){const i=a.getHours()%12;return t==="Ko"?s.ordinalNumber(i,{unit:"hour"}):De(i,t.length)},k:function(a,t,s){let i=a.getHours();return i===0&&(i=24),t==="ko"?s.ordinalNumber(i,{unit:"hour"}):De(i,t.length)},m:function(a,t,s){return t==="mo"?s.ordinalNumber(a.getMinutes(),{unit:"minute"}):Oa.m(a,t)},s:function(a,t,s){return t==="so"?s.ordinalNumber(a.getSeconds(),{unit:"second"}):Oa.s(a,t)},S:function(a,t){return Oa.S(a,t)},X:function(a,t,s){const i=a.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Vv(i);case"XXXX":case"XX":return hs(i);case"XXXXX":case"XXX":default:return hs(i,":")}},x:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"x":return Vv(i);case"xxxx":case"xx":return hs(i);case"xxxxx":case"xxx":default:return hs(i,":")}},O:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zv(i,":");case"OOOO":default:return"GMT"+hs(i,":")}},z:function(a,t,s){const i=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zv(i,":");case"zzzz":default:return"GMT"+hs(i,":")}},t:function(a,t,s){const i=Math.trunc(+a/1e3);return De(i,t.length)},T:function(a,t,s){return De(+a,t.length)}};function zv(a,t=""){const s=a>0?"-":"+",i=Math.abs(a),l=Math.trunc(i/60),u=i%60;return u===0?s+String(l):s+String(l)+t+De(u,2)}function Vv(a,t){return a%60===0?(a>0?"-":"+")+De(Math.abs(a)/60,2):hs(a,t)}function hs(a,t=""){const s=a>0?"-":"+",i=Math.abs(a),l=De(Math.trunc(i/60),2),u=De(i%60,2);return s+l+t+u}const qv=(a,t)=>{switch(a){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sw=(a,t)=>{switch(a){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NC=(a,t)=>{const s=a.match(/(P+)(p+)?/)||[],i=s[1],l=s[2];if(!l)return qv(a,t);let u;switch(i){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",qv(i,t)).replace("{{time}}",Sw(l,t))},CC={p:Sw,P:NC},OC=/^D+$/,RC=/^Y+$/,DC=["D","DD","YY","YYYY"];function MC(a){return OC.test(a)}function UC(a){return RC.test(a)}function PC(a,t,s){const i=LC(a,t,s);if(console.warn(i),DC.includes(a))throw new RangeError(i)}function LC(a,t,s){const i=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${t}\`) for formatting ${i} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VC=/^'([^]*?)'?$/,qC=/''/g,FC=/[a-zA-Z]/;function HC(a,t,s){const i=oc(),l=s?.locale??i.locale??_C,u=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,m=jn(a,s?.in);if(!$N(m))throw new RangeError("Invalid time value");let g=t.match(zC).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=CC[b];return x(y,l.formatLong)}return y}).join("").match(BC).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:IC(y)};if(Bv[b])return{isToken:!0,value:y};if(b.match(FC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});l.localize.preprocessor&&(g=l.localize.preprocessor(m,g));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return g.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!s?.useAdditionalWeekYearTokens&&UC(b)||!s?.useAdditionalDayOfYearTokens&&MC(b))&&PC(b,t,String(a));const x=Bv[b[0]];return x(m,b,l.localize,p)}).join("")}function IC(a){const t=a.match(VC);return t?t[1].replace(qC,"'"):a}const $C={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},GC=(a,t,s)=>{let i;const l=$C[a];return typeof l=="string"?i=l:t===1?i=l.one:i=l.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"en "+i:"hace "+i:i},YC={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},KC={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},XC={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WC={date:ji({formats:YC,defaultWidth:"full"}),time:ji({formats:KC,defaultWidth:"full"}),dateTime:ji({formats:XC,defaultWidth:"full"})},QC={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},JC={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},ZC=(a,t,s,i)=>t.getHours()!==1?JC[a]:QC[a],e3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},t3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},n3={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},a3={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},s3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},i3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},r3=(a,t)=>Number(a)+"",o3={ordinalNumber:r3,era:Nn({values:e3,defaultWidth:"wide"}),quarter:Nn({values:t3,defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:Nn({values:n3,defaultWidth:"wide"}),day:Nn({values:a3,defaultWidth:"wide"}),dayPeriod:Nn({values:s3,defaultWidth:"wide",formattingValues:i3,defaultFormattingWidth:"wide"})},l3=/^(\d+)()?/i,c3=/\d+/i,u3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},d3={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},h3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},f3={any:[/1/i,/2/i,/3/i,/4/i]},m3={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},g3={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},p3={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},y3={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},v3={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},b3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},x3={ordinalNumber:ww({matchPattern:l3,parsePattern:c3,valueCallback:function(a){return parseInt(a,10)}}),era:Cn({matchPatterns:u3,defaultMatchWidth:"wide",parsePatterns:d3,defaultParseWidth:"any"}),quarter:Cn({matchPatterns:h3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Cn({matchPatterns:m3,defaultMatchWidth:"wide",parsePatterns:g3,defaultParseWidth:"any"}),day:Cn({matchPatterns:p3,defaultMatchWidth:"wide",parsePatterns:y3,defaultParseWidth:"any"}),dayPeriod:Cn({matchPatterns:v3,defaultMatchWidth:"any",parsePatterns:b3,defaultParseWidth:"any"})},w3={code:"es",formatDistance:GC,formatLong:WC,formatRelative:ZC,localize:o3,match:x3,options:{weekStartsOn:1,firstWeekContainsDate:1}},j3=()=>{const[a,t]=A.useState([]),[s,i]=A.useState(!0),[l,u]=A.useState(null),[d,m]=A.useState(null),g=async()=>{try{i(!0);const{data:{session:x}}=await be.auth.getSession();if(!x)throw new Error("No hay sesin activa");const w=await fetch("http://localhost:3001/api/admin/transactions",{headers:{Authorization:`Bearer ${x.access_token}`}});if(!w.ok)throw new Error("Error al obtener transacciones");const _=await w.json();t(_||[])}catch(x){console.error("Error fetching transactions:",x),u(x.message)}finally{i(!1)}};A.useEffect(()=>{g()},[]);const p=async(x,w)=>{console.log("handleStatusChange called:",{transaction_id:x,newStatus:w});try{console.log("Updating status in Supabase...");const{error:_}=await be.from("transactions").update({status:w,processed_at:new Date().toISOString()}).eq("transaction_id",x);if(_)throw console.error("Supabase error:",_),_;console.log("Status updated successfully, refreshing list..."),await g(),alert(` Estado cambiado a ${w} exitosamente`)}catch(_){console.error("handleStatusChange error:",_),alert(` Error: ${_.message}`)}},y=x=>{m(d===x?null:x)},b=x=>{const w={PENDIENTE:"bg-yellow-100 text-yellow-800",PROCESANDO:"bg-blue-100 text-blue-800",COMPLETADO:"bg-green-100 text-green-800",FALLIDO:"bg-red-100 text-red-800"};return c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${w[x]||"bg-gray-100"}`,children:x})};return s?c.jsx("div",{className:"p-4 text-center",children:"Cargando operaciones..."}):l?c.jsxs("div",{className:"p-4 text-red-600",children:["Error: ",l]}):c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Mesa de Operaciones"}),c.jsx("button",{onClick:g,className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Actualizar"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Fecha / ID"}),c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Usuario"}),c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Enva"}),c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Recibe"}),c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Estado"}),c.jsx("th",{className:"py-3 px-4 text-left font-medium text-gray-500 dark:text-gray-300",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.map(x=>c.jsxs(qh.Fragment,{children:[c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",onClick:()=>y(x.id),children:[c.jsxs("td",{className:"py-3 px-4",children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:HC(new Date(x.created_at),"dd MMM HH:mm",{locale:w3})}),c.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[x.transaction_id.slice(0,8),"..."]})]}),c.jsxs("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:[x.user_id.slice(0,8),"..."]}),c.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900 dark:text-white",children:[x.amount_sent.toLocaleString()," ",x.currency_sent]}),c.jsxs("td",{className:"py-3 px-4 font-medium text-green-600 dark:text-green-400",children:[x.amount_received.toLocaleString()," ",x.currency_received]}),c.jsx("td",{className:"py-3 px-4",children:b(x.status)}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",onClick:w=>w.stopPropagation(),children:[x.status==="PENDIENTE"&&c.jsx("button",{onClick:()=>p(x.transaction_id,"PROCESANDO"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"Verificar"}),x.status==="PROCESANDO"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(x.transaction_id,"COMPLETADO"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs",children:"Completar"}),c.jsx("button",{onClick:()=>p(x.transaction_id,"FALLIDO"),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",children:"Rechazar"})]})]})})]}),d===x.id&&c.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50",children:c.jsx("td",{colSpan:6,className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 border-b pb-1",children:"Detalles del Beneficiario"}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Nombre:"})," ",x.recipient_name]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Banco:"})," ",x.recipient_bank]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Cuenta:"})," ",x.recipient_account]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Documento:"})," ",x.recipient_id]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Pas Destino:"})," ",x.to_country_code]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 border-b pb-1",children:"Detalles Financieros"}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Comisin:"})," ",x.fee," ",x.currency_sent]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Tasa Implcita:"})," 1 ",x.currency_sent," = ",(x.amount_received/(x.amount_sent-x.fee)).toFixed(4)," ",x.currency_received]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"ID Completo:"})," ",x.transaction_id]}),x.receipt_url?c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Comprobante de Pago"}),c.jsx("a",{href:x.receipt_url,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:x.receipt_url,alt:"Comprobante",className:"max-w-full h-auto max-h-64 rounded-lg border border-gray-200 dark:border-gray-700 hover:opacity-90 transition-opacity"})})]}):c.jsx("div",{className:"mt-4 p-3 border-2 border-dashed border-gray-300 rounded-lg text-center",children:c.jsx("p",{className:"text-gray-400 text-xs",children:"Sin comprobante adjunto"})})]})]})})})]},x.id))})]})})]})};function S3({user:a}){const[t,s]=A.useState("Dashboard"),[i,l]=A.useState(null),[u,d]=A.useState([]),[m,g]=A.useState([]),[p,y]=A.useState(!1),[b,x]=A.useState(null),[w,_]=A.useState(1),[E,S]=A.useState(10);return A.useEffect(()=>{Bh(a)&&(async()=>{y(!0);try{const[k,O,R]=await Promise.all([MN(),nh(),Mv()]);l(k),d(O),g(R),x(null)}catch{x("No se pudo conectar al backend en http://localhost:3001. Verifica que el servidor est iniciado y variables SUPABASE_URL/SERVICE_ROLE estn configuradas.")}finally{y(!1)}})()},[a]),Bh(a)?c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Panel de Administracin"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto max-w-full",children:["Dashboard","Operaciones","Users","KYC","Settings"].map(k=>c.jsx("button",{onClick:()=>s(k),className:`px-3 py-2 rounded-md text-sm ${t===k?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:k},k))})]}),p&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cargando..."}),b&&c.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:b}),t==="Dashboard"&&i&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transacciones"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i.totalTransactions})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monto enviado"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i.totalAmountSent})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Usuarios"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i.totalUsers})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verificaciones"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:i.totalVerifications})]})]}),t==="Users"&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 sm:p-4",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[c.jsx("th",{className:"py-2",children:"Nombre"}),c.jsx("th",{className:"py-2",children:"Email"}),c.jsx("th",{className:"py-2",children:"Telfono"}),c.jsx("th",{className:"py-2",children:"Verificado"}),c.jsx("th",{className:"py-2",children:"Acciones"})]})}),c.jsx("tbody",{children:u.slice((w-1)*E,(w-1)*E+E).map(k=>c.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[c.jsx("td",{className:"py-2",children:k.full_name||""}),c.jsx("td",{className:"py-2",children:k.email||""}),c.jsx("td",{className:"py-2",children:k.phone||""}),c.jsx("td",{className:"py-2",children:k.is_verified?"S":"No"}),c.jsxs("td",{className:"py-2 flex gap-2",children:[c.jsx("button",{onClick:async()=>{await UN(k.id,{is_verified:!k.is_verified});const O=await nh();d(O)},className:"px-2 py-1 rounded bg-indigo-600 text-white text-xs sm:text-sm",children:"Toggle"}),c.jsx("button",{onClick:async()=>{await PN(k.id);const O=await nh();d(O)},className:"px-2 py-1 rounded bg-red-600 text-white text-xs sm:text-sm",children:"Eliminar"})]})]},k.id))})]})}),c.jsx(Mf,{currentPage:w,totalPages:Math.max(1,Math.ceil(u.length/E)),onPageChange:_,itemsPerPage:E,onItemsPerPageChange:k=>{S(k),_(1)}})]}),t==="KYC"&&c.jsx(BN,{user:a}),t==="Settings"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:c.jsx("div",{className:"space-y-2",children:m.map((k,O)=>c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded px-2 py-1 text-gray-800 dark:text-gray-200",value:k.value||"",onChange:R=>{const z=[...m];z[O]={...k,value:R.target.value},g(z)}}),c.jsx("button",{onClick:async()=>{await LN(k);const R=await Mv();g(R)},className:"px-2 py-1 rounded bg-indigo-600 text-white",children:"Guardar"})]},O))})}),t==="Operaciones"&&c.jsx(j3,{})]}):c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"Acceso denegado"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No tienes privilegios de administrador."})]})}const _3=({className:a})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h.01M15 12h.01M12 6.01V6"})]}),E3=a=>a?a.split(" ")[0]:"Usuario",T3=()=>c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-7 bg-gray-200 dark:bg-gray-700 rounded w-3/5 mb-4"}),c.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-4/5 mb-6"}),c.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded-lg w-48"})]}),k3=({user:a,onNewTransaction:t})=>{const[s,i]=A.useState(null),[l,u]=A.useState(!0),{countriesWithLatestRates:d}=io();return A.useEffect(()=>{(async()=>{if(!(!a?.id||d.length===0)){u(!0);try{const{data:g,error:p}=await be.from("transactions").select("amount_sent, currency_sent").eq("user_id",a.id);if(p)throw p;const y=g.length,b=g.reduce((x,w)=>{const E=d.find(k=>k.currency===w.currency_sent)?.exchangeRateToUSD||1,S=w.amount_sent/E;return x+S},0);i({transactionCount:y,totalSentUSD:b})}catch(g){console.error("Error fetching transaction summary:",g),i({transactionCount:0,totalSentUSD:0})}finally{u(!1)}}})()},[a.id,d]),c.jsx(xn,{className:"mb-8 bg-gradient-to-r from-indigo-50 via-purple-50 to-blue-50 dark:from-slate-800 dark:via-gray-800 dark:to-slate-900",children:l?c.jsx(T3,{}):c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:["Hola de nuevo, ",E3(a.fullName)," "]}),s&&s.transactionCount>0?c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Has enviado un total de ",c.jsx("strong",{className:"text-indigo-600 dark:text-indigo-400",children:s.totalSentUSD.toLocaleString("en-US",{style:"currency",currency:"USD"})})," en ",c.jsxs("strong",{className:"text-indigo-600 dark:text-indigo-400",children:[s.transactionCount," transacciones"]}),"."]}):c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Listo para tu primer envo! Realiza una transaccin para ver tu resumen aqu."})]}),c.jsx("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg whitespace-nowrap flex-shrink-0",children:"Realizar un Nuevo Envo"})]})})},ls=({label:a,isActive:t,onClick:s,icon:i})=>c.jsxs("button",{onClick:s,className:`flex-shrink-0 flex flex-col sm:flex-row items-center justify-center gap-2 p-2 sm:p-3 rounded-lg text-xs sm:text-sm font-medium transition-all duration-300 ${t?"bg-indigo-600 text-white shadow-lg":"bg-gray-200 hover:bg-gray-300 text-gray-600 dark:bg-gray-700/50 dark:hover:bg-gray-700 dark:text-gray-300"}`,children:[i,a]}),A3=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),Fv=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),N3=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),C3=({user:a,onProfileUpdate:t})=>{const[s,i]=A.useState(Ne.Calculator),l=A.useRef(null),[u,d]=A.useState(!1),[m,g]=A.useState(null);A.useEffect(()=>{s===Ne.Calculator&&u&&(l.current?.resetCalculator(),d(!1))},[s,u]);const p=w=>{g(w),i(Ne.Calculator)},y=()=>{g(null)},b=()=>{s===Ne.Calculator?l.current?.resetCalculator():(d(!0),i(Ne.Calculator)),y()},x=()=>{switch(s){case Ne.Calculator:return c.jsx(Rv,{ref:l,user:a,setActiveScreen:i,prefillData:m,onClearPrefill:y});case Ne.Exchange:return c.jsx(lN,{});case Ne.History:return c.jsx(SN,{user:a});case Ne.Profile:return c.jsx(hN,{user:a,onProfileUpdate:t});case Ne.Info:return c.jsx(vN,{});case Ne.Admin:return c.jsx(S3,{user:a});case Ne.Beneficiaries:return c.jsx(NN,{user:a,onSelectBeneficiary:p});default:return c.jsx(Rv,{ref:l,user:a,setActiveScreen:i,prefillData:null,onClearPrefill:y})}};return c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(QA,{user:a,setActiveScreen:i}),c.jsx("main",{className:"flex-grow p-2 sm:p-4 md:p-8 container mx-auto",children:c.jsxs("div",{className:"w-full max-w-full sm:max-w-4xl mx-auto",children:[c.jsx(k3,{user:a,onNewTransaction:b}),c.jsx("nav",{className:"bg-white dark:bg-gray-800 p-2 rounded-xl mb-8 shadow-md overflow-x-auto",children:c.jsxs("div",{className:"flex items-center gap-2 flex-nowrap min-w-max",children:[c.jsx(ls,{label:"Enviar",isActive:s===Ne.Calculator,onClick:()=>i(Ne.Calculator),icon:c.jsx(yw,{className:"h-5 w-5"})}),c.jsx(ls,{label:"Intercambiar",isActive:s===Ne.Exchange,onClick:()=>i(Ne.Exchange),icon:c.jsx(A3,{})}),c.jsx(ls,{label:"Beneficiarios",isActive:s===Ne.Beneficiaries,onClick:()=>i(Ne.Beneficiaries),icon:c.jsx(vw,{className:"h-5 w-5"})}),c.jsx(ls,{label:"Historial",isActive:s===Ne.History,onClick:()=>i(Ne.History),icon:c.jsx(_3,{className:"h-5 w-5"})}),c.jsx(ls,{label:"Perfil",isActive:s===Ne.Profile,onClick:()=>i(Ne.Profile),icon:c.jsx(Fv,{})}),c.jsx(ls,{label:"Info",isActive:s===Ne.Info,onClick:()=>i(Ne.Info),icon:c.jsx(N3,{})}),Bh(a)&&c.jsx(ls,{label:"Admin",isActive:s===Ne.Admin,onClick:()=>i(Ne.Admin),icon:c.jsx(Fv,{})})]})}),c.jsx(wn,{mode:"wait",children:c.jsx(Be.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},children:x()},s)})]})}),c.jsx(ON,{})]})},O3=()=>{const[a,t]=A.useState(null),[s,i]=A.useState(!0),l=async d=>{try{let{data:m,error:g}=await be.from("profiles").select("full_name, is_verified, phone").eq("id",d.id).single();if(g&&g.code==="PGRST116"){console.warn("Perfil no encontrado para nuevo usuario, reintentando en 1 segundo..."),await new Promise(y=>setTimeout(y,1e3));const p=await be.from("profiles").select("full_name, is_verified, phone").eq("id",d.id).single();m=p.data,g=p.error}return g?(console.error("Error fetching profile:",g.message),null):m?{...d,fullName:m.full_name||"",isVerified:m.is_verified||!1,phone:m.phone||""}:null}catch(m){return console.error("Ocurri un error inesperado en fetchUserProfile:",m.message),null}};A.useEffect(()=>{let d=null;return(async()=>{try{const{data:g}=await be.auth.getSession(),p=g?.session||null;if(p){const y=await l(p.user);t(y)}else t(null)}finally{i(!1)}d=be.auth.onAuthStateChange(async(g,p)=>{if(p){const y=await l(p.user);t(y)}else t(null)}).data||null})(),()=>{d?.subscription.unsubscribe()}},[]);const u=async d=>{if(!a)return;const m={};if(d.fullName!==void 0&&(m.full_name=d.fullName),d.isVerified!==void 0&&(m.is_verified=d.isVerified),d.phone!==void 0&&(m.phone=d.phone),Object.keys(m).length===0)return;const{error:g}=await be.from("profiles").update(m).eq("id",a.id);if(!g)t(p=>p?{...p,...d}:null);else throw console.error("Error updating profile:",g),g};return s?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-100 dark:from-gray-900 dark:to-slate-800 flex flex-col items-center justify-center transition-colors duration-300",children:c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsx(Be.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},children:c.jsx(Fh,{className:"h-32 w-auto"})}),c.jsx("div",{className:"w-48 h-1.5 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden relative",children:c.jsx(Be.div,{className:"absolute top-0 left-0 h-full w-1/4 bg-gradient-to-r from-transparent via-white/50 dark:via-white/20 to-transparent",initial:{x:"-150%"},animate:{x:"550%"},transition:{duration:2,repeat:1/0,ease:"linear"}})}),c.jsx(Be.p,{className:"text-sm text-gray-500 dark:text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"Conectando de forma segura..."})]})}):c.jsx(GA,{children:c.jsx(tN,{children:c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:a?c.jsx(C3,{user:a,onProfileUpdate:u}):c.jsx($A,{})})})})},_w=document.getElementById("root");if(!_w)throw new Error("Could not find root element to mount to");const R3=Wj.createRoot(_w);R3.render(c.jsx(qh.StrictMode,{children:c.jsx(O3,{})}));
